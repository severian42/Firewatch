import{r as ta,g as Xt}from"./react-vendor-Csw2ODfV.js";var un={exports:{}},ct={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qi;function na(){if(qi)return ct;qi=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,o,s){var a=null;if(s!==void 0&&(a=""+s),o.key!==void 0&&(a=""+o.key),"key"in o){s={};for(var u in o)u!=="key"&&(s[u]=o[u])}else s=o;return o=s.ref,{$$typeof:e,type:i,key:a,ref:o!==void 0?o:null,props:s}}return ct.Fragment=t,ct.jsx=n,ct.jsxs=n,ct}var Vi;function ia(){return Vi||(Vi=1,un.exports=na()),un.exports}var m=ia(),P=ta();const ow=Xt(P);var cn,Ui;function oa(){return Ui||(Ui=1,cn={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),cn}var ra=oa();const sa=Xt(ra);var la=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function Bi(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(sa[n[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var i=e.indexOf("-->");return{type:"comment",comment:i!==-1?e.slice(4,i):""}}for(var o=new RegExp(la),s=null;(s=o.exec(e))!==null;)if(s[0].trim())if(s[1]){var a=s[1].trim(),u=[a,""];a.indexOf("=")>-1&&(u=a.split("=")),t.attrs[u[0]]=u[1],o.lastIndex--}else s[2]&&(t.attrs[s[2]]=s[3].trim().substring(1,s[3].length-1));return t}var aa=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,ua=/^\s*$/,ca=Object.create(null);function Xr(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(n){var i=[];for(var o in n)i.push(o+'="'+n[o]+'"');return i.length?" "+i.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(Xr,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var fa={parse:function(e,t){t||(t={}),t.components||(t.components=ca);var n,i=[],o=[],s=-1,a=!1;if(e.indexOf("<")!==0){var u=e.indexOf("<");i.push({type:"text",content:u===-1?e:e.substring(0,u)})}return e.replace(aa,function(f,c){if(a){if(f!=="</"+n.name+">")return;a=!1}var d,p=f.charAt(1)!=="/",h=f.startsWith("<!--"),g=c+f.length,y=e.charAt(g);if(h){var C=Bi(f);return s<0?(i.push(C),i):((d=o[s]).children.push(C),i)}if(p&&(s++,(n=Bi(f)).type==="tag"&&t.components[n.name]&&(n.type="component",a=!0),n.voidElement||a||!y||y==="<"||n.children.push({type:"text",content:e.slice(g,e.indexOf("<",g))}),s===0&&i.push(n),(d=o[s-1])&&d.children.push(n),o[s]=n),(!p||n.voidElement)&&(s>-1&&(n.voidElement||n.name===f.slice(2,-1))&&(s--,n=s===-1?i:o[s]),!a&&y!=="<"&&y)){d=s===-1?i:o[s].children;var w=e.indexOf("<",g),x=e.slice(g,w===-1?void 0:w);ua.test(x)&&(x=" "),(w>-1&&s+d.length>=0||x!==" ")&&d.push({type:"text",content:x})}}),i},stringify:function(e){return e.reduce(function(t,n){return t+Xr("",n)},"")}};const Ft=(e,t,n,i)=>{var s,a,u,f;const o=[n,{code:t,...i||{}}];if((a=(s=e==null?void 0:e.services)==null?void 0:s.logger)!=null&&a.forward)return e.services.logger.forward(o,"warn","react-i18next::",!0);ye(o[0])&&(o[0]=`react-i18next:: ${o[0]}`),(f=(u=e==null?void 0:e.services)==null?void 0:u.logger)!=null&&f.warn?e.services.logger.warn(...o):console!=null&&console.warn&&console.warn(...o)},zi={},vt=(e,t,n,i)=>{ye(n)&&zi[n]||(ye(n)&&(zi[n]=new Date),Ft(e,t,n,i))},Qr=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},Pn=(e,t,n)=>{e.loadNamespaces(t,Qr(e,n))},Gi=(e,t,n,i)=>{if(ye(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return Pn(e,n,i);n.forEach(o=>{e.options.ns.indexOf(o)<0&&e.options.ns.push(o)}),e.loadLanguages(t,Qr(e,i))},da=(e,t,n={})=>!t.languages||!t.languages.length?(vt(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(i,o)=>{var s;if(((s=n.bindI18n)==null?void 0:s.indexOf("languageChanging"))>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!o(i.isLanguageChangingTo,e))return!1}}),ye=e=>typeof e=="string",Re=e=>typeof e=="object"&&e!==null,pa=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,ma={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"Â©","&#169;":"Â©","&reg;":"Â®","&#174;":"Â®","&hellip;":"â€¦","&#8230;":"â€¦","&#x2F;":"/","&#47;":"/"},ha=e=>ma[e],ga=e=>e.replace(pa,ha);let Rn={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:ga};const ya=(e={})=>{Rn={...Rn,...e}},Zr=()=>Rn;let jr;const xa=e=>{jr=e},ii=()=>jr,fn=(e,t)=>{var i;if(!e)return!1;const n=((i=e.props)==null?void 0:i.children)??e.children;return t?n.length>0:!!n},dn=e=>{var n,i;if(!e)return[];const t=((n=e.props)==null?void 0:n.children)??e.children;return(i=e.props)!=null&&i.i18nIsDynamicList?Ke(t):t},Ca=e=>Array.isArray(e)&&e.every(P.isValidElement),Ke=e=>Array.isArray(e)?e:[e],va=(e,t)=>{const n={...t};return n.props=Object.assign(e.props,t.props),n},es=(e,t,n,i)=>{if(!e)return"";let o="";const s=Ke(e),a=t!=null&&t.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return s.forEach((u,f)=>{if(ye(u)){o+=`${u}`;return}if(P.isValidElement(u)){const{props:c,type:d}=u,p=Object.keys(c).length,h=a.indexOf(d)>-1,g=c.children;if(!g&&h&&!p){o+=`<${d}/>`;return}if(!g&&(!h||p)||c.i18nIsDynamicList){o+=`<${f}></${f}>`;return}if(h&&p===1&&ye(g)){o+=`<${d}>${g}</${d}>`;return}const y=es(g,t,n,i);o+=`<${f}>${y}</${f}>`;return}if(u===null){Ft(n,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:i});return}if(Re(u)){const{format:c,...d}=u,p=Object.keys(d);if(p.length===1){const h=c?`${p[0]}, ${c}`:p[0];o+=`{{${h}}}`;return}Ft(n,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:i,child:u});return}Ft(n,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:i,child:u})}),o},_a=(e,t,n,i,o,s,a)=>{if(n==="")return[];const u=o.transKeepBasicHtmlNodesFor||[],f=n&&new RegExp(u.map(x=>`<${x}`).join("|")).test(n);if(!e&&!t&&!f&&!a)return[n];const c=t??{},d=x=>{Ke(x).forEach(v=>{ye(v)||(fn(v)?d(dn(v)):Re(v)&&!P.isValidElement(v)&&Object.assign(c,v))})};d(e);const p=fa.parse(`<0>${n}</0>`),h={...c,...s},g=(x,T,v)=>{var S;const A=dn(x),N=C(A,T.children,v);return Ca(A)&&N.length===0||(S=x.props)!=null&&S.i18nIsDynamicList?A:N},y=(x,T,v,A,N)=>{x.dummy?(x.children=T,v.push(P.cloneElement(x,{key:A},N?void 0:T))):v.push(...P.Children.map([x],S=>{const b={...S.props};return delete b.i18nIsDynamicList,P.createElement(S.type,{...b,key:A,ref:S.props.ref??S.ref},N?null:T)}))},C=(x,T,v)=>{const A=Ke(x);return Ke(T).reduce((S,b,q)=>{var E,M;const R=((M=(E=b.children)==null?void 0:E[0])==null?void 0:M.content)&&i.services.interpolator.interpolate(b.children[0].content,h,i.language);if(b.type==="tag"){let L=A[parseInt(b.name,10)];!L&&t&&(L=t[b.name]),v.length===1&&!L&&(L=v[0][b.name]),L||(L={});const F=Object.keys(b.attrs).length!==0?va({props:b.attrs},L):L,V=P.isValidElement(F),B=V&&fn(b,!0)&&!b.voidElement,X=f&&Re(F)&&F.dummy&&!V,ne=Re(t)&&Object.hasOwnProperty.call(t,b.name);if(ye(F)){const Y=i.services.interpolator.interpolate(F,h,i.language);S.push(Y)}else if(fn(F)||B){const Y=g(F,b,v);y(F,Y,S,q)}else if(X){const Y=C(A,b.children,v);y(F,Y,S,q)}else if(Number.isNaN(parseFloat(b.name)))if(ne){const Y=g(F,b,v);y(F,Y,S,q,b.voidElement)}else if(o.transSupportBasicHtmlNodes&&u.indexOf(b.name)>-1)if(b.voidElement)S.push(P.createElement(b.name,{key:`${b.name}-${q}`}));else{const Y=C(A,b.children,v);S.push(P.createElement(b.name,{key:`${b.name}-${q}`},Y))}else if(b.voidElement)S.push(`<${b.name} />`);else{const Y=C(A,b.children,v);S.push(`<${b.name}>${Y}</${b.name}>`)}else if(Re(F)&&!V){const Y=b.children[0]?R:null;Y&&S.push(Y)}else y(F,R,S,q,b.children.length!==1||!R)}else if(b.type==="text"){const L=o.transWrapTextNodes,F=a?o.unescape(i.services.interpolator.interpolate(b.content,h,i.language)):i.services.interpolator.interpolate(b.content,h,i.language);L?S.push(P.createElement(L,{key:`${b.name}-${q}`},F)):S.push(F)}return S},[])},w=C([{dummy:!0,children:e||[]}],p,Ke(e||[]));return dn(w[0])},ts=(e,t,n)=>{const i=e.key||t,o=P.cloneElement(e,{key:i});if(!o.props||!o.props.children||n.indexOf(`${t}/>`)<0&&n.indexOf(`${t} />`)<0)return o;function s(){return P.createElement(P.Fragment,null,o)}return P.createElement(s,{key:i})},Ta=(e,t)=>e.map((n,i)=>ts(n,i,t)),Sa=(e,t)=>{const n={};return Object.keys(e).forEach(i=>{Object.assign(n,{[i]:ts(e[i],i,t)})}),n},wa=(e,t,n,i)=>e?Array.isArray(e)?Ta(e,t):Re(e)?Sa(e,t):(vt(n,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:i}),null):null,ka=e=>!Re(e)||Array.isArray(e)?!1:Object.keys(e).reduce((t,n)=>t&&Number.isNaN(Number.parseFloat(n)),!0);function Ea({children:e,count:t,parent:n,i18nKey:i,context:o,tOptions:s={},values:a,defaults:u,components:f,ns:c,i18n:d,t:p,shouldUnescape:h,...g}){var V,B,X,ne,Y,he;const y=d||ii();if(!y)return vt(y,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:i}),e;const C=p||y.t.bind(y)||(_=>_),w={...Zr(),...(V=y.options)==null?void 0:V.react};let x=c||C.ns||((B=y.options)==null?void 0:B.defaultNS);x=ye(x)?[x]:x||["translation"];const T=es(e,w,y,i),v=u||T||w.transEmptyNodeValue||i,{hashTransKey:A}=w,N=i||(A?A(T||v):T||v);(ne=(X=y.options)==null?void 0:X.interpolation)!=null&&ne.defaultVariables&&(a=a&&Object.keys(a).length>0?{...a,...y.options.interpolation.defaultVariables}:{...y.options.interpolation.defaultVariables});const S=a||t!==void 0&&!((he=(Y=y.options)==null?void 0:Y.interpolation)!=null&&he.alwaysFormat)||!e?s.interpolation:{interpolation:{...s.interpolation,prefix:"#$?",suffix:"?$#"}},b={...s,context:o||s.context,count:t,...a,...S,defaultValue:v,ns:x},q=N?C(N,b):v,R=wa(f,q,y,i);let E=R||e,M=null;ka(R)&&(M=R,E=e);const L=_a(E,M,q,y,w,b,h),F=n??w.defaultTransParent;return F?P.createElement(F,g,L):L}const rw={type:"3rdParty",init(e){ya(e.options.react),xa(e)}},ns=P.createContext();class ba{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function Qt({children:e,count:t,parent:n,i18nKey:i,context:o,tOptions:s={},values:a,defaults:u,components:f,ns:c,i18n:d,t:p,shouldUnescape:h,...g}){var T;const{i18n:y,defaultNS:C}=P.useContext(ns)||{},w=d||y||ii(),x=p||(w==null?void 0:w.t.bind(w));return Ea({children:e,count:t,parent:n,i18nKey:i,context:o,tOptions:s,values:a,defaults:u,components:f,ns:c||(x==null?void 0:x.ns)||C||((T=w==null?void 0:w.options)==null?void 0:T.defaultNS),i18n:w,t:p,shouldUnescape:h,...g})}const Aa=(e,t)=>{const n=P.useRef();return P.useEffect(()=>{n.current=e},[e,t]),n.current},is=(e,t,n,i)=>e.getFixedT(t,n,i),Ia=(e,t,n,i)=>P.useCallback(is(e,t,n,i),[e,t,n,i]),oe=(e,t={})=>{var A,N,S,b;const{i18n:n}=t,{i18n:i,defaultNS:o}=P.useContext(ns)||{},s=n||i||ii();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new ba),!s){vt(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const q=(E,M)=>ye(M)?M:Re(M)&&ye(M.defaultValue)?M.defaultValue:Array.isArray(E)?E[E.length-1]:E,R=[q,{},!1];return R.t=q,R.i18n={},R.ready=!1,R}(A=s.options.react)!=null&&A.wait&&vt(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...Zr(),...s.options.react,...t},{useSuspense:u,keyPrefix:f}=a;let c=o||((N=s.options)==null?void 0:N.defaultNS);c=ye(c)?[c]:c||["translation"],(b=(S=s.reportNamespaces).addUsedNamespaces)==null||b.call(S,c);const d=(s.isInitialized||s.initializedStoreOnce)&&c.every(q=>da(q,s,a)),p=Ia(s,t.lng||null,a.nsMode==="fallback"?c:c[0],f),h=()=>p,g=()=>is(s,t.lng||null,a.nsMode==="fallback"?c:c[0],f),[y,C]=P.useState(h);let w=c.join();t.lng&&(w=`${t.lng}${w}`);const x=Aa(w),T=P.useRef(!0);P.useEffect(()=>{const{bindI18n:q,bindI18nStore:R}=a;T.current=!0,!d&&!u&&(t.lng?Gi(s,t.lng,c,()=>{T.current&&C(g)}):Pn(s,c,()=>{T.current&&C(g)})),d&&x&&x!==w&&T.current&&C(g);const E=()=>{T.current&&C(g)};return q&&(s==null||s.on(q,E)),R&&(s==null||s.store.on(R,E)),()=>{T.current=!1,s&&(q==null||q.split(" ").forEach(M=>s.off(M,E))),R&&s&&R.split(" ").forEach(M=>s.store.off(M,E))}},[s,w]),P.useEffect(()=>{T.current&&d&&C(h)},[s,f,d]);const v=[y,s,d];if(v.t=y,v.i18n=s,v.ready=d,d||!d&&!u)return v;throw new Promise(q=>{t.lng?Gi(s,t.lng,c,()=>q()):Pn(s,c,()=>q())})},Na=()=>m.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),os=()=>m.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),Ma=({className:e="w-6 h-6"})=>m.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 20.917l9 3 9-3a12.02 12.02 0 00-2.382-9.971z"})}),Pa=()=>m.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),rs=({className:e="w-6 h-6"})=>m.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16.712 4.33a9.027 9.027 0 011.652 1.306c.51.51.944 1.064 1.306 1.652M16.712 4.33l-3.448 4.138m3.448-4.138a9.014 9.014 0 00-9.424 0M19.67 7.288l-4.138 3.448m4.138-3.448a9.014 9.014 0 010 9.424m-2.36-2.36l-4.138 3.448m0 0a9.027 9.027 0 01-1.652-1.306c-.51-.51-.944-1.064-1.306-1.652m0 0l3.448-4.138m0 0a9.014 9.014 0 019.424 0M4.33 16.712l4.138-3.448m0 0a9.014 9.014 0 010-9.424"})}),Ra=({className:e="w-6 h-6"})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.438.995s.145.755.438.995l1.003.827c.48.398.668 1.05.26 1.431l-1.296 2.247a1.125 1.125 0 01-1.37.49l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.332.183-.582.495-.645.87l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.282c-.063-.374-.313-.686-.645-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.37-.49l-1.296-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.437-.995s-.145-.755-.437-.995l-1.004-.827a1.125 1.125 0 01-.26-1.431l1.296-2.247a1.125 1.125 0 011.37-.49l1.217.456c.355.133.75.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.645-.87l.213-1.281z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),ss=({className:e="w-5 h-5"})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})}),Ve=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),Dn=({className:e="w-8 h-8"})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,viewBox:"0 0 24 24",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm-1.72 6.97a.75.75 0 10-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 101.06 1.06L12 13.06l1.72 1.72a.75.75 0 101.06-1.06L13.06 12l1.72-1.72a.75.75 0 10-1.06-1.06L12 10.94l-1.72-1.72z",clipRule:"evenodd"})}),Zt=({className:e="h-6 w-6"})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),Da=({className:e="w-6 h-6"})=>m.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),jt=({className:e="h-6 w-6"})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),_t=({className:e="h-6 w-6"})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),oi=({className:e="w-6 h-6"})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})}),La=({className:e="w-6 h-6"})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l5.447 2.724A1 1 0 0021 16.382V5.618a1 1 0 00-1.447-.894L15 7m0 10l-6-3m6 3V7m0 10L9 7"})}),ls=({className:e="w-5 h-5"})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a.75.75 0 00-1.06-1.06L9 10.94l-1.72-1.72a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.06 0l3.75-3.75z",clipRule:"evenodd"})}),qt=({className:e="w-6 h-6"})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126z"})}),Vt=({className:e="w-8 h-8"})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193l-3.722.26c-1.131.079-2.274-.216-3.227-.792L11.25 14.51l-3.722-.261c-1.131-.079-2.274.216-3.227.792L.75 15.25l-.01-4.286c0-.97.616-1.813 1.5-2.097L4.5 7.5l3.75 3.75 3.75-3.75 3.75 1.011z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 7.5v6m15-6v6"})]}),Fa=({className:e="w-8 h-8"})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})}),qa=({className:e="w-6 h-6"})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 015.25 6h.008a2.25 2.25 0 012.242 2.15 2.25 2.25 0 01-.672 1.586m5.8 0c-.346.241-.69.46-1.044.643a2.25 2.25 0 01-2.286 0c-.354-.183-.698-.398-1.044-.643m5.8 0l4.87-3.327a2.25 2.25 0 00-2.18-4.002H8.25a2.25 2.25 0 00-2.18 4.002l4.87 3.327M12 21a2.25 2.25 0 01-2.25-2.25V15a2.25 2.25 0 012.25-2.25h.008a2.25 2.25 0 012.25 2.25v3.75a2.25 2.25 0 01-2.25 2.25H12z"})}),$i=({className:e="w-6 h-6"})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),Va=({className:e="w-4 h-4"})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,viewBox:"0 0 20 20",fill:"currentColor",children:[m.jsx("path",{d:"M12.232 4.232a2.5 2.5 0 013.536 3.536l-1.225 1.224a.75.75 0 001.061 1.06l1.224-1.224a4 4 0 00-5.656-5.656l-3 3a4 4 0 00.225 5.865.75.75 0 00.977-1.138 2.5 2.5 0 01-.142-3.665l3-3z"}),m.jsx("path",{d:"M8.603 14.53a2.5 2.5 0 01-3.536-3.536l1.225-1.224a.75.75 0 00-1.061-1.06l-1.224 1.224a4 4 0 005.656 5.656l3-3a4 4 0 00-.225-5.865.75.75 0 00-.977 1.138 2.5 2.5 0 01.142 3.665l-3 3z"})]}),Ua=({className:e="w-6 h-6"})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),Ba=({className:e="w-5 h-5"})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e,children:[m.jsx("path",{d:"M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"}),m.jsx("path",{d:"M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"})]}),za=({className:e="w-6 h-6"})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),Ga=({className:e="w-6 h-6"})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,viewBox:"0 0 24 24",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.254 2.729 7.89 6.536 9.167.48.089.654-.208.654-.46V19.03c-2.718.592-3.295-1.246-3.295-1.246-.444-1.127-1.085-1.428-1.085-1.428-.887-.604.068-.592.068-.592.98.07 1.496.994 1.496.994.87 1.494 2.285 1.063 2.838.812.088-.631.341-1.064.62-1.309-2.169-.245-4.44-1.084-4.44-4.834 0-1.064.38-1.93.996-2.613-.1-.247-.43-1.238.096-2.583 0 0 .81-.26 2.64.996.775-.215 1.603-.323 2.427-.323.824 0 1.652.108 2.427.323 1.83-1.256 2.64-.996 2.64-.996.526 1.345.195 2.336.096 2.583.617.683.996 1.549.996 2.613 0 3.76-2.274 4.583-4.448 4.825.347.298.653.882.653 1.776v2.632c0 .256.17.553.658.455C20.274 19.89 23 16.257 23 12c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})}),$a=({className:e="w-6 h-6"})=>m.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),Ha=e=>[e("key_phrases.detained"),e("key_phrases.silent"),e("key_phrases.lawyer"),e("key_phrases.no_consent"),e("key_phrases.warrant")],Ja=e=>[{text:e("checklist.date_time_location"),completed:!1},{text:e("checklist.officer_names_badges"),completed:!1},{text:e("checklist.patrol_car_numbers"),completed:!1},{text:e("checklist.record_injuries"),completed:!1},{text:e("checklist.witness_info"),completed:!1},{text:e("checklist.write_down_everything"),completed:!1},{text:e("checklist.do_not_resist"),completed:!1}],sw=e=>[{id:"Home",label:e("nav.home"),icon:m.jsx(Na,{})},{id:"Alerts",label:e("nav.alerts"),icon:m.jsx(os,{})},{id:"Rights",label:e("nav.rights"),icon:m.jsx(Ma,{})},{id:"Document",label:e("nav.document"),icon:m.jsx(Pa,{})},{id:"Guide",label:e("nav.guide"),icon:m.jsx(rs,{})},{id:"Settings",label:e("nav.settings"),icon:m.jsx(Ra,{})}],Oa=e=>[{id:"traffic_stop",title:e("rights_topics.traffic_stop"),icon:"ðŸš—"},{id:"home_visit",title:e("rights_topics.home_visit"),icon:"ðŸ "},{id:"workplace_raid",title:e("rights_topics.workplace_raid"),icon:"ðŸ¢"},{id:"public_protest",title:e("rights_topics.public_protest"),icon:"ðŸ“£"},{id:"questioning",title:e("rights_topics.questioning"),icon:"â“"},{id:"filming_police",title:e("rights_topics.filming_police"),icon:"ðŸ“¹"}],Wa=e=>[{id:"traffic_stop_sim",title:e("simulators.traffic_stop"),icon:m.jsx(Vt,{className:"w-8 h-8"})},{id:"workplace_raid_sim",title:e("simulators.workplace_raid"),icon:m.jsx(Vt,{className:"w-8 h-8"})},{id:"home_visit_sim",title:e("simulators.home_visit"),icon:m.jsx(Vt,{className:"w-8 h-8"})},{id:"rights_quiz",title:e("simulators.rights_quiz"),icon:m.jsx(Fa,{className:"w-8 h-8"})}],Ya=e=>[{name:e("emergency_numbers.services"),number:"911"},{name:e("emergency_numbers.aclu"),number:"1-212-549-2500"},{name:e("emergency_numbers.nlg"),number:"1-212-679-5100"},{name:e("emergency_numbers.immigration_hotline"),number:"1-844-363-1423"},{name:e("emergency_numbers.bail_fund"),number:"1-800-898-0692"}];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ka,Xa;function Qa(){return{geminiUrl:Ka,vertexUrl:Xa}}function Za(e,t,n){var i,o,s;if(!(!((i=e.httpOptions)===null||i===void 0)&&i.baseUrl)){const a=Qa();return e.vertexai?(o=a.vertexUrl)!==null&&o!==void 0?o:t:(s=a.geminiUrl)!==null&&s!==void 0?s:n}return e.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ze{}function z(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(t,o)){const s=t[o];return s!=null?String(s):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function l(e,t,n){for(let s=0;s<t.length-1;s++){const a=t[s];if(a.endsWith("[]")){const u=a.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(e[u])){const f=e[u];if(Array.isArray(n))for(let c=0;c<f.length;c++){const d=f[c];l(d,t.slice(s+1),n[c])}else for(const c of f)l(c,t.slice(s+1),n)}return}else if(a.endsWith("[0]")){const u=a.slice(0,-3);u in e||(e[u]=[{}]);const f=e[u];l(f[0],t.slice(s+1),n);return}(!e[a]||typeof e[a]!="object")&&(e[a]={}),e=e[a]}const i=t[t.length-1],o=e[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else e[i]=n}function r(e,t){try{if(t.length===1&&t[0]==="_self")return e;for(let n=0;n<t.length;n++){if(typeof e!="object"||e===null)return;const i=t[n];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in e){const s=e[o];return Array.isArray(s)?s.map(a=>r(a,t.slice(n+1))):void 0}else return}else e=e[i]}return e}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Hi;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Hi||(Hi={}));var Ji;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Ji||(Ji={}));var te;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(te||(te={}));var Oi;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Oi||(Oi={}));var Wi;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(Wi||(Wi={}));var Yi;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(Yi||(Yi={}));var Ki;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Ki||(Ki={}));var Xi;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(Xi||(Xi={}));var Qi;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Qi||(Qi={}));var Zi;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Zi||(Zi={}));var ji;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(ji||(ji={}));var eo;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(eo||(eo={}));var to;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(to||(to={}));var no;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(no||(no={}));var io;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY"})(io||(io={}));var oo;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(oo||(oo={}));var $t;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})($t||($t={}));var ro;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ro||(ro={}));var Ln;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ln||(Ln={}));var so;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(so||(so={}));var lo;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(lo||(lo={}));var ao;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(ao||(ao={}));var uo;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(uo||(uo={}));var co;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(co||(co={}));var fo;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(fo||(fo={}));var po;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(po||(po={}));var mo;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(mo||(mo={}));var ho;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ho||(ho={}));var go;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(go||(go={}));var yo;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(yo||(yo={}));var xo;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(xo||(xo={}));var Co;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(Co||(Co={}));var vo;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(vo||(vo={}));var _o;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(_o||(_o={}));var To;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(To||(To={}));var So;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(So||(So={}));var wo;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(wo||(wo={}));var ko;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(ko||(ko={}));var Eo;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Eo||(Eo={}));var bo;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(bo||(bo={}));var Ao;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Ao||(Ao={}));var Xe;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Xe||(Xe={}));class Fn{constructor(t){const n={};for(const i of t.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class ft{get text(){var t,n,i,o,s,a,u,f;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",d=!1;const p=[];for(const h of(f=(u=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[g,y]of Object.entries(h))g!=="text"&&g!=="thought"&&(y!==null||y!==void 0)&&p.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,c+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get data(){var t,n,i,o,s,a,u,f;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const d=[];for(const p of(f=(u=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[h,g]of Object.entries(p))h!=="inlineData"&&(g!==null||g!==void 0)&&d.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(c+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var t,n,i,o,s,a,u,f;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(f=(u=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var t,n,i,o,s,a,u,f,c;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(f=(u=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var t,n,i,o,s,a,u,f,c;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(f=(u=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.output}}class Io{}class No{}class ja{}class eu{}class Mo{}class Po{}class Ro{}class tu{}class Do{}class Lo{}class Fo{}class nu{}class iu{}class ou{}class qo{}class ru{get text(){var t,n,i;let o="",s=!1;const a=[];for(const u of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[f,c]of Object.entries(u))f!=="text"&&f!=="thought"&&c!==null&&a.push(f);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;s=!0,o+=u.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?o:void 0}get data(){var t,n,i;let o="";const s=[];for(const a of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[u,f]of Object.entries(a))u!=="inlineData"&&f!==null&&s.push(u);a.inlineData&&typeof a.inlineData.data=="string"&&(o+=atob(a.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class su{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function K(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function as(e,t){const n=K(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function us(e){return Array.isArray(e)?e.map(t=>Ht(t)):[Ht(e)]}function Ht(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function cs(e){const t=Ht(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function fs(e){const t=Ht(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Vo(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function ds(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>Vo(t)):[Vo(e)]}function qn(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function Uo(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function Bo(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function se(e){if(e==null)throw new Error("ContentUnion is required");return qn(e)?e:{role:"user",parts:ds(e)}}function ps(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const i=se(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(e.isVertexAI()){const n=se(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>se(n)):[se(t)]}function xe(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(Uo(e)||Bo(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[se(e)]}const t=[],n=[],i=qn(e[0]);for(const o of e){const s=qn(o);if(s!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)t.push(o);else{if(Uo(o)||Bo(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||t.push({role:"user",parts:ds(n)}),t}function lu(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(i=>i!=="null");if(n.length===1)t.type=Object.values(te).includes(n[0].toUpperCase())?n[0].toUpperCase():te.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const i of n)t.anyOf.push({type:Object.values(te).includes(i.toUpperCase())?i.toUpperCase():te.TYPE_UNSPECIFIED})}}function Qe(e){const t={},n=["items"],i=["anyOf"],o=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=e.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(t.nullable=!0,e=s[1]):s[1].type==="null"&&(t.nullable=!0,e=s[0])),e.type instanceof Array&&lu(e.type,t);for(const[a,u]of Object.entries(e))if(u!=null)if(a=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(te).includes(u.toUpperCase())?u.toUpperCase():te.TYPE_UNSPECIFIED}else if(n.includes(a))t[a]=Qe(u);else if(i.includes(a)){const f=[];for(const c of u){if(c.type=="null"){t.nullable=!0;continue}f.push(Qe(c))}t[a]=f}else if(o.includes(a)){const f={};for(const[c,d]of Object.entries(u))f[c]=Qe(d);t[a]=f}else{if(a==="additionalProperties")continue;t[a]=u}return t}function ri(e){return Qe(e)}function si(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function li(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function tt(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Qe(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Qe(t.response));return e}function nt(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function au(e,t,n,i=1){const o=!t.startsWith(`${n}/`)&&t.split("/").length===i;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:o?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}function Ae(e,t){if(typeof t!="string")throw new Error("name must be a string");return au(e,t,"cachedContents")}function ms(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Ie(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function uu(e){return e!=null&&typeof e=="object"&&"name"in e}function cu(e){return e!=null&&typeof e=="object"&&"video"in e}function fu(e){return e!=null&&typeof e=="object"&&"uri"in e}function hs(e){var t;let n;if(uu(e)&&(n=e.name),!(fu(e)&&(n=e.uri,n===void 0))&&!(cu(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function gs(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function ys(e){for(const t of["models","tunedModels","publisherModels"])if(du(e,t))return e[t];return[]}function du(e,t){return e!==null&&typeof e=="object"&&t in e}function pu(e,t={}){const n=e,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return t.behavior&&(i.behavior=t.behavior),{functionDeclarations:[i]}}function mu(e,t={}){const n=[],i=new Set;for(const o of e){const s=o.name;if(i.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);i.add(s);const a=pu(o,t);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function xs(e,t){if(typeof t!="string"&&!Array.isArray(t)){if(e&&e.isVertexAI()){if(t.gcsUri&&t.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!t.gcsUri&&!t.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(t.inlinedRequests&&t.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!t.inlinedRequests&&!t.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return t}else{if(Array.isArray(t))return{inlinedRequests:t};if(typeof t=="string"){if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:[t]};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};if(t.startsWith("files/"))return{fileName:t}}}throw new Error(`Unsupported source: ${t}`)}function hu(e){const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function it(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Cs(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gu(e){const t={},n=r(e,["fps"]);n!=null&&l(t,["fps"],n);const i=r(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const o=r(e,["startOffset"]);return o!=null&&l(t,["startOffset"],o),t}function yu(e){const t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(e,["data"]);n!=null&&l(t,["data"],n);const i=r(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function xu(e){const t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(e,["fileUri"]);n!=null&&l(t,["fileUri"],n);const i=r(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function Cu(e){const t={},n=r(e,["videoMetadata"]);n!=null&&l(t,["videoMetadata"],gu(n));const i=r(e,["thought"]);i!=null&&l(t,["thought"],i);const o=r(e,["inlineData"]);o!=null&&l(t,["inlineData"],yu(o));const s=r(e,["fileData"]);s!=null&&l(t,["fileData"],xu(s));const a=r(e,["thoughtSignature"]);a!=null&&l(t,["thoughtSignature"],a);const u=r(e,["codeExecutionResult"]);u!=null&&l(t,["codeExecutionResult"],u);const f=r(e,["executableCode"]);f!=null&&l(t,["executableCode"],f);const c=r(e,["functionCall"]);c!=null&&l(t,["functionCall"],c);const d=r(e,["functionResponse"]);d!=null&&l(t,["functionResponse"],d);const p=r(e,["text"]);return p!=null&&l(t,["text"],p),t}function vs(e){const t={},n=r(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Cu(s))),l(t,["parts"],o)}const i=r(e,["role"]);return i!=null&&l(t,["role"],i),t}function vu(e){const t={},n=r(e,["anyOf"]);n!=null&&l(t,["anyOf"],n);const i=r(e,["default"]);i!=null&&l(t,["default"],i);const o=r(e,["description"]);o!=null&&l(t,["description"],o);const s=r(e,["enum"]);s!=null&&l(t,["enum"],s);const a=r(e,["example"]);a!=null&&l(t,["example"],a);const u=r(e,["format"]);u!=null&&l(t,["format"],u);const f=r(e,["items"]);f!=null&&l(t,["items"],f);const c=r(e,["maxItems"]);c!=null&&l(t,["maxItems"],c);const d=r(e,["maxLength"]);d!=null&&l(t,["maxLength"],d);const p=r(e,["maxProperties"]);p!=null&&l(t,["maxProperties"],p);const h=r(e,["maximum"]);h!=null&&l(t,["maximum"],h);const g=r(e,["minItems"]);g!=null&&l(t,["minItems"],g);const y=r(e,["minLength"]);y!=null&&l(t,["minLength"],y);const C=r(e,["minProperties"]);C!=null&&l(t,["minProperties"],C);const w=r(e,["minimum"]);w!=null&&l(t,["minimum"],w);const x=r(e,["nullable"]);x!=null&&l(t,["nullable"],x);const T=r(e,["pattern"]);T!=null&&l(t,["pattern"],T);const v=r(e,["properties"]);v!=null&&l(t,["properties"],v);const A=r(e,["propertyOrdering"]);A!=null&&l(t,["propertyOrdering"],A);const N=r(e,["required"]);N!=null&&l(t,["required"],N);const S=r(e,["title"]);S!=null&&l(t,["title"],S);const b=r(e,["type"]);return b!=null&&l(t,["type"],b),t}function _u(e){const t={};if(r(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=r(e,["category"]);n!=null&&l(t,["category"],n);const i=r(e,["threshold"]);return i!=null&&l(t,["threshold"],i),t}function Tu(e){const t={},n=r(e,["behavior"]);n!=null&&l(t,["behavior"],n);const i=r(e,["description"]);i!=null&&l(t,["description"],i);const o=r(e,["name"]);o!=null&&l(t,["name"],o);const s=r(e,["parameters"]);s!=null&&l(t,["parameters"],s);const a=r(e,["parametersJsonSchema"]);a!=null&&l(t,["parametersJsonSchema"],a);const u=r(e,["response"]);u!=null&&l(t,["response"],u);const f=r(e,["responseJsonSchema"]);return f!=null&&l(t,["responseJsonSchema"],f),t}function Su(e){const t={},n=r(e,["startTime"]);n!=null&&l(t,["startTime"],n);const i=r(e,["endTime"]);return i!=null&&l(t,["endTime"],i),t}function wu(e){const t={},n=r(e,["timeRangeFilter"]);return n!=null&&l(t,["timeRangeFilter"],Su(n)),t}function ku(e){const t={},n=r(e,["mode"]);n!=null&&l(t,["mode"],n);const i=r(e,["dynamicThreshold"]);return i!=null&&l(t,["dynamicThreshold"],i),t}function Eu(e){const t={},n=r(e,["dynamicRetrievalConfig"]);return n!=null&&l(t,["dynamicRetrievalConfig"],ku(n)),t}function bu(){return{}}function Au(e){const t={},n=r(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>Tu(c))),l(t,["functionDeclarations"],f)}if(r(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=r(e,["googleSearch"]);i!=null&&l(t,["googleSearch"],wu(i));const o=r(e,["googleSearchRetrieval"]);if(o!=null&&l(t,["googleSearchRetrieval"],Eu(o)),r(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(e,["urlContext"])!=null&&l(t,["urlContext"],bu());const a=r(e,["codeExecution"]);a!=null&&l(t,["codeExecution"],a);const u=r(e,["computerUse"]);return u!=null&&l(t,["computerUse"],u),t}function Iu(e){const t={},n=r(e,["mode"]);n!=null&&l(t,["mode"],n);const i=r(e,["allowedFunctionNames"]);return i!=null&&l(t,["allowedFunctionNames"],i),t}function Nu(e){const t={},n=r(e,["latitude"]);n!=null&&l(t,["latitude"],n);const i=r(e,["longitude"]);return i!=null&&l(t,["longitude"],i),t}function Mu(e){const t={},n=r(e,["latLng"]);n!=null&&l(t,["latLng"],Nu(n));const i=r(e,["languageCode"]);return i!=null&&l(t,["languageCode"],i),t}function Pu(e){const t={},n=r(e,["functionCallingConfig"]);n!=null&&l(t,["functionCallingConfig"],Iu(n));const i=r(e,["retrievalConfig"]);return i!=null&&l(t,["retrievalConfig"],Mu(i)),t}function Ru(e){const t={},n=r(e,["voiceName"]);return n!=null&&l(t,["voiceName"],n),t}function _s(e){const t={},n=r(e,["prebuiltVoiceConfig"]);return n!=null&&l(t,["prebuiltVoiceConfig"],Ru(n)),t}function Du(e){const t={},n=r(e,["speaker"]);n!=null&&l(t,["speaker"],n);const i=r(e,["voiceConfig"]);return i!=null&&l(t,["voiceConfig"],_s(i)),t}function Lu(e){const t={},n=r(e,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Du(o))),l(t,["speakerVoiceConfigs"],i)}return t}function Fu(e){const t={},n=r(e,["voiceConfig"]);n!=null&&l(t,["voiceConfig"],_s(n));const i=r(e,["multiSpeakerVoiceConfig"]);i!=null&&l(t,["multiSpeakerVoiceConfig"],Lu(i));const o=r(e,["languageCode"]);return o!=null&&l(t,["languageCode"],o),t}function qu(e){const t={},n=r(e,["includeThoughts"]);n!=null&&l(t,["includeThoughts"],n);const i=r(e,["thinkingBudget"]);return i!=null&&l(t,["thinkingBudget"],i),t}function Vu(e,t,n){const i={},o=r(t,["systemInstruction"]);n!==void 0&&o!=null&&l(n,["systemInstruction"],vs(se(o)));const s=r(t,["temperature"]);s!=null&&l(i,["temperature"],s);const a=r(t,["topP"]);a!=null&&l(i,["topP"],a);const u=r(t,["topK"]);u!=null&&l(i,["topK"],u);const f=r(t,["candidateCount"]);f!=null&&l(i,["candidateCount"],f);const c=r(t,["maxOutputTokens"]);c!=null&&l(i,["maxOutputTokens"],c);const d=r(t,["stopSequences"]);d!=null&&l(i,["stopSequences"],d);const p=r(t,["responseLogprobs"]);p!=null&&l(i,["responseLogprobs"],p);const h=r(t,["logprobs"]);h!=null&&l(i,["logprobs"],h);const g=r(t,["presencePenalty"]);g!=null&&l(i,["presencePenalty"],g);const y=r(t,["frequencyPenalty"]);y!=null&&l(i,["frequencyPenalty"],y);const C=r(t,["seed"]);C!=null&&l(i,["seed"],C);const w=r(t,["responseMimeType"]);w!=null&&l(i,["responseMimeType"],w);const x=r(t,["responseSchema"]);x!=null&&l(i,["responseSchema"],vu(ri(x)));const T=r(t,["responseJsonSchema"]);if(T!=null&&l(i,["responseJsonSchema"],T),r(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=r(t,["safetySettings"]);if(n!==void 0&&v!=null){let M=v;Array.isArray(M)&&(M=M.map(L=>_u(L))),l(n,["safetySettings"],M)}const A=r(t,["tools"]);if(n!==void 0&&A!=null){let M=nt(A);Array.isArray(M)&&(M=M.map(L=>Au(tt(L)))),l(n,["tools"],M)}const N=r(t,["toolConfig"]);if(n!==void 0&&N!=null&&l(n,["toolConfig"],Pu(N)),r(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=r(t,["cachedContent"]);n!==void 0&&S!=null&&l(n,["cachedContent"],Ae(e,S));const b=r(t,["responseModalities"]);b!=null&&l(i,["responseModalities"],b);const q=r(t,["mediaResolution"]);q!=null&&l(i,["mediaResolution"],q);const R=r(t,["speechConfig"]);if(R!=null&&l(i,["speechConfig"],Fu(si(R))),r(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const E=r(t,["thinkingConfig"]);return E!=null&&l(i,["thinkingConfig"],qu(E)),i}function Uu(e,t){const n={},i=r(t,["model"]);i!=null&&l(n,["request","model"],K(e,i));const o=r(t,["contents"]);if(o!=null){let a=xe(o);Array.isArray(a)&&(a=a.map(u=>vs(u))),l(n,["request","contents"],a)}const s=r(t,["config"]);return s!=null&&l(n,["request","generationConfig"],Vu(e,s,n)),n}function Bu(e,t){const n={};if(r(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(r(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=r(t,["fileName"]);i!=null&&l(n,["fileName"],i);const o=r(t,["inlinedRequests"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>Uu(e,a))),l(n,["requests","requests"],s)}return n}function zu(e,t){const n={},i=r(e,["displayName"]);if(t!==void 0&&i!=null&&l(t,["batch","displayName"],i),r(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Gu(e,t){const n={},i=r(t,["model"]);i!=null&&l(n,["_url","model"],K(e,i));const o=r(t,["src"]);o!=null&&l(n,["batch","inputConfig"],Bu(e,xs(e,o)));const s=r(t,["config"]);return s!=null&&l(n,["config"],zu(s,n)),n}function $u(e,t){const n={},i=r(t,["name"]);i!=null&&l(n,["_url","name"],it(e,i));const o=r(t,["config"]);return o!=null&&l(n,["config"],o),n}function Hu(e,t){const n={},i=r(t,["name"]);i!=null&&l(n,["_url","name"],it(e,i));const o=r(t,["config"]);return o!=null&&l(n,["config"],o),n}function Ju(e,t){const n={},i=r(e,["pageSize"]);t!==void 0&&i!=null&&l(t,["_query","pageSize"],i);const o=r(e,["pageToken"]);if(t!==void 0&&o!=null&&l(t,["_query","pageToken"],o),r(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Ou(e){const t={},n=r(e,["config"]);return n!=null&&l(t,["config"],Ju(n,t)),t}function Wu(e,t){const n={},i=r(t,["name"]);i!=null&&l(n,["_url","name"],it(e,i));const o=r(t,["config"]);return o!=null&&l(n,["config"],o),n}function Yu(e){const t={},n=r(e,["format"]);n!=null&&l(t,["instancesFormat"],n);const i=r(e,["gcsUri"]);i!=null&&l(t,["gcsSource","uris"],i);const o=r(e,["bigqueryUri"]);if(o!=null&&l(t,["bigquerySource","inputUri"],o),r(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Ku(e){const t={},n=r(e,["format"]);n!=null&&l(t,["predictionsFormat"],n);const i=r(e,["gcsUri"]);i!=null&&l(t,["gcsDestination","outputUriPrefix"],i);const o=r(e,["bigqueryUri"]);if(o!=null&&l(t,["bigqueryDestination","outputUri"],o),r(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return t}function Xu(e,t){const n={},i=r(e,["displayName"]);t!==void 0&&i!=null&&l(t,["displayName"],i);const o=r(e,["dest"]);return t!==void 0&&o!=null&&l(t,["outputConfig"],Ku(hu(o))),n}function Qu(e,t){const n={},i=r(t,["model"]);i!=null&&l(n,["model"],K(e,i));const o=r(t,["src"]);o!=null&&l(n,["inputConfig"],Yu(xs(e,o)));const s=r(t,["config"]);return s!=null&&l(n,["config"],Xu(s,n)),n}function Zu(e,t){const n={},i=r(t,["name"]);i!=null&&l(n,["_url","name"],it(e,i));const o=r(t,["config"]);return o!=null&&l(n,["config"],o),n}function ju(e,t){const n={},i=r(t,["name"]);i!=null&&l(n,["_url","name"],it(e,i));const o=r(t,["config"]);return o!=null&&l(n,["config"],o),n}function ec(e,t){const n={},i=r(e,["pageSize"]);t!==void 0&&i!=null&&l(t,["_query","pageSize"],i);const o=r(e,["pageToken"]);t!==void 0&&o!=null&&l(t,["_query","pageToken"],o);const s=r(e,["filter"]);return t!==void 0&&s!=null&&l(t,["_query","filter"],s),n}function tc(e){const t={},n=r(e,["config"]);return n!=null&&l(t,["config"],ec(n,t)),t}function nc(e,t){const n={},i=r(t,["name"]);i!=null&&l(n,["_url","name"],it(e,i));const o=r(t,["config"]);return o!=null&&l(n,["config"],o),n}function Ts(){return{}}function ic(e){const t={},n=r(e,["fps"]);n!=null&&l(t,["fps"],n);const i=r(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const o=r(e,["startOffset"]);return o!=null&&l(t,["startOffset"],o),t}function oc(e){const t={},n=r(e,["data"]);n!=null&&l(t,["data"],n);const i=r(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function rc(e){const t={},n=r(e,["fileUri"]);n!=null&&l(t,["fileUri"],n);const i=r(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function sc(e){const t={},n=r(e,["videoMetadata"]);n!=null&&l(t,["videoMetadata"],ic(n));const i=r(e,["thought"]);i!=null&&l(t,["thought"],i);const o=r(e,["inlineData"]);o!=null&&l(t,["inlineData"],oc(o));const s=r(e,["fileData"]);s!=null&&l(t,["fileData"],rc(s));const a=r(e,["thoughtSignature"]);a!=null&&l(t,["thoughtSignature"],a);const u=r(e,["codeExecutionResult"]);u!=null&&l(t,["codeExecutionResult"],u);const f=r(e,["executableCode"]);f!=null&&l(t,["executableCode"],f);const c=r(e,["functionCall"]);c!=null&&l(t,["functionCall"],c);const d=r(e,["functionResponse"]);d!=null&&l(t,["functionResponse"],d);const p=r(e,["text"]);return p!=null&&l(t,["text"],p),t}function lc(e){const t={},n=r(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>sc(s))),l(t,["parts"],o)}const i=r(e,["role"]);return i!=null&&l(t,["role"],i),t}function ac(e){const t={},n=r(e,["citationSources"]);return n!=null&&l(t,["citations"],n),t}function uc(e){const t={},n=r(e,["retrievedUrl"]);n!=null&&l(t,["retrievedUrl"],n);const i=r(e,["urlRetrievalStatus"]);return i!=null&&l(t,["urlRetrievalStatus"],i),t}function cc(e){const t={},n=r(e,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>uc(o))),l(t,["urlMetadata"],i)}return t}function fc(e){const t={},n=r(e,["content"]);n!=null&&l(t,["content"],lc(n));const i=r(e,["citationMetadata"]);i!=null&&l(t,["citationMetadata"],ac(i));const o=r(e,["tokenCount"]);o!=null&&l(t,["tokenCount"],o);const s=r(e,["finishReason"]);s!=null&&l(t,["finishReason"],s);const a=r(e,["urlContextMetadata"]);a!=null&&l(t,["urlContextMetadata"],cc(a));const u=r(e,["avgLogprobs"]);u!=null&&l(t,["avgLogprobs"],u);const f=r(e,["groundingMetadata"]);f!=null&&l(t,["groundingMetadata"],f);const c=r(e,["index"]);c!=null&&l(t,["index"],c);const d=r(e,["logprobsResult"]);d!=null&&l(t,["logprobsResult"],d);const p=r(e,["safetyRatings"]);return p!=null&&l(t,["safetyRatings"],p),t}function dc(e){const t={},n=r(e,["candidates"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>fc(u))),l(t,["candidates"],a)}const i=r(e,["modelVersion"]);i!=null&&l(t,["modelVersion"],i);const o=r(e,["promptFeedback"]);o!=null&&l(t,["promptFeedback"],o);const s=r(e,["usageMetadata"]);return s!=null&&l(t,["usageMetadata"],s),t}function pc(e){const t={},n=r(e,["response"]);return n!=null&&l(t,["response"],dc(n)),r(e,["error"])!=null&&l(t,["error"],Ts()),t}function mc(e){const t={},n=r(e,["responsesFile"]);n!=null&&l(t,["fileName"],n);const i=r(e,["inlinedResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>pc(s))),l(t,["inlinedResponses"],o)}return t}function Vn(e){const t={},n=r(e,["name"]);n!=null&&l(t,["name"],n);const i=r(e,["metadata","displayName"]);i!=null&&l(t,["displayName"],i);const o=r(e,["metadata","state"]);o!=null&&l(t,["state"],Cs(o));const s=r(e,["metadata","createTime"]);s!=null&&l(t,["createTime"],s);const a=r(e,["metadata","endTime"]);a!=null&&l(t,["endTime"],a);const u=r(e,["metadata","updateTime"]);u!=null&&l(t,["updateTime"],u);const f=r(e,["metadata","model"]);f!=null&&l(t,["model"],f);const c=r(e,["metadata","output"]);return c!=null&&l(t,["dest"],mc(c)),t}function hc(e){const t={},n=r(e,["nextPageToken"]);n!=null&&l(t,["nextPageToken"],n);const i=r(e,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Vn(s))),l(t,["batchJobs"],o)}return t}function gc(e){const t={},n=r(e,["name"]);n!=null&&l(t,["name"],n);const i=r(e,["done"]);return i!=null&&l(t,["done"],i),r(e,["error"])!=null&&l(t,["error"],Ts()),t}function Ss(e){const t={},n=r(e,["details"]);n!=null&&l(t,["details"],n);const i=r(e,["code"]);i!=null&&l(t,["code"],i);const o=r(e,["message"]);return o!=null&&l(t,["message"],o),t}function yc(e){const t={},n=r(e,["instancesFormat"]);n!=null&&l(t,["format"],n);const i=r(e,["gcsSource","uris"]);i!=null&&l(t,["gcsUri"],i);const o=r(e,["bigquerySource","inputUri"]);return o!=null&&l(t,["bigqueryUri"],o),t}function xc(e){const t={},n=r(e,["predictionsFormat"]);n!=null&&l(t,["format"],n);const i=r(e,["gcsDestination","outputUriPrefix"]);i!=null&&l(t,["gcsUri"],i);const o=r(e,["bigqueryDestination","outputUri"]);return o!=null&&l(t,["bigqueryUri"],o),t}function Un(e){const t={},n=r(e,["name"]);n!=null&&l(t,["name"],n);const i=r(e,["displayName"]);i!=null&&l(t,["displayName"],i);const o=r(e,["state"]);o!=null&&l(t,["state"],Cs(o));const s=r(e,["error"]);s!=null&&l(t,["error"],Ss(s));const a=r(e,["createTime"]);a!=null&&l(t,["createTime"],a);const u=r(e,["startTime"]);u!=null&&l(t,["startTime"],u);const f=r(e,["endTime"]);f!=null&&l(t,["endTime"],f);const c=r(e,["updateTime"]);c!=null&&l(t,["updateTime"],c);const d=r(e,["model"]);d!=null&&l(t,["model"],d);const p=r(e,["inputConfig"]);p!=null&&l(t,["src"],yc(p));const h=r(e,["outputConfig"]);return h!=null&&l(t,["dest"],xc(h)),t}function Cc(e){const t={},n=r(e,["nextPageToken"]);n!=null&&l(t,["nextPageToken"],n);const i=r(e,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Un(s))),l(t,["batchJobs"],o)}return t}function vc(e){const t={},n=r(e,["name"]);n!=null&&l(t,["name"],n);const i=r(e,["done"]);i!=null&&l(t,["done"],i);const o=r(e,["error"]);return o!=null&&l(t,["error"],Ss(o)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ue;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Ue||(Ue={}));class wt{constructor(t,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,i,o)}init(t,n,i){var o,s;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let a={config:{}};i?typeof i=="object"?a=Object.assign({},i):a=i:a={config:{}},a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(s=(o=a.config)===null||o===void 0?void 0:o.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _c extends ze{constructor(t){super(),this.apiClient=t,this.create=async n=>{if(this.apiClient.isVertexAI()){const o=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${o}`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new wt(Ue.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}async createInternal(t){var n,i,o,s;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=Qu(this.apiClient,t);return u=z("batchPredictionJobs",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>Un(d))}else{const c=Gu(this.apiClient,t);return u=z("{model}:batchGenerateContent",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>Vn(d))}}async get(t){var n,i,o,s;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=Zu(this.apiClient,t);return u=z("batchPredictionJobs/{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>Un(d))}else{const c=$u(this.apiClient,t);return u=z("batches/{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>Vn(d))}}async cancel(t){var n,i,o,s;let a="",u={};if(this.apiClient.isVertexAI()){const f=ju(this.apiClient,t);a=z("batchPredictionJobs/{name}:cancel",f._url),u=f._query,delete f.config,delete f._url,delete f._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}else{const f=Hu(this.apiClient,t);a=z("batches/{name}:cancel",f._url),u=f._query,delete f.config,delete f._url,delete f._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var n,i,o,s;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=tc(t);return u=z("batchPredictionJobs",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>{const p=Cc(d),h=new qo;return Object.assign(h,p),h})}else{const c=Ou(t);return u=z("batches",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>{const p=hc(d),h=new qo;return Object.assign(h,p),h})}}async delete(t){var n,i,o,s;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=nc(this.apiClient,t);return u=z("batchPredictionJobs/{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>vc(d))}else{const c=Wu(this.apiClient,t);return u=z("batches/{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>gc(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tc(e){const t={},n=r(e,["fps"]);n!=null&&l(t,["fps"],n);const i=r(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const o=r(e,["startOffset"]);return o!=null&&l(t,["startOffset"],o),t}function Sc(e){const t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(e,["data"]);n!=null&&l(t,["data"],n);const i=r(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function wc(e){const t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(e,["fileUri"]);n!=null&&l(t,["fileUri"],n);const i=r(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function kc(e){const t={},n=r(e,["videoMetadata"]);n!=null&&l(t,["videoMetadata"],Tc(n));const i=r(e,["thought"]);i!=null&&l(t,["thought"],i);const o=r(e,["inlineData"]);o!=null&&l(t,["inlineData"],Sc(o));const s=r(e,["fileData"]);s!=null&&l(t,["fileData"],wc(s));const a=r(e,["thoughtSignature"]);a!=null&&l(t,["thoughtSignature"],a);const u=r(e,["codeExecutionResult"]);u!=null&&l(t,["codeExecutionResult"],u);const f=r(e,["executableCode"]);f!=null&&l(t,["executableCode"],f);const c=r(e,["functionCall"]);c!=null&&l(t,["functionCall"],c);const d=r(e,["functionResponse"]);d!=null&&l(t,["functionResponse"],d);const p=r(e,["text"]);return p!=null&&l(t,["text"],p),t}function zo(e){const t={},n=r(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>kc(s))),l(t,["parts"],o)}const i=r(e,["role"]);return i!=null&&l(t,["role"],i),t}function Ec(e){const t={},n=r(e,["behavior"]);n!=null&&l(t,["behavior"],n);const i=r(e,["description"]);i!=null&&l(t,["description"],i);const o=r(e,["name"]);o!=null&&l(t,["name"],o);const s=r(e,["parameters"]);s!=null&&l(t,["parameters"],s);const a=r(e,["parametersJsonSchema"]);a!=null&&l(t,["parametersJsonSchema"],a);const u=r(e,["response"]);u!=null&&l(t,["response"],u);const f=r(e,["responseJsonSchema"]);return f!=null&&l(t,["responseJsonSchema"],f),t}function bc(e){const t={},n=r(e,["startTime"]);n!=null&&l(t,["startTime"],n);const i=r(e,["endTime"]);return i!=null&&l(t,["endTime"],i),t}function Ac(e){const t={},n=r(e,["timeRangeFilter"]);return n!=null&&l(t,["timeRangeFilter"],bc(n)),t}function Ic(e){const t={},n=r(e,["mode"]);n!=null&&l(t,["mode"],n);const i=r(e,["dynamicThreshold"]);return i!=null&&l(t,["dynamicThreshold"],i),t}function Nc(e){const t={},n=r(e,["dynamicRetrievalConfig"]);return n!=null&&l(t,["dynamicRetrievalConfig"],Ic(n)),t}function Mc(){return{}}function Pc(e){const t={},n=r(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>Ec(c))),l(t,["functionDeclarations"],f)}if(r(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=r(e,["googleSearch"]);i!=null&&l(t,["googleSearch"],Ac(i));const o=r(e,["googleSearchRetrieval"]);if(o!=null&&l(t,["googleSearchRetrieval"],Nc(o)),r(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(e,["urlContext"])!=null&&l(t,["urlContext"],Mc());const a=r(e,["codeExecution"]);a!=null&&l(t,["codeExecution"],a);const u=r(e,["computerUse"]);return u!=null&&l(t,["computerUse"],u),t}function Rc(e){const t={},n=r(e,["mode"]);n!=null&&l(t,["mode"],n);const i=r(e,["allowedFunctionNames"]);return i!=null&&l(t,["allowedFunctionNames"],i),t}function Dc(e){const t={},n=r(e,["latitude"]);n!=null&&l(t,["latitude"],n);const i=r(e,["longitude"]);return i!=null&&l(t,["longitude"],i),t}function Lc(e){const t={},n=r(e,["latLng"]);n!=null&&l(t,["latLng"],Dc(n));const i=r(e,["languageCode"]);return i!=null&&l(t,["languageCode"],i),t}function Fc(e){const t={},n=r(e,["functionCallingConfig"]);n!=null&&l(t,["functionCallingConfig"],Rc(n));const i=r(e,["retrievalConfig"]);return i!=null&&l(t,["retrievalConfig"],Lc(i)),t}function qc(e,t){const n={},i=r(e,["ttl"]);t!==void 0&&i!=null&&l(t,["ttl"],i);const o=r(e,["expireTime"]);t!==void 0&&o!=null&&l(t,["expireTime"],o);const s=r(e,["displayName"]);t!==void 0&&s!=null&&l(t,["displayName"],s);const a=r(e,["contents"]);if(t!==void 0&&a!=null){let d=xe(a);Array.isArray(d)&&(d=d.map(p=>zo(p))),l(t,["contents"],d)}const u=r(e,["systemInstruction"]);t!==void 0&&u!=null&&l(t,["systemInstruction"],zo(se(u)));const f=r(e,["tools"]);if(t!==void 0&&f!=null){let d=f;Array.isArray(d)&&(d=d.map(p=>Pc(p))),l(t,["tools"],d)}const c=r(e,["toolConfig"]);if(t!==void 0&&c!=null&&l(t,["toolConfig"],Fc(c)),r(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Vc(e,t){const n={},i=r(t,["model"]);i!=null&&l(n,["model"],as(e,i));const o=r(t,["config"]);return o!=null&&l(n,["config"],qc(o,n)),n}function Uc(e,t){const n={},i=r(t,["name"]);i!=null&&l(n,["_url","name"],Ae(e,i));const o=r(t,["config"]);return o!=null&&l(n,["config"],o),n}function Bc(e,t){const n={},i=r(t,["name"]);i!=null&&l(n,["_url","name"],Ae(e,i));const o=r(t,["config"]);return o!=null&&l(n,["config"],o),n}function zc(e,t){const n={},i=r(e,["ttl"]);t!==void 0&&i!=null&&l(t,["ttl"],i);const o=r(e,["expireTime"]);return t!==void 0&&o!=null&&l(t,["expireTime"],o),n}function Gc(e,t){const n={},i=r(t,["name"]);i!=null&&l(n,["_url","name"],Ae(e,i));const o=r(t,["config"]);return o!=null&&l(n,["config"],zc(o,n)),n}function $c(e,t){const n={},i=r(e,["pageSize"]);t!==void 0&&i!=null&&l(t,["_query","pageSize"],i);const o=r(e,["pageToken"]);return t!==void 0&&o!=null&&l(t,["_query","pageToken"],o),n}function Hc(e){const t={},n=r(e,["config"]);return n!=null&&l(t,["config"],$c(n,t)),t}function Jc(e){const t={},n=r(e,["fps"]);n!=null&&l(t,["fps"],n);const i=r(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const o=r(e,["startOffset"]);return o!=null&&l(t,["startOffset"],o),t}function Oc(e){const t={},n=r(e,["displayName"]);n!=null&&l(t,["displayName"],n);const i=r(e,["data"]);i!=null&&l(t,["data"],i);const o=r(e,["mimeType"]);return o!=null&&l(t,["mimeType"],o),t}function Wc(e){const t={},n=r(e,["displayName"]);n!=null&&l(t,["displayName"],n);const i=r(e,["fileUri"]);i!=null&&l(t,["fileUri"],i);const o=r(e,["mimeType"]);return o!=null&&l(t,["mimeType"],o),t}function Yc(e){const t={},n=r(e,["videoMetadata"]);n!=null&&l(t,["videoMetadata"],Jc(n));const i=r(e,["thought"]);i!=null&&l(t,["thought"],i);const o=r(e,["inlineData"]);o!=null&&l(t,["inlineData"],Oc(o));const s=r(e,["fileData"]);s!=null&&l(t,["fileData"],Wc(s));const a=r(e,["thoughtSignature"]);a!=null&&l(t,["thoughtSignature"],a);const u=r(e,["codeExecutionResult"]);u!=null&&l(t,["codeExecutionResult"],u);const f=r(e,["executableCode"]);f!=null&&l(t,["executableCode"],f);const c=r(e,["functionCall"]);c!=null&&l(t,["functionCall"],c);const d=r(e,["functionResponse"]);d!=null&&l(t,["functionResponse"],d);const p=r(e,["text"]);return p!=null&&l(t,["text"],p),t}function Go(e){const t={},n=r(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Yc(s))),l(t,["parts"],o)}const i=r(e,["role"]);return i!=null&&l(t,["role"],i),t}function Kc(e){const t={};if(r(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=r(e,["description"]);n!=null&&l(t,["description"],n);const i=r(e,["name"]);i!=null&&l(t,["name"],i);const o=r(e,["parameters"]);o!=null&&l(t,["parameters"],o);const s=r(e,["parametersJsonSchema"]);s!=null&&l(t,["parametersJsonSchema"],s);const a=r(e,["response"]);a!=null&&l(t,["response"],a);const u=r(e,["responseJsonSchema"]);return u!=null&&l(t,["responseJsonSchema"],u),t}function Xc(e){const t={},n=r(e,["startTime"]);n!=null&&l(t,["startTime"],n);const i=r(e,["endTime"]);return i!=null&&l(t,["endTime"],i),t}function Qc(e){const t={},n=r(e,["timeRangeFilter"]);return n!=null&&l(t,["timeRangeFilter"],Xc(n)),t}function Zc(e){const t={},n=r(e,["mode"]);n!=null&&l(t,["mode"],n);const i=r(e,["dynamicThreshold"]);return i!=null&&l(t,["dynamicThreshold"],i),t}function jc(e){const t={},n=r(e,["dynamicRetrievalConfig"]);return n!=null&&l(t,["dynamicRetrievalConfig"],Zc(n)),t}function ef(){return{}}function tf(e){const t={},n=r(e,["apiKeyString"]);return n!=null&&l(t,["apiKeyString"],n),t}function nf(e){const t={},n=r(e,["apiKeyConfig"]);n!=null&&l(t,["apiKeyConfig"],tf(n));const i=r(e,["authType"]);i!=null&&l(t,["authType"],i);const o=r(e,["googleServiceAccountConfig"]);o!=null&&l(t,["googleServiceAccountConfig"],o);const s=r(e,["httpBasicAuthConfig"]);s!=null&&l(t,["httpBasicAuthConfig"],s);const a=r(e,["oauthConfig"]);a!=null&&l(t,["oauthConfig"],a);const u=r(e,["oidcConfig"]);return u!=null&&l(t,["oidcConfig"],u),t}function of(e){const t={},n=r(e,["authConfig"]);return n!=null&&l(t,["authConfig"],nf(n)),t}function rf(){return{}}function sf(e){const t={},n=r(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>Kc(h))),l(t,["functionDeclarations"],p)}const i=r(e,["retrieval"]);i!=null&&l(t,["retrieval"],i);const o=r(e,["googleSearch"]);o!=null&&l(t,["googleSearch"],Qc(o));const s=r(e,["googleSearchRetrieval"]);s!=null&&l(t,["googleSearchRetrieval"],jc(s)),r(e,["enterpriseWebSearch"])!=null&&l(t,["enterpriseWebSearch"],ef());const u=r(e,["googleMaps"]);u!=null&&l(t,["googleMaps"],of(u)),r(e,["urlContext"])!=null&&l(t,["urlContext"],rf());const c=r(e,["codeExecution"]);c!=null&&l(t,["codeExecution"],c);const d=r(e,["computerUse"]);return d!=null&&l(t,["computerUse"],d),t}function lf(e){const t={},n=r(e,["mode"]);n!=null&&l(t,["mode"],n);const i=r(e,["allowedFunctionNames"]);return i!=null&&l(t,["allowedFunctionNames"],i),t}function af(e){const t={},n=r(e,["latitude"]);n!=null&&l(t,["latitude"],n);const i=r(e,["longitude"]);return i!=null&&l(t,["longitude"],i),t}function uf(e){const t={},n=r(e,["latLng"]);n!=null&&l(t,["latLng"],af(n));const i=r(e,["languageCode"]);return i!=null&&l(t,["languageCode"],i),t}function cf(e){const t={},n=r(e,["functionCallingConfig"]);n!=null&&l(t,["functionCallingConfig"],lf(n));const i=r(e,["retrievalConfig"]);return i!=null&&l(t,["retrievalConfig"],uf(i)),t}function ff(e,t){const n={},i=r(e,["ttl"]);t!==void 0&&i!=null&&l(t,["ttl"],i);const o=r(e,["expireTime"]);t!==void 0&&o!=null&&l(t,["expireTime"],o);const s=r(e,["displayName"]);t!==void 0&&s!=null&&l(t,["displayName"],s);const a=r(e,["contents"]);if(t!==void 0&&a!=null){let p=xe(a);Array.isArray(p)&&(p=p.map(h=>Go(h))),l(t,["contents"],p)}const u=r(e,["systemInstruction"]);t!==void 0&&u!=null&&l(t,["systemInstruction"],Go(se(u)));const f=r(e,["tools"]);if(t!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>sf(h))),l(t,["tools"],p)}const c=r(e,["toolConfig"]);t!==void 0&&c!=null&&l(t,["toolConfig"],cf(c));const d=r(e,["kmsKeyName"]);return t!==void 0&&d!=null&&l(t,["encryption_spec","kmsKeyName"],d),n}function df(e,t){const n={},i=r(t,["model"]);i!=null&&l(n,["model"],as(e,i));const o=r(t,["config"]);return o!=null&&l(n,["config"],ff(o,n)),n}function pf(e,t){const n={},i=r(t,["name"]);i!=null&&l(n,["_url","name"],Ae(e,i));const o=r(t,["config"]);return o!=null&&l(n,["config"],o),n}function mf(e,t){const n={},i=r(t,["name"]);i!=null&&l(n,["_url","name"],Ae(e,i));const o=r(t,["config"]);return o!=null&&l(n,["config"],o),n}function hf(e,t){const n={},i=r(e,["ttl"]);t!==void 0&&i!=null&&l(t,["ttl"],i);const o=r(e,["expireTime"]);return t!==void 0&&o!=null&&l(t,["expireTime"],o),n}function gf(e,t){const n={},i=r(t,["name"]);i!=null&&l(n,["_url","name"],Ae(e,i));const o=r(t,["config"]);return o!=null&&l(n,["config"],hf(o,n)),n}function yf(e,t){const n={},i=r(e,["pageSize"]);t!==void 0&&i!=null&&l(t,["_query","pageSize"],i);const o=r(e,["pageToken"]);return t!==void 0&&o!=null&&l(t,["_query","pageToken"],o),n}function xf(e){const t={},n=r(e,["config"]);return n!=null&&l(t,["config"],yf(n,t)),t}function Ut(e){const t={},n=r(e,["name"]);n!=null&&l(t,["name"],n);const i=r(e,["displayName"]);i!=null&&l(t,["displayName"],i);const o=r(e,["model"]);o!=null&&l(t,["model"],o);const s=r(e,["createTime"]);s!=null&&l(t,["createTime"],s);const a=r(e,["updateTime"]);a!=null&&l(t,["updateTime"],a);const u=r(e,["expireTime"]);u!=null&&l(t,["expireTime"],u);const f=r(e,["usageMetadata"]);return f!=null&&l(t,["usageMetadata"],f),t}function Cf(){return{}}function vf(e){const t={},n=r(e,["nextPageToken"]);n!=null&&l(t,["nextPageToken"],n);const i=r(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Ut(s))),l(t,["cachedContents"],o)}return t}function Bt(e){const t={},n=r(e,["name"]);n!=null&&l(t,["name"],n);const i=r(e,["displayName"]);i!=null&&l(t,["displayName"],i);const o=r(e,["model"]);o!=null&&l(t,["model"],o);const s=r(e,["createTime"]);s!=null&&l(t,["createTime"],s);const a=r(e,["updateTime"]);a!=null&&l(t,["updateTime"],a);const u=r(e,["expireTime"]);u!=null&&l(t,["expireTime"],u);const f=r(e,["usageMetadata"]);return f!=null&&l(t,["usageMetadata"],f),t}function _f(){return{}}function Tf(e){const t={},n=r(e,["nextPageToken"]);n!=null&&l(t,["nextPageToken"],n);const i=r(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Bt(s))),l(t,["cachedContents"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sf extends ze{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new wt(Ue.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(t){var n,i,o,s;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=df(this.apiClient,t);return u=z("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>Bt(d))}else{const c=Vc(this.apiClient,t);return u=z("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>Ut(d))}}async get(t){var n,i,o,s;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=pf(this.apiClient,t);return u=z("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>Bt(d))}else{const c=Uc(this.apiClient,t);return u=z("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>Ut(d))}}async delete(t){var n,i,o,s;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=mf(this.apiClient,t);return u=z("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(()=>{const d=_f(),p=new Lo;return Object.assign(p,d),p})}else{const c=Bc(this.apiClient,t);return u=z("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(()=>{const d=Cf(),p=new Lo;return Object.assign(p,d),p})}}async update(t){var n,i,o,s;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=gf(this.apiClient,t);return u=z("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>Bt(d))}else{const c=Gc(this.apiClient,t);return u=z("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>Ut(d))}}async listInternal(t){var n,i,o,s;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=xf(t);return u=z("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>{const p=Tf(d),h=new Fo;return Object.assign(h,p),h})}else{const c=Hc(t);return u=z("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>{const p=vf(d),h=new Fo;return Object.assign(h,p),h})}}}function $o(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ee(e){return this instanceof ee?(this.v=e,this):new ee(e)}function Ze(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",a),o[Symbol.asyncIterator]=function(){return this},o;function a(g){return function(y){return Promise.resolve(y).then(g,p)}}function u(g,y){i[g]&&(o[g]=function(C){return new Promise(function(w,x){s.push([g,C,w,x])>1||f(g,C)})},y&&(o[g]=y(o[g])))}function f(g,y){try{c(i[g](y))}catch(C){h(s[0][3],C)}}function c(g){g.value instanceof ee?Promise.resolve(g.value.v).then(d,p):h(s[0][2],g)}function d(g){f("next",g)}function p(g){f("throw",g)}function h(g,y){g(y),s.shift(),s.length&&f(s[0][0],s[0][1])}}function gt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof $o=="function"?$o(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=e[s]&&function(a){return new Promise(function(u,f){a=e[s](a),o(u,f,a.done,a.value)})}}function o(s,a,u,f){Promise.resolve(f).then(function(c){s({value:c,done:u})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wf(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:ws(n)}function ws(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0||!t.thought&&t.text!==void 0&&t.text==="")return!1;return!0}function kf(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Ho(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let i=0;for(;i<n;)if(e[i].role==="user")t.push(e[i]),i++;else{const o=[];let s=!0;for(;i<n&&e[i].role==="model";)o.push(e[i]),s&&!ws(e[i])&&(s=!1),i++;s?t.push(...o):t.pop()}return t}class Ef{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new bf(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class bf{constructor(t,n,i,o={},s=[]){this.apiClient=t,this.modelsModule=n,this.model=i,this.config=o,this.history=s,this.sendPromise=Promise.resolve(),kf(s)}async sendMessage(t){var n;await this.sendPromise;const i=se(t.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,a,u;const f=await o,c=(a=(s=f.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content,d=f.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let h=[];d!=null&&(h=(u=d.slice(p))!==null&&u!==void 0?u:[]);const g=c?[c]:[];this.recordHistory(i,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(t){var n;await this.sendPromise;const i=se(t.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const s=await o;return this.processStreamResponse(s,i)}getHistory(t=!1){const n=t?Ho(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var i,o;return Ze(this,arguments,function*(){var a,u,f,c;const d=[];try{for(var p=!0,h=gt(t),g;g=yield ee(h.next()),a=g.done,!a;p=!0){c=g.value,p=!1;const y=c;if(wf(y)){const C=(o=(i=y.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content;C!==void 0&&d.push(C)}yield yield ee(y)}}catch(y){u={error:y}}finally{try{!p&&!a&&(f=h.return)&&(yield ee(f.call(h)))}finally{if(u)throw u.error}}this.recordHistory(n,d)})}recordHistory(t,n,i){let o=[];n.length>0&&n.every(s=>s.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...Ho(i)):this.history.push(t),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class en extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,en.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Af(e,t){const n={},i=r(e,["pageSize"]);t!==void 0&&i!=null&&l(t,["_query","pageSize"],i);const o=r(e,["pageToken"]);return t!==void 0&&o!=null&&l(t,["_query","pageToken"],o),n}function If(e){const t={},n=r(e,["config"]);return n!=null&&l(t,["config"],Af(n,t)),t}function Nf(e){const t={},n=r(e,["details"]);n!=null&&l(t,["details"],n);const i=r(e,["message"]);i!=null&&l(t,["message"],i);const o=r(e,["code"]);return o!=null&&l(t,["code"],o),t}function Mf(e){const t={},n=r(e,["name"]);n!=null&&l(t,["name"],n);const i=r(e,["displayName"]);i!=null&&l(t,["displayName"],i);const o=r(e,["mimeType"]);o!=null&&l(t,["mimeType"],o);const s=r(e,["sizeBytes"]);s!=null&&l(t,["sizeBytes"],s);const a=r(e,["createTime"]);a!=null&&l(t,["createTime"],a);const u=r(e,["expirationTime"]);u!=null&&l(t,["expirationTime"],u);const f=r(e,["updateTime"]);f!=null&&l(t,["updateTime"],f);const c=r(e,["sha256Hash"]);c!=null&&l(t,["sha256Hash"],c);const d=r(e,["uri"]);d!=null&&l(t,["uri"],d);const p=r(e,["downloadUri"]);p!=null&&l(t,["downloadUri"],p);const h=r(e,["state"]);h!=null&&l(t,["state"],h);const g=r(e,["source"]);g!=null&&l(t,["source"],g);const y=r(e,["videoMetadata"]);y!=null&&l(t,["videoMetadata"],y);const C=r(e,["error"]);return C!=null&&l(t,["error"],Nf(C)),t}function Pf(e){const t={},n=r(e,["file"]);n!=null&&l(t,["file"],Mf(n));const i=r(e,["config"]);return i!=null&&l(t,["config"],i),t}function Rf(e){const t={},n=r(e,["name"]);n!=null&&l(t,["_url","file"],hs(n));const i=r(e,["config"]);return i!=null&&l(t,["config"],i),t}function Df(e){const t={},n=r(e,["name"]);n!=null&&l(t,["_url","file"],hs(n));const i=r(e,["config"]);return i!=null&&l(t,["config"],i),t}function Lf(e){const t={},n=r(e,["details"]);n!=null&&l(t,["details"],n);const i=r(e,["message"]);i!=null&&l(t,["message"],i);const o=r(e,["code"]);return o!=null&&l(t,["code"],o),t}function Bn(e){const t={},n=r(e,["name"]);n!=null&&l(t,["name"],n);const i=r(e,["displayName"]);i!=null&&l(t,["displayName"],i);const o=r(e,["mimeType"]);o!=null&&l(t,["mimeType"],o);const s=r(e,["sizeBytes"]);s!=null&&l(t,["sizeBytes"],s);const a=r(e,["createTime"]);a!=null&&l(t,["createTime"],a);const u=r(e,["expirationTime"]);u!=null&&l(t,["expirationTime"],u);const f=r(e,["updateTime"]);f!=null&&l(t,["updateTime"],f);const c=r(e,["sha256Hash"]);c!=null&&l(t,["sha256Hash"],c);const d=r(e,["uri"]);d!=null&&l(t,["uri"],d);const p=r(e,["downloadUri"]);p!=null&&l(t,["downloadUri"],p);const h=r(e,["state"]);h!=null&&l(t,["state"],h);const g=r(e,["source"]);g!=null&&l(t,["source"],g);const y=r(e,["videoMetadata"]);y!=null&&l(t,["videoMetadata"],y);const C=r(e,["error"]);return C!=null&&l(t,["error"],Lf(C)),t}function Ff(e){const t={},n=r(e,["nextPageToken"]);n!=null&&l(t,["nextPageToken"],n);const i=r(e,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Bn(s))),l(t,["files"],o)}return t}function qf(){return{}}function Vf(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uf extends ze{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new wt(Ue.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>Bn(n))}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,i;let o,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=If(t);return s=z("files",u._url),a=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>{const c=Ff(f),d=new nu;return Object.assign(d,c),d})}}async createInternal(t){var n,i;let o,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Pf(t);return s=z("upload/v1beta/files",u._url),a=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(()=>{const f=qf(),c=new iu;return Object.assign(c,f),c})}}async get(t){var n,i;let o,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Rf(t);return s=z("files/{file}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>Bn(f))}}async delete(t){var n,i;let o,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Df(t);return s=z("files/{file}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(()=>{const f=Vf(),c=new ou;return Object.assign(c,f),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bf(e){const t={},n=r(e,["voiceName"]);return n!=null&&l(t,["voiceName"],n),t}function zf(e){const t={},n=r(e,["voiceName"]);return n!=null&&l(t,["voiceName"],n),t}function ks(e){const t={},n=r(e,["prebuiltVoiceConfig"]);return n!=null&&l(t,["prebuiltVoiceConfig"],Bf(n)),t}function Gf(e){const t={},n=r(e,["prebuiltVoiceConfig"]);return n!=null&&l(t,["prebuiltVoiceConfig"],zf(n)),t}function $f(e){const t={},n=r(e,["speaker"]);n!=null&&l(t,["speaker"],n);const i=r(e,["voiceConfig"]);return i!=null&&l(t,["voiceConfig"],ks(i)),t}function Hf(e){const t={},n=r(e,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>$f(o))),l(t,["speakerVoiceConfigs"],i)}return t}function Jf(e){const t={},n=r(e,["voiceConfig"]);n!=null&&l(t,["voiceConfig"],ks(n));const i=r(e,["multiSpeakerVoiceConfig"]);i!=null&&l(t,["multiSpeakerVoiceConfig"],Hf(i));const o=r(e,["languageCode"]);return o!=null&&l(t,["languageCode"],o),t}function Of(e){const t={},n=r(e,["voiceConfig"]);if(n!=null&&l(t,["voiceConfig"],Gf(n)),r(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=r(e,["languageCode"]);return i!=null&&l(t,["languageCode"],i),t}function Wf(e){const t={},n=r(e,["fps"]);n!=null&&l(t,["fps"],n);const i=r(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const o=r(e,["startOffset"]);return o!=null&&l(t,["startOffset"],o),t}function Yf(e){const t={},n=r(e,["fps"]);n!=null&&l(t,["fps"],n);const i=r(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const o=r(e,["startOffset"]);return o!=null&&l(t,["startOffset"],o),t}function Kf(e){const t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(e,["data"]);n!=null&&l(t,["data"],n);const i=r(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function Xf(e){const t={},n=r(e,["displayName"]);n!=null&&l(t,["displayName"],n);const i=r(e,["data"]);i!=null&&l(t,["data"],i);const o=r(e,["mimeType"]);return o!=null&&l(t,["mimeType"],o),t}function Qf(e){const t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(e,["fileUri"]);n!=null&&l(t,["fileUri"],n);const i=r(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function Zf(e){const t={},n=r(e,["displayName"]);n!=null&&l(t,["displayName"],n);const i=r(e,["fileUri"]);i!=null&&l(t,["fileUri"],i);const o=r(e,["mimeType"]);return o!=null&&l(t,["mimeType"],o),t}function jf(e){const t={},n=r(e,["videoMetadata"]);n!=null&&l(t,["videoMetadata"],Wf(n));const i=r(e,["thought"]);i!=null&&l(t,["thought"],i);const o=r(e,["inlineData"]);o!=null&&l(t,["inlineData"],Kf(o));const s=r(e,["fileData"]);s!=null&&l(t,["fileData"],Qf(s));const a=r(e,["thoughtSignature"]);a!=null&&l(t,["thoughtSignature"],a);const u=r(e,["codeExecutionResult"]);u!=null&&l(t,["codeExecutionResult"],u);const f=r(e,["executableCode"]);f!=null&&l(t,["executableCode"],f);const c=r(e,["functionCall"]);c!=null&&l(t,["functionCall"],c);const d=r(e,["functionResponse"]);d!=null&&l(t,["functionResponse"],d);const p=r(e,["text"]);return p!=null&&l(t,["text"],p),t}function ed(e){const t={},n=r(e,["videoMetadata"]);n!=null&&l(t,["videoMetadata"],Yf(n));const i=r(e,["thought"]);i!=null&&l(t,["thought"],i);const o=r(e,["inlineData"]);o!=null&&l(t,["inlineData"],Xf(o));const s=r(e,["fileData"]);s!=null&&l(t,["fileData"],Zf(s));const a=r(e,["thoughtSignature"]);a!=null&&l(t,["thoughtSignature"],a);const u=r(e,["codeExecutionResult"]);u!=null&&l(t,["codeExecutionResult"],u);const f=r(e,["executableCode"]);f!=null&&l(t,["executableCode"],f);const c=r(e,["functionCall"]);c!=null&&l(t,["functionCall"],c);const d=r(e,["functionResponse"]);d!=null&&l(t,["functionResponse"],d);const p=r(e,["text"]);return p!=null&&l(t,["text"],p),t}function td(e){const t={},n=r(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>jf(s))),l(t,["parts"],o)}const i=r(e,["role"]);return i!=null&&l(t,["role"],i),t}function nd(e){const t={},n=r(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>ed(s))),l(t,["parts"],o)}const i=r(e,["role"]);return i!=null&&l(t,["role"],i),t}function id(e){const t={},n=r(e,["behavior"]);n!=null&&l(t,["behavior"],n);const i=r(e,["description"]);i!=null&&l(t,["description"],i);const o=r(e,["name"]);o!=null&&l(t,["name"],o);const s=r(e,["parameters"]);s!=null&&l(t,["parameters"],s);const a=r(e,["parametersJsonSchema"]);a!=null&&l(t,["parametersJsonSchema"],a);const u=r(e,["response"]);u!=null&&l(t,["response"],u);const f=r(e,["responseJsonSchema"]);return f!=null&&l(t,["responseJsonSchema"],f),t}function od(e){const t={};if(r(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=r(e,["description"]);n!=null&&l(t,["description"],n);const i=r(e,["name"]);i!=null&&l(t,["name"],i);const o=r(e,["parameters"]);o!=null&&l(t,["parameters"],o);const s=r(e,["parametersJsonSchema"]);s!=null&&l(t,["parametersJsonSchema"],s);const a=r(e,["response"]);a!=null&&l(t,["response"],a);const u=r(e,["responseJsonSchema"]);return u!=null&&l(t,["responseJsonSchema"],u),t}function rd(e){const t={},n=r(e,["startTime"]);n!=null&&l(t,["startTime"],n);const i=r(e,["endTime"]);return i!=null&&l(t,["endTime"],i),t}function sd(e){const t={},n=r(e,["startTime"]);n!=null&&l(t,["startTime"],n);const i=r(e,["endTime"]);return i!=null&&l(t,["endTime"],i),t}function ld(e){const t={},n=r(e,["timeRangeFilter"]);return n!=null&&l(t,["timeRangeFilter"],rd(n)),t}function ad(e){const t={},n=r(e,["timeRangeFilter"]);return n!=null&&l(t,["timeRangeFilter"],sd(n)),t}function ud(e){const t={},n=r(e,["mode"]);n!=null&&l(t,["mode"],n);const i=r(e,["dynamicThreshold"]);return i!=null&&l(t,["dynamicThreshold"],i),t}function cd(e){const t={},n=r(e,["mode"]);n!=null&&l(t,["mode"],n);const i=r(e,["dynamicThreshold"]);return i!=null&&l(t,["dynamicThreshold"],i),t}function fd(e){const t={},n=r(e,["dynamicRetrievalConfig"]);return n!=null&&l(t,["dynamicRetrievalConfig"],ud(n)),t}function dd(e){const t={},n=r(e,["dynamicRetrievalConfig"]);return n!=null&&l(t,["dynamicRetrievalConfig"],cd(n)),t}function pd(){return{}}function md(e){const t={},n=r(e,["apiKeyString"]);return n!=null&&l(t,["apiKeyString"],n),t}function hd(e){const t={},n=r(e,["apiKeyConfig"]);n!=null&&l(t,["apiKeyConfig"],md(n));const i=r(e,["authType"]);i!=null&&l(t,["authType"],i);const o=r(e,["googleServiceAccountConfig"]);o!=null&&l(t,["googleServiceAccountConfig"],o);const s=r(e,["httpBasicAuthConfig"]);s!=null&&l(t,["httpBasicAuthConfig"],s);const a=r(e,["oauthConfig"]);a!=null&&l(t,["oauthConfig"],a);const u=r(e,["oidcConfig"]);return u!=null&&l(t,["oidcConfig"],u),t}function gd(e){const t={},n=r(e,["authConfig"]);return n!=null&&l(t,["authConfig"],hd(n)),t}function yd(){return{}}function xd(){return{}}function Cd(e){const t={},n=r(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>id(c))),l(t,["functionDeclarations"],f)}if(r(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=r(e,["googleSearch"]);i!=null&&l(t,["googleSearch"],ld(i));const o=r(e,["googleSearchRetrieval"]);if(o!=null&&l(t,["googleSearchRetrieval"],fd(o)),r(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(e,["urlContext"])!=null&&l(t,["urlContext"],yd());const a=r(e,["codeExecution"]);a!=null&&l(t,["codeExecution"],a);const u=r(e,["computerUse"]);return u!=null&&l(t,["computerUse"],u),t}function vd(e){const t={},n=r(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>od(h))),l(t,["functionDeclarations"],p)}const i=r(e,["retrieval"]);i!=null&&l(t,["retrieval"],i);const o=r(e,["googleSearch"]);o!=null&&l(t,["googleSearch"],ad(o));const s=r(e,["googleSearchRetrieval"]);s!=null&&l(t,["googleSearchRetrieval"],dd(s)),r(e,["enterpriseWebSearch"])!=null&&l(t,["enterpriseWebSearch"],pd());const u=r(e,["googleMaps"]);u!=null&&l(t,["googleMaps"],gd(u)),r(e,["urlContext"])!=null&&l(t,["urlContext"],xd());const c=r(e,["codeExecution"]);c!=null&&l(t,["codeExecution"],c);const d=r(e,["computerUse"]);return d!=null&&l(t,["computerUse"],d),t}function _d(e){const t={},n=r(e,["handle"]);if(n!=null&&l(t,["handle"],n),r(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Td(e){const t={},n=r(e,["handle"]);n!=null&&l(t,["handle"],n);const i=r(e,["transparent"]);return i!=null&&l(t,["transparent"],i),t}function Jo(){return{}}function Oo(){return{}}function Sd(e){const t={},n=r(e,["disabled"]);n!=null&&l(t,["disabled"],n);const i=r(e,["startOfSpeechSensitivity"]);i!=null&&l(t,["startOfSpeechSensitivity"],i);const o=r(e,["endOfSpeechSensitivity"]);o!=null&&l(t,["endOfSpeechSensitivity"],o);const s=r(e,["prefixPaddingMs"]);s!=null&&l(t,["prefixPaddingMs"],s);const a=r(e,["silenceDurationMs"]);return a!=null&&l(t,["silenceDurationMs"],a),t}function wd(e){const t={},n=r(e,["disabled"]);n!=null&&l(t,["disabled"],n);const i=r(e,["startOfSpeechSensitivity"]);i!=null&&l(t,["startOfSpeechSensitivity"],i);const o=r(e,["endOfSpeechSensitivity"]);o!=null&&l(t,["endOfSpeechSensitivity"],o);const s=r(e,["prefixPaddingMs"]);s!=null&&l(t,["prefixPaddingMs"],s);const a=r(e,["silenceDurationMs"]);return a!=null&&l(t,["silenceDurationMs"],a),t}function kd(e){const t={},n=r(e,["automaticActivityDetection"]);n!=null&&l(t,["automaticActivityDetection"],Sd(n));const i=r(e,["activityHandling"]);i!=null&&l(t,["activityHandling"],i);const o=r(e,["turnCoverage"]);return o!=null&&l(t,["turnCoverage"],o),t}function Ed(e){const t={},n=r(e,["automaticActivityDetection"]);n!=null&&l(t,["automaticActivityDetection"],wd(n));const i=r(e,["activityHandling"]);i!=null&&l(t,["activityHandling"],i);const o=r(e,["turnCoverage"]);return o!=null&&l(t,["turnCoverage"],o),t}function bd(e){const t={},n=r(e,["targetTokens"]);return n!=null&&l(t,["targetTokens"],n),t}function Ad(e){const t={},n=r(e,["targetTokens"]);return n!=null&&l(t,["targetTokens"],n),t}function Id(e){const t={},n=r(e,["triggerTokens"]);n!=null&&l(t,["triggerTokens"],n);const i=r(e,["slidingWindow"]);return i!=null&&l(t,["slidingWindow"],bd(i)),t}function Nd(e){const t={},n=r(e,["triggerTokens"]);n!=null&&l(t,["triggerTokens"],n);const i=r(e,["slidingWindow"]);return i!=null&&l(t,["slidingWindow"],Ad(i)),t}function Md(e){const t={},n=r(e,["proactiveAudio"]);return n!=null&&l(t,["proactiveAudio"],n),t}function Pd(e){const t={},n=r(e,["proactiveAudio"]);return n!=null&&l(t,["proactiveAudio"],n),t}function Rd(e,t){const n={},i=r(e,["generationConfig"]);t!==void 0&&i!=null&&l(t,["setup","generationConfig"],i);const o=r(e,["responseModalities"]);t!==void 0&&o!=null&&l(t,["setup","generationConfig","responseModalities"],o);const s=r(e,["temperature"]);t!==void 0&&s!=null&&l(t,["setup","generationConfig","temperature"],s);const a=r(e,["topP"]);t!==void 0&&a!=null&&l(t,["setup","generationConfig","topP"],a);const u=r(e,["topK"]);t!==void 0&&u!=null&&l(t,["setup","generationConfig","topK"],u);const f=r(e,["maxOutputTokens"]);t!==void 0&&f!=null&&l(t,["setup","generationConfig","maxOutputTokens"],f);const c=r(e,["mediaResolution"]);t!==void 0&&c!=null&&l(t,["setup","generationConfig","mediaResolution"],c);const d=r(e,["seed"]);t!==void 0&&d!=null&&l(t,["setup","generationConfig","seed"],d);const p=r(e,["speechConfig"]);t!==void 0&&p!=null&&l(t,["setup","generationConfig","speechConfig"],Jf(li(p)));const h=r(e,["enableAffectiveDialog"]);t!==void 0&&h!=null&&l(t,["setup","generationConfig","enableAffectiveDialog"],h);const g=r(e,["systemInstruction"]);t!==void 0&&g!=null&&l(t,["setup","systemInstruction"],td(se(g)));const y=r(e,["tools"]);if(t!==void 0&&y!=null){let N=nt(y);Array.isArray(N)&&(N=N.map(S=>Cd(tt(S)))),l(t,["setup","tools"],N)}const C=r(e,["sessionResumption"]);t!==void 0&&C!=null&&l(t,["setup","sessionResumption"],_d(C));const w=r(e,["inputAudioTranscription"]);t!==void 0&&w!=null&&l(t,["setup","inputAudioTranscription"],Jo());const x=r(e,["outputAudioTranscription"]);t!==void 0&&x!=null&&l(t,["setup","outputAudioTranscription"],Jo());const T=r(e,["realtimeInputConfig"]);t!==void 0&&T!=null&&l(t,["setup","realtimeInputConfig"],kd(T));const v=r(e,["contextWindowCompression"]);t!==void 0&&v!=null&&l(t,["setup","contextWindowCompression"],Id(v));const A=r(e,["proactivity"]);return t!==void 0&&A!=null&&l(t,["setup","proactivity"],Md(A)),n}function Dd(e,t){const n={},i=r(e,["generationConfig"]);t!==void 0&&i!=null&&l(t,["setup","generationConfig"],i);const o=r(e,["responseModalities"]);t!==void 0&&o!=null&&l(t,["setup","generationConfig","responseModalities"],o);const s=r(e,["temperature"]);t!==void 0&&s!=null&&l(t,["setup","generationConfig","temperature"],s);const a=r(e,["topP"]);t!==void 0&&a!=null&&l(t,["setup","generationConfig","topP"],a);const u=r(e,["topK"]);t!==void 0&&u!=null&&l(t,["setup","generationConfig","topK"],u);const f=r(e,["maxOutputTokens"]);t!==void 0&&f!=null&&l(t,["setup","generationConfig","maxOutputTokens"],f);const c=r(e,["mediaResolution"]);t!==void 0&&c!=null&&l(t,["setup","generationConfig","mediaResolution"],c);const d=r(e,["seed"]);t!==void 0&&d!=null&&l(t,["setup","generationConfig","seed"],d);const p=r(e,["speechConfig"]);t!==void 0&&p!=null&&l(t,["setup","generationConfig","speechConfig"],Of(li(p)));const h=r(e,["enableAffectiveDialog"]);t!==void 0&&h!=null&&l(t,["setup","generationConfig","enableAffectiveDialog"],h);const g=r(e,["systemInstruction"]);t!==void 0&&g!=null&&l(t,["setup","systemInstruction"],nd(se(g)));const y=r(e,["tools"]);if(t!==void 0&&y!=null){let N=nt(y);Array.isArray(N)&&(N=N.map(S=>vd(tt(S)))),l(t,["setup","tools"],N)}const C=r(e,["sessionResumption"]);t!==void 0&&C!=null&&l(t,["setup","sessionResumption"],Td(C));const w=r(e,["inputAudioTranscription"]);t!==void 0&&w!=null&&l(t,["setup","inputAudioTranscription"],Oo());const x=r(e,["outputAudioTranscription"]);t!==void 0&&x!=null&&l(t,["setup","outputAudioTranscription"],Oo());const T=r(e,["realtimeInputConfig"]);t!==void 0&&T!=null&&l(t,["setup","realtimeInputConfig"],Ed(T));const v=r(e,["contextWindowCompression"]);t!==void 0&&v!=null&&l(t,["setup","contextWindowCompression"],Nd(v));const A=r(e,["proactivity"]);return t!==void 0&&A!=null&&l(t,["setup","proactivity"],Pd(A)),n}function Ld(e,t){const n={},i=r(t,["model"]);i!=null&&l(n,["setup","model"],K(e,i));const o=r(t,["config"]);return o!=null&&l(n,["config"],Rd(o,n)),n}function Fd(e,t){const n={},i=r(t,["model"]);i!=null&&l(n,["setup","model"],K(e,i));const o=r(t,["config"]);return o!=null&&l(n,["config"],Dd(o,n)),n}function qd(){return{}}function Vd(){return{}}function Ud(){return{}}function Bd(){return{}}function zd(e){const t={},n=r(e,["media"]);n!=null&&l(t,["mediaChunks"],us(n));const i=r(e,["audio"]);i!=null&&l(t,["audio"],fs(i));const o=r(e,["audioStreamEnd"]);o!=null&&l(t,["audioStreamEnd"],o);const s=r(e,["video"]);s!=null&&l(t,["video"],cs(s));const a=r(e,["text"]);return a!=null&&l(t,["text"],a),r(e,["activityStart"])!=null&&l(t,["activityStart"],qd()),r(e,["activityEnd"])!=null&&l(t,["activityEnd"],Ud()),t}function Gd(e){const t={},n=r(e,["media"]);n!=null&&l(t,["mediaChunks"],us(n));const i=r(e,["audio"]);i!=null&&l(t,["audio"],fs(i));const o=r(e,["audioStreamEnd"]);o!=null&&l(t,["audioStreamEnd"],o);const s=r(e,["video"]);s!=null&&l(t,["video"],cs(s));const a=r(e,["text"]);return a!=null&&l(t,["text"],a),r(e,["activityStart"])!=null&&l(t,["activityStart"],Vd()),r(e,["activityEnd"])!=null&&l(t,["activityEnd"],Bd()),t}function Es(e){const t={},n=r(e,["text"]);n!=null&&l(t,["text"],n);const i=r(e,["weight"]);return i!=null&&l(t,["weight"],i),t}function $d(e){const t={},n=r(e,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Es(o))),l(t,["weightedPrompts"],i)}return t}function bs(e){const t={},n=r(e,["temperature"]);n!=null&&l(t,["temperature"],n);const i=r(e,["topK"]);i!=null&&l(t,["topK"],i);const o=r(e,["seed"]);o!=null&&l(t,["seed"],o);const s=r(e,["guidance"]);s!=null&&l(t,["guidance"],s);const a=r(e,["bpm"]);a!=null&&l(t,["bpm"],a);const u=r(e,["density"]);u!=null&&l(t,["density"],u);const f=r(e,["brightness"]);f!=null&&l(t,["brightness"],f);const c=r(e,["scale"]);c!=null&&l(t,["scale"],c);const d=r(e,["muteBass"]);d!=null&&l(t,["muteBass"],d);const p=r(e,["muteDrums"]);p!=null&&l(t,["muteDrums"],p);const h=r(e,["onlyBassAndDrums"]);return h!=null&&l(t,["onlyBassAndDrums"],h),t}function Hd(e){const t={},n=r(e,["musicGenerationConfig"]);return n!=null&&l(t,["musicGenerationConfig"],bs(n)),t}function As(e){const t={},n=r(e,["model"]);return n!=null&&l(t,["model"],n),t}function Is(e){const t={},n=r(e,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Es(o))),l(t,["weightedPrompts"],i)}return t}function zn(e){const t={},n=r(e,["setup"]);n!=null&&l(t,["setup"],As(n));const i=r(e,["clientContent"]);i!=null&&l(t,["clientContent"],Is(i));const o=r(e,["musicGenerationConfig"]);o!=null&&l(t,["musicGenerationConfig"],bs(o));const s=r(e,["playbackControl"]);return s!=null&&l(t,["playbackControl"],s),t}function Jd(){return{}}function Od(e){const t={},n=r(e,["sessionId"]);return n!=null&&l(t,["sessionId"],n),t}function Wd(e){const t={},n=r(e,["fps"]);n!=null&&l(t,["fps"],n);const i=r(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const o=r(e,["startOffset"]);return o!=null&&l(t,["startOffset"],o),t}function Yd(e){const t={},n=r(e,["fps"]);n!=null&&l(t,["fps"],n);const i=r(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const o=r(e,["startOffset"]);return o!=null&&l(t,["startOffset"],o),t}function Kd(e){const t={},n=r(e,["data"]);n!=null&&l(t,["data"],n);const i=r(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function Xd(e){const t={},n=r(e,["displayName"]);n!=null&&l(t,["displayName"],n);const i=r(e,["data"]);i!=null&&l(t,["data"],i);const o=r(e,["mimeType"]);return o!=null&&l(t,["mimeType"],o),t}function Qd(e){const t={},n=r(e,["fileUri"]);n!=null&&l(t,["fileUri"],n);const i=r(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function Zd(e){const t={},n=r(e,["displayName"]);n!=null&&l(t,["displayName"],n);const i=r(e,["fileUri"]);i!=null&&l(t,["fileUri"],i);const o=r(e,["mimeType"]);return o!=null&&l(t,["mimeType"],o),t}function jd(e){const t={},n=r(e,["videoMetadata"]);n!=null&&l(t,["videoMetadata"],Wd(n));const i=r(e,["thought"]);i!=null&&l(t,["thought"],i);const o=r(e,["inlineData"]);o!=null&&l(t,["inlineData"],Kd(o));const s=r(e,["fileData"]);s!=null&&l(t,["fileData"],Qd(s));const a=r(e,["thoughtSignature"]);a!=null&&l(t,["thoughtSignature"],a);const u=r(e,["codeExecutionResult"]);u!=null&&l(t,["codeExecutionResult"],u);const f=r(e,["executableCode"]);f!=null&&l(t,["executableCode"],f);const c=r(e,["functionCall"]);c!=null&&l(t,["functionCall"],c);const d=r(e,["functionResponse"]);d!=null&&l(t,["functionResponse"],d);const p=r(e,["text"]);return p!=null&&l(t,["text"],p),t}function ep(e){const t={},n=r(e,["videoMetadata"]);n!=null&&l(t,["videoMetadata"],Yd(n));const i=r(e,["thought"]);i!=null&&l(t,["thought"],i);const o=r(e,["inlineData"]);o!=null&&l(t,["inlineData"],Xd(o));const s=r(e,["fileData"]);s!=null&&l(t,["fileData"],Zd(s));const a=r(e,["thoughtSignature"]);a!=null&&l(t,["thoughtSignature"],a);const u=r(e,["codeExecutionResult"]);u!=null&&l(t,["codeExecutionResult"],u);const f=r(e,["executableCode"]);f!=null&&l(t,["executableCode"],f);const c=r(e,["functionCall"]);c!=null&&l(t,["functionCall"],c);const d=r(e,["functionResponse"]);d!=null&&l(t,["functionResponse"],d);const p=r(e,["text"]);return p!=null&&l(t,["text"],p),t}function tp(e){const t={},n=r(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>jd(s))),l(t,["parts"],o)}const i=r(e,["role"]);return i!=null&&l(t,["role"],i),t}function np(e){const t={},n=r(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>ep(s))),l(t,["parts"],o)}const i=r(e,["role"]);return i!=null&&l(t,["role"],i),t}function Wo(e){const t={},n=r(e,["text"]);n!=null&&l(t,["text"],n);const i=r(e,["finished"]);return i!=null&&l(t,["finished"],i),t}function Yo(e){const t={},n=r(e,["text"]);n!=null&&l(t,["text"],n);const i=r(e,["finished"]);return i!=null&&l(t,["finished"],i),t}function ip(e){const t={},n=r(e,["retrievedUrl"]);n!=null&&l(t,["retrievedUrl"],n);const i=r(e,["urlRetrievalStatus"]);return i!=null&&l(t,["urlRetrievalStatus"],i),t}function op(e){const t={},n=r(e,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ip(o))),l(t,["urlMetadata"],i)}return t}function rp(e){const t={},n=r(e,["modelTurn"]);n!=null&&l(t,["modelTurn"],tp(n));const i=r(e,["turnComplete"]);i!=null&&l(t,["turnComplete"],i);const o=r(e,["interrupted"]);o!=null&&l(t,["interrupted"],o);const s=r(e,["groundingMetadata"]);s!=null&&l(t,["groundingMetadata"],s);const a=r(e,["generationComplete"]);a!=null&&l(t,["generationComplete"],a);const u=r(e,["inputTranscription"]);u!=null&&l(t,["inputTranscription"],Wo(u));const f=r(e,["outputTranscription"]);f!=null&&l(t,["outputTranscription"],Wo(f));const c=r(e,["urlContextMetadata"]);return c!=null&&l(t,["urlContextMetadata"],op(c)),t}function sp(e){const t={},n=r(e,["modelTurn"]);n!=null&&l(t,["modelTurn"],np(n));const i=r(e,["turnComplete"]);i!=null&&l(t,["turnComplete"],i);const o=r(e,["interrupted"]);o!=null&&l(t,["interrupted"],o);const s=r(e,["groundingMetadata"]);s!=null&&l(t,["groundingMetadata"],s);const a=r(e,["generationComplete"]);a!=null&&l(t,["generationComplete"],a);const u=r(e,["inputTranscription"]);u!=null&&l(t,["inputTranscription"],Yo(u));const f=r(e,["outputTranscription"]);return f!=null&&l(t,["outputTranscription"],Yo(f)),t}function lp(e){const t={},n=r(e,["id"]);n!=null&&l(t,["id"],n);const i=r(e,["args"]);i!=null&&l(t,["args"],i);const o=r(e,["name"]);return o!=null&&l(t,["name"],o),t}function ap(e){const t={},n=r(e,["args"]);n!=null&&l(t,["args"],n);const i=r(e,["name"]);return i!=null&&l(t,["name"],i),t}function up(e){const t={},n=r(e,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>lp(o))),l(t,["functionCalls"],i)}return t}function cp(e){const t={},n=r(e,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ap(o))),l(t,["functionCalls"],i)}return t}function fp(e){const t={},n=r(e,["ids"]);return n!=null&&l(t,["ids"],n),t}function dp(e){const t={},n=r(e,["ids"]);return n!=null&&l(t,["ids"],n),t}function It(e){const t={},n=r(e,["modality"]);n!=null&&l(t,["modality"],n);const i=r(e,["tokenCount"]);return i!=null&&l(t,["tokenCount"],i),t}function Nt(e){const t={},n=r(e,["modality"]);n!=null&&l(t,["modality"],n);const i=r(e,["tokenCount"]);return i!=null&&l(t,["tokenCount"],i),t}function pp(e){const t={},n=r(e,["promptTokenCount"]);n!=null&&l(t,["promptTokenCount"],n);const i=r(e,["cachedContentTokenCount"]);i!=null&&l(t,["cachedContentTokenCount"],i);const o=r(e,["responseTokenCount"]);o!=null&&l(t,["responseTokenCount"],o);const s=r(e,["toolUsePromptTokenCount"]);s!=null&&l(t,["toolUsePromptTokenCount"],s);const a=r(e,["thoughtsTokenCount"]);a!=null&&l(t,["thoughtsTokenCount"],a);const u=r(e,["totalTokenCount"]);u!=null&&l(t,["totalTokenCount"],u);const f=r(e,["promptTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>It(g))),l(t,["promptTokensDetails"],h)}const c=r(e,["cacheTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>It(g))),l(t,["cacheTokensDetails"],h)}const d=r(e,["responseTokensDetails"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>It(g))),l(t,["responseTokensDetails"],h)}const p=r(e,["toolUsePromptTokensDetails"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>It(g))),l(t,["toolUsePromptTokensDetails"],h)}return t}function mp(e){const t={},n=r(e,["promptTokenCount"]);n!=null&&l(t,["promptTokenCount"],n);const i=r(e,["cachedContentTokenCount"]);i!=null&&l(t,["cachedContentTokenCount"],i);const o=r(e,["candidatesTokenCount"]);o!=null&&l(t,["responseTokenCount"],o);const s=r(e,["toolUsePromptTokenCount"]);s!=null&&l(t,["toolUsePromptTokenCount"],s);const a=r(e,["thoughtsTokenCount"]);a!=null&&l(t,["thoughtsTokenCount"],a);const u=r(e,["totalTokenCount"]);u!=null&&l(t,["totalTokenCount"],u);const f=r(e,["promptTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>Nt(y))),l(t,["promptTokensDetails"],g)}const c=r(e,["cacheTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>Nt(y))),l(t,["cacheTokensDetails"],g)}const d=r(e,["candidatesTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>Nt(y))),l(t,["responseTokensDetails"],g)}const p=r(e,["toolUsePromptTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(y=>Nt(y))),l(t,["toolUsePromptTokensDetails"],g)}const h=r(e,["trafficType"]);return h!=null&&l(t,["trafficType"],h),t}function hp(e){const t={},n=r(e,["timeLeft"]);return n!=null&&l(t,["timeLeft"],n),t}function gp(e){const t={},n=r(e,["timeLeft"]);return n!=null&&l(t,["timeLeft"],n),t}function yp(e){const t={},n=r(e,["newHandle"]);n!=null&&l(t,["newHandle"],n);const i=r(e,["resumable"]);i!=null&&l(t,["resumable"],i);const o=r(e,["lastConsumedClientMessageIndex"]);return o!=null&&l(t,["lastConsumedClientMessageIndex"],o),t}function xp(e){const t={},n=r(e,["newHandle"]);n!=null&&l(t,["newHandle"],n);const i=r(e,["resumable"]);i!=null&&l(t,["resumable"],i);const o=r(e,["lastConsumedClientMessageIndex"]);return o!=null&&l(t,["lastConsumedClientMessageIndex"],o),t}function Cp(e){const t={};r(e,["setupComplete"])!=null&&l(t,["setupComplete"],Jd());const i=r(e,["serverContent"]);i!=null&&l(t,["serverContent"],rp(i));const o=r(e,["toolCall"]);o!=null&&l(t,["toolCall"],up(o));const s=r(e,["toolCallCancellation"]);s!=null&&l(t,["toolCallCancellation"],fp(s));const a=r(e,["usageMetadata"]);a!=null&&l(t,["usageMetadata"],pp(a));const u=r(e,["goAway"]);u!=null&&l(t,["goAway"],hp(u));const f=r(e,["sessionResumptionUpdate"]);return f!=null&&l(t,["sessionResumptionUpdate"],yp(f)),t}function vp(e){const t={},n=r(e,["setupComplete"]);n!=null&&l(t,["setupComplete"],Od(n));const i=r(e,["serverContent"]);i!=null&&l(t,["serverContent"],sp(i));const o=r(e,["toolCall"]);o!=null&&l(t,["toolCall"],cp(o));const s=r(e,["toolCallCancellation"]);s!=null&&l(t,["toolCallCancellation"],dp(s));const a=r(e,["usageMetadata"]);a!=null&&l(t,["usageMetadata"],mp(a));const u=r(e,["goAway"]);u!=null&&l(t,["goAway"],gp(u));const f=r(e,["sessionResumptionUpdate"]);return f!=null&&l(t,["sessionResumptionUpdate"],xp(f)),t}function _p(){return{}}function Tp(e){const t={},n=r(e,["text"]);n!=null&&l(t,["text"],n);const i=r(e,["weight"]);return i!=null&&l(t,["weight"],i),t}function Sp(e){const t={},n=r(e,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Tp(o))),l(t,["weightedPrompts"],i)}return t}function wp(e){const t={},n=r(e,["temperature"]);n!=null&&l(t,["temperature"],n);const i=r(e,["topK"]);i!=null&&l(t,["topK"],i);const o=r(e,["seed"]);o!=null&&l(t,["seed"],o);const s=r(e,["guidance"]);s!=null&&l(t,["guidance"],s);const a=r(e,["bpm"]);a!=null&&l(t,["bpm"],a);const u=r(e,["density"]);u!=null&&l(t,["density"],u);const f=r(e,["brightness"]);f!=null&&l(t,["brightness"],f);const c=r(e,["scale"]);c!=null&&l(t,["scale"],c);const d=r(e,["muteBass"]);d!=null&&l(t,["muteBass"],d);const p=r(e,["muteDrums"]);p!=null&&l(t,["muteDrums"],p);const h=r(e,["onlyBassAndDrums"]);return h!=null&&l(t,["onlyBassAndDrums"],h),t}function kp(e){const t={},n=r(e,["clientContent"]);n!=null&&l(t,["clientContent"],Sp(n));const i=r(e,["musicGenerationConfig"]);return i!=null&&l(t,["musicGenerationConfig"],wp(i)),t}function Ep(e){const t={},n=r(e,["data"]);n!=null&&l(t,["data"],n);const i=r(e,["mimeType"]);i!=null&&l(t,["mimeType"],i);const o=r(e,["sourceMetadata"]);return o!=null&&l(t,["sourceMetadata"],kp(o)),t}function bp(e){const t={},n=r(e,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ep(o))),l(t,["audioChunks"],i)}return t}function Ap(e){const t={},n=r(e,["text"]);n!=null&&l(t,["text"],n);const i=r(e,["filteredReason"]);return i!=null&&l(t,["filteredReason"],i),t}function Ip(e){const t={};r(e,["setupComplete"])!=null&&l(t,["setupComplete"],_p());const i=r(e,["serverContent"]);i!=null&&l(t,["serverContent"],bp(i));const o=r(e,["filteredPrompt"]);return o!=null&&l(t,["filteredPrompt"],Ap(o)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Np(e){const t={},n=r(e,["fps"]);n!=null&&l(t,["fps"],n);const i=r(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const o=r(e,["startOffset"]);return o!=null&&l(t,["startOffset"],o),t}function Mp(e){const t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(e,["data"]);n!=null&&l(t,["data"],n);const i=r(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function Pp(e){const t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(e,["fileUri"]);n!=null&&l(t,["fileUri"],n);const i=r(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function Rp(e){const t={},n=r(e,["videoMetadata"]);n!=null&&l(t,["videoMetadata"],Np(n));const i=r(e,["thought"]);i!=null&&l(t,["thought"],i);const o=r(e,["inlineData"]);o!=null&&l(t,["inlineData"],Mp(o));const s=r(e,["fileData"]);s!=null&&l(t,["fileData"],Pp(s));const a=r(e,["thoughtSignature"]);a!=null&&l(t,["thoughtSignature"],a);const u=r(e,["codeExecutionResult"]);u!=null&&l(t,["codeExecutionResult"],u);const f=r(e,["executableCode"]);f!=null&&l(t,["executableCode"],f);const c=r(e,["functionCall"]);c!=null&&l(t,["functionCall"],c);const d=r(e,["functionResponse"]);d!=null&&l(t,["functionResponse"],d);const p=r(e,["text"]);return p!=null&&l(t,["text"],p),t}function tn(e){const t={},n=r(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Rp(s))),l(t,["parts"],o)}const i=r(e,["role"]);return i!=null&&l(t,["role"],i),t}function Dp(e){const t={},n=r(e,["anyOf"]);n!=null&&l(t,["anyOf"],n);const i=r(e,["default"]);i!=null&&l(t,["default"],i);const o=r(e,["description"]);o!=null&&l(t,["description"],o);const s=r(e,["enum"]);s!=null&&l(t,["enum"],s);const a=r(e,["example"]);a!=null&&l(t,["example"],a);const u=r(e,["format"]);u!=null&&l(t,["format"],u);const f=r(e,["items"]);f!=null&&l(t,["items"],f);const c=r(e,["maxItems"]);c!=null&&l(t,["maxItems"],c);const d=r(e,["maxLength"]);d!=null&&l(t,["maxLength"],d);const p=r(e,["maxProperties"]);p!=null&&l(t,["maxProperties"],p);const h=r(e,["maximum"]);h!=null&&l(t,["maximum"],h);const g=r(e,["minItems"]);g!=null&&l(t,["minItems"],g);const y=r(e,["minLength"]);y!=null&&l(t,["minLength"],y);const C=r(e,["minProperties"]);C!=null&&l(t,["minProperties"],C);const w=r(e,["minimum"]);w!=null&&l(t,["minimum"],w);const x=r(e,["nullable"]);x!=null&&l(t,["nullable"],x);const T=r(e,["pattern"]);T!=null&&l(t,["pattern"],T);const v=r(e,["properties"]);v!=null&&l(t,["properties"],v);const A=r(e,["propertyOrdering"]);A!=null&&l(t,["propertyOrdering"],A);const N=r(e,["required"]);N!=null&&l(t,["required"],N);const S=r(e,["title"]);S!=null&&l(t,["title"],S);const b=r(e,["type"]);return b!=null&&l(t,["type"],b),t}function Lp(e){const t={};if(r(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=r(e,["category"]);n!=null&&l(t,["category"],n);const i=r(e,["threshold"]);return i!=null&&l(t,["threshold"],i),t}function Fp(e){const t={},n=r(e,["behavior"]);n!=null&&l(t,["behavior"],n);const i=r(e,["description"]);i!=null&&l(t,["description"],i);const o=r(e,["name"]);o!=null&&l(t,["name"],o);const s=r(e,["parameters"]);s!=null&&l(t,["parameters"],s);const a=r(e,["parametersJsonSchema"]);a!=null&&l(t,["parametersJsonSchema"],a);const u=r(e,["response"]);u!=null&&l(t,["response"],u);const f=r(e,["responseJsonSchema"]);return f!=null&&l(t,["responseJsonSchema"],f),t}function qp(e){const t={},n=r(e,["startTime"]);n!=null&&l(t,["startTime"],n);const i=r(e,["endTime"]);return i!=null&&l(t,["endTime"],i),t}function Vp(e){const t={},n=r(e,["timeRangeFilter"]);return n!=null&&l(t,["timeRangeFilter"],qp(n)),t}function Up(e){const t={},n=r(e,["mode"]);n!=null&&l(t,["mode"],n);const i=r(e,["dynamicThreshold"]);return i!=null&&l(t,["dynamicThreshold"],i),t}function Bp(e){const t={},n=r(e,["dynamicRetrievalConfig"]);return n!=null&&l(t,["dynamicRetrievalConfig"],Up(n)),t}function zp(){return{}}function Gp(e){const t={},n=r(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>Fp(c))),l(t,["functionDeclarations"],f)}if(r(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=r(e,["googleSearch"]);i!=null&&l(t,["googleSearch"],Vp(i));const o=r(e,["googleSearchRetrieval"]);if(o!=null&&l(t,["googleSearchRetrieval"],Bp(o)),r(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(e,["urlContext"])!=null&&l(t,["urlContext"],zp());const a=r(e,["codeExecution"]);a!=null&&l(t,["codeExecution"],a);const u=r(e,["computerUse"]);return u!=null&&l(t,["computerUse"],u),t}function $p(e){const t={},n=r(e,["mode"]);n!=null&&l(t,["mode"],n);const i=r(e,["allowedFunctionNames"]);return i!=null&&l(t,["allowedFunctionNames"],i),t}function Hp(e){const t={},n=r(e,["latitude"]);n!=null&&l(t,["latitude"],n);const i=r(e,["longitude"]);return i!=null&&l(t,["longitude"],i),t}function Jp(e){const t={},n=r(e,["latLng"]);n!=null&&l(t,["latLng"],Hp(n));const i=r(e,["languageCode"]);return i!=null&&l(t,["languageCode"],i),t}function Op(e){const t={},n=r(e,["functionCallingConfig"]);n!=null&&l(t,["functionCallingConfig"],$p(n));const i=r(e,["retrievalConfig"]);return i!=null&&l(t,["retrievalConfig"],Jp(i)),t}function Wp(e){const t={},n=r(e,["voiceName"]);return n!=null&&l(t,["voiceName"],n),t}function Ns(e){const t={},n=r(e,["prebuiltVoiceConfig"]);return n!=null&&l(t,["prebuiltVoiceConfig"],Wp(n)),t}function Yp(e){const t={},n=r(e,["speaker"]);n!=null&&l(t,["speaker"],n);const i=r(e,["voiceConfig"]);return i!=null&&l(t,["voiceConfig"],Ns(i)),t}function Kp(e){const t={},n=r(e,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Yp(o))),l(t,["speakerVoiceConfigs"],i)}return t}function Xp(e){const t={},n=r(e,["voiceConfig"]);n!=null&&l(t,["voiceConfig"],Ns(n));const i=r(e,["multiSpeakerVoiceConfig"]);i!=null&&l(t,["multiSpeakerVoiceConfig"],Kp(i));const o=r(e,["languageCode"]);return o!=null&&l(t,["languageCode"],o),t}function Qp(e){const t={},n=r(e,["includeThoughts"]);n!=null&&l(t,["includeThoughts"],n);const i=r(e,["thinkingBudget"]);return i!=null&&l(t,["thinkingBudget"],i),t}function Zp(e,t,n){const i={},o=r(t,["systemInstruction"]);n!==void 0&&o!=null&&l(n,["systemInstruction"],tn(se(o)));const s=r(t,["temperature"]);s!=null&&l(i,["temperature"],s);const a=r(t,["topP"]);a!=null&&l(i,["topP"],a);const u=r(t,["topK"]);u!=null&&l(i,["topK"],u);const f=r(t,["candidateCount"]);f!=null&&l(i,["candidateCount"],f);const c=r(t,["maxOutputTokens"]);c!=null&&l(i,["maxOutputTokens"],c);const d=r(t,["stopSequences"]);d!=null&&l(i,["stopSequences"],d);const p=r(t,["responseLogprobs"]);p!=null&&l(i,["responseLogprobs"],p);const h=r(t,["logprobs"]);h!=null&&l(i,["logprobs"],h);const g=r(t,["presencePenalty"]);g!=null&&l(i,["presencePenalty"],g);const y=r(t,["frequencyPenalty"]);y!=null&&l(i,["frequencyPenalty"],y);const C=r(t,["seed"]);C!=null&&l(i,["seed"],C);const w=r(t,["responseMimeType"]);w!=null&&l(i,["responseMimeType"],w);const x=r(t,["responseSchema"]);x!=null&&l(i,["responseSchema"],Dp(ri(x)));const T=r(t,["responseJsonSchema"]);if(T!=null&&l(i,["responseJsonSchema"],T),r(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=r(t,["safetySettings"]);if(n!==void 0&&v!=null){let M=v;Array.isArray(M)&&(M=M.map(L=>Lp(L))),l(n,["safetySettings"],M)}const A=r(t,["tools"]);if(n!==void 0&&A!=null){let M=nt(A);Array.isArray(M)&&(M=M.map(L=>Gp(tt(L)))),l(n,["tools"],M)}const N=r(t,["toolConfig"]);if(n!==void 0&&N!=null&&l(n,["toolConfig"],Op(N)),r(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=r(t,["cachedContent"]);n!==void 0&&S!=null&&l(n,["cachedContent"],Ae(e,S));const b=r(t,["responseModalities"]);b!=null&&l(i,["responseModalities"],b);const q=r(t,["mediaResolution"]);q!=null&&l(i,["mediaResolution"],q);const R=r(t,["speechConfig"]);if(R!=null&&l(i,["speechConfig"],Xp(si(R))),r(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const E=r(t,["thinkingConfig"]);return E!=null&&l(i,["thinkingConfig"],Qp(E)),i}function Ko(e,t){const n={},i=r(t,["model"]);i!=null&&l(n,["_url","model"],K(e,i));const o=r(t,["contents"]);if(o!=null){let a=xe(o);Array.isArray(a)&&(a=a.map(u=>tn(u))),l(n,["contents"],a)}const s=r(t,["config"]);return s!=null&&l(n,["generationConfig"],Zp(e,s,n)),n}function jp(e,t){const n={},i=r(e,["taskType"]);t!==void 0&&i!=null&&l(t,["requests[]","taskType"],i);const o=r(e,["title"]);t!==void 0&&o!=null&&l(t,["requests[]","title"],o);const s=r(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&l(t,["requests[]","outputDimensionality"],s),r(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function em(e,t){const n={},i=r(t,["model"]);i!=null&&l(n,["_url","model"],K(e,i));const o=r(t,["contents"]);o!=null&&l(n,["requests[]","content"],ps(e,o));const s=r(t,["config"]);s!=null&&l(n,["config"],jp(s,n));const a=r(t,["model"]);return a!==void 0&&l(n,["requests[]","model"],K(e,a)),n}function tm(e,t){const n={};if(r(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=r(e,["numberOfImages"]);t!==void 0&&i!=null&&l(t,["parameters","sampleCount"],i);const o=r(e,["aspectRatio"]);t!==void 0&&o!=null&&l(t,["parameters","aspectRatio"],o);const s=r(e,["guidanceScale"]);if(t!==void 0&&s!=null&&l(t,["parameters","guidanceScale"],s),r(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=r(e,["safetyFilterLevel"]);t!==void 0&&a!=null&&l(t,["parameters","safetySetting"],a);const u=r(e,["personGeneration"]);t!==void 0&&u!=null&&l(t,["parameters","personGeneration"],u);const f=r(e,["includeSafetyAttributes"]);t!==void 0&&f!=null&&l(t,["parameters","includeSafetyAttributes"],f);const c=r(e,["includeRaiReason"]);t!==void 0&&c!=null&&l(t,["parameters","includeRaiReason"],c);const d=r(e,["language"]);t!==void 0&&d!=null&&l(t,["parameters","language"],d);const p=r(e,["outputMimeType"]);t!==void 0&&p!=null&&l(t,["parameters","outputOptions","mimeType"],p);const h=r(e,["outputCompressionQuality"]);if(t!==void 0&&h!=null&&l(t,["parameters","outputOptions","compressionQuality"],h),r(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(r(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function nm(e,t){const n={},i=r(t,["model"]);i!=null&&l(n,["_url","model"],K(e,i));const o=r(t,["prompt"]);o!=null&&l(n,["instances[0]","prompt"],o);const s=r(t,["config"]);return s!=null&&l(n,["config"],tm(s,n)),n}function im(e,t){const n={},i=r(t,["model"]);i!=null&&l(n,["_url","name"],K(e,i));const o=r(t,["config"]);return o!=null&&l(n,["config"],o),n}function om(e,t,n){const i={},o=r(t,["pageSize"]);n!==void 0&&o!=null&&l(n,["_query","pageSize"],o);const s=r(t,["pageToken"]);n!==void 0&&s!=null&&l(n,["_query","pageToken"],s);const a=r(t,["filter"]);n!==void 0&&a!=null&&l(n,["_query","filter"],a);const u=r(t,["queryBase"]);return n!==void 0&&u!=null&&l(n,["_url","models_url"],gs(e,u)),i}function rm(e,t){const n={},i=r(t,["config"]);return i!=null&&l(n,["config"],om(e,i,n)),n}function sm(e,t){const n={},i=r(e,["displayName"]);t!==void 0&&i!=null&&l(t,["displayName"],i);const o=r(e,["description"]);t!==void 0&&o!=null&&l(t,["description"],o);const s=r(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&l(t,["defaultCheckpointId"],s),n}function lm(e,t){const n={},i=r(t,["model"]);i!=null&&l(n,["_url","name"],K(e,i));const o=r(t,["config"]);return o!=null&&l(n,["config"],sm(o,n)),n}function am(e,t){const n={},i=r(t,["model"]);i!=null&&l(n,["_url","name"],K(e,i));const o=r(t,["config"]);return o!=null&&l(n,["config"],o),n}function um(e){const t={};if(r(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(r(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(r(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function cm(e,t){const n={},i=r(t,["model"]);i!=null&&l(n,["_url","model"],K(e,i));const o=r(t,["contents"]);if(o!=null){let a=xe(o);Array.isArray(a)&&(a=a.map(u=>tn(u))),l(n,["contents"],a)}const s=r(t,["config"]);return s!=null&&l(n,["config"],um(s)),n}function fm(e){const t={};if(r(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=r(e,["imageBytes"]);n!=null&&l(t,["bytesBase64Encoded"],Ie(n));const i=r(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function dm(e,t){const n={},i=r(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&l(t,["parameters","sampleCount"],i),r(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=r(e,["durationSeconds"]);if(t!==void 0&&o!=null&&l(t,["parameters","durationSeconds"],o),r(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=r(e,["aspectRatio"]);if(t!==void 0&&s!=null&&l(t,["parameters","aspectRatio"],s),r(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const a=r(e,["personGeneration"]);if(t!==void 0&&a!=null&&l(t,["parameters","personGeneration"],a),r(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=r(e,["negativePrompt"]);t!==void 0&&u!=null&&l(t,["parameters","negativePrompt"],u);const f=r(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&l(t,["parameters","enhancePrompt"],f),r(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(r(e,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(r(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function pm(e,t){const n={},i=r(t,["model"]);i!=null&&l(n,["_url","model"],K(e,i));const o=r(t,["prompt"]);o!=null&&l(n,["instances[0]","prompt"],o);const s=r(t,["image"]);if(s!=null&&l(n,["instances[0]","image"],fm(s)),r(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const a=r(t,["config"]);return a!=null&&l(n,["config"],dm(a,n)),n}function mm(e){const t={},n=r(e,["fps"]);n!=null&&l(t,["fps"],n);const i=r(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const o=r(e,["startOffset"]);return o!=null&&l(t,["startOffset"],o),t}function hm(e){const t={},n=r(e,["displayName"]);n!=null&&l(t,["displayName"],n);const i=r(e,["data"]);i!=null&&l(t,["data"],i);const o=r(e,["mimeType"]);return o!=null&&l(t,["mimeType"],o),t}function gm(e){const t={},n=r(e,["displayName"]);n!=null&&l(t,["displayName"],n);const i=r(e,["fileUri"]);i!=null&&l(t,["fileUri"],i);const o=r(e,["mimeType"]);return o!=null&&l(t,["mimeType"],o),t}function ym(e){const t={},n=r(e,["videoMetadata"]);n!=null&&l(t,["videoMetadata"],mm(n));const i=r(e,["thought"]);i!=null&&l(t,["thought"],i);const o=r(e,["inlineData"]);o!=null&&l(t,["inlineData"],hm(o));const s=r(e,["fileData"]);s!=null&&l(t,["fileData"],gm(s));const a=r(e,["thoughtSignature"]);a!=null&&l(t,["thoughtSignature"],a);const u=r(e,["codeExecutionResult"]);u!=null&&l(t,["codeExecutionResult"],u);const f=r(e,["executableCode"]);f!=null&&l(t,["executableCode"],f);const c=r(e,["functionCall"]);c!=null&&l(t,["functionCall"],c);const d=r(e,["functionResponse"]);d!=null&&l(t,["functionResponse"],d);const p=r(e,["text"]);return p!=null&&l(t,["text"],p),t}function ot(e){const t={},n=r(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>ym(s))),l(t,["parts"],o)}const i=r(e,["role"]);return i!=null&&l(t,["role"],i),t}function xm(e){const t={},n=r(e,["anyOf"]);n!=null&&l(t,["anyOf"],n);const i=r(e,["default"]);i!=null&&l(t,["default"],i);const o=r(e,["description"]);o!=null&&l(t,["description"],o);const s=r(e,["enum"]);s!=null&&l(t,["enum"],s);const a=r(e,["example"]);a!=null&&l(t,["example"],a);const u=r(e,["format"]);u!=null&&l(t,["format"],u);const f=r(e,["items"]);f!=null&&l(t,["items"],f);const c=r(e,["maxItems"]);c!=null&&l(t,["maxItems"],c);const d=r(e,["maxLength"]);d!=null&&l(t,["maxLength"],d);const p=r(e,["maxProperties"]);p!=null&&l(t,["maxProperties"],p);const h=r(e,["maximum"]);h!=null&&l(t,["maximum"],h);const g=r(e,["minItems"]);g!=null&&l(t,["minItems"],g);const y=r(e,["minLength"]);y!=null&&l(t,["minLength"],y);const C=r(e,["minProperties"]);C!=null&&l(t,["minProperties"],C);const w=r(e,["minimum"]);w!=null&&l(t,["minimum"],w);const x=r(e,["nullable"]);x!=null&&l(t,["nullable"],x);const T=r(e,["pattern"]);T!=null&&l(t,["pattern"],T);const v=r(e,["properties"]);v!=null&&l(t,["properties"],v);const A=r(e,["propertyOrdering"]);A!=null&&l(t,["propertyOrdering"],A);const N=r(e,["required"]);N!=null&&l(t,["required"],N);const S=r(e,["title"]);S!=null&&l(t,["title"],S);const b=r(e,["type"]);return b!=null&&l(t,["type"],b),t}function Cm(e){const t={},n=r(e,["featureSelectionPreference"]);return n!=null&&l(t,["featureSelectionPreference"],n),t}function vm(e){const t={},n=r(e,["method"]);n!=null&&l(t,["method"],n);const i=r(e,["category"]);i!=null&&l(t,["category"],i);const o=r(e,["threshold"]);return o!=null&&l(t,["threshold"],o),t}function _m(e){const t={};if(r(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=r(e,["description"]);n!=null&&l(t,["description"],n);const i=r(e,["name"]);i!=null&&l(t,["name"],i);const o=r(e,["parameters"]);o!=null&&l(t,["parameters"],o);const s=r(e,["parametersJsonSchema"]);s!=null&&l(t,["parametersJsonSchema"],s);const a=r(e,["response"]);a!=null&&l(t,["response"],a);const u=r(e,["responseJsonSchema"]);return u!=null&&l(t,["responseJsonSchema"],u),t}function Tm(e){const t={},n=r(e,["startTime"]);n!=null&&l(t,["startTime"],n);const i=r(e,["endTime"]);return i!=null&&l(t,["endTime"],i),t}function Sm(e){const t={},n=r(e,["timeRangeFilter"]);return n!=null&&l(t,["timeRangeFilter"],Tm(n)),t}function wm(e){const t={},n=r(e,["mode"]);n!=null&&l(t,["mode"],n);const i=r(e,["dynamicThreshold"]);return i!=null&&l(t,["dynamicThreshold"],i),t}function km(e){const t={},n=r(e,["dynamicRetrievalConfig"]);return n!=null&&l(t,["dynamicRetrievalConfig"],wm(n)),t}function Em(){return{}}function bm(e){const t={},n=r(e,["apiKeyString"]);return n!=null&&l(t,["apiKeyString"],n),t}function Am(e){const t={},n=r(e,["apiKeyConfig"]);n!=null&&l(t,["apiKeyConfig"],bm(n));const i=r(e,["authType"]);i!=null&&l(t,["authType"],i);const o=r(e,["googleServiceAccountConfig"]);o!=null&&l(t,["googleServiceAccountConfig"],o);const s=r(e,["httpBasicAuthConfig"]);s!=null&&l(t,["httpBasicAuthConfig"],s);const a=r(e,["oauthConfig"]);a!=null&&l(t,["oauthConfig"],a);const u=r(e,["oidcConfig"]);return u!=null&&l(t,["oidcConfig"],u),t}function Im(e){const t={},n=r(e,["authConfig"]);return n!=null&&l(t,["authConfig"],Am(n)),t}function Nm(){return{}}function Ms(e){const t={},n=r(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>_m(h))),l(t,["functionDeclarations"],p)}const i=r(e,["retrieval"]);i!=null&&l(t,["retrieval"],i);const o=r(e,["googleSearch"]);o!=null&&l(t,["googleSearch"],Sm(o));const s=r(e,["googleSearchRetrieval"]);s!=null&&l(t,["googleSearchRetrieval"],km(s)),r(e,["enterpriseWebSearch"])!=null&&l(t,["enterpriseWebSearch"],Em());const u=r(e,["googleMaps"]);u!=null&&l(t,["googleMaps"],Im(u)),r(e,["urlContext"])!=null&&l(t,["urlContext"],Nm());const c=r(e,["codeExecution"]);c!=null&&l(t,["codeExecution"],c);const d=r(e,["computerUse"]);return d!=null&&l(t,["computerUse"],d),t}function Mm(e){const t={},n=r(e,["mode"]);n!=null&&l(t,["mode"],n);const i=r(e,["allowedFunctionNames"]);return i!=null&&l(t,["allowedFunctionNames"],i),t}function Pm(e){const t={},n=r(e,["latitude"]);n!=null&&l(t,["latitude"],n);const i=r(e,["longitude"]);return i!=null&&l(t,["longitude"],i),t}function Rm(e){const t={},n=r(e,["latLng"]);n!=null&&l(t,["latLng"],Pm(n));const i=r(e,["languageCode"]);return i!=null&&l(t,["languageCode"],i),t}function Dm(e){const t={},n=r(e,["functionCallingConfig"]);n!=null&&l(t,["functionCallingConfig"],Mm(n));const i=r(e,["retrievalConfig"]);return i!=null&&l(t,["retrievalConfig"],Rm(i)),t}function Lm(e){const t={},n=r(e,["voiceName"]);return n!=null&&l(t,["voiceName"],n),t}function Fm(e){const t={},n=r(e,["prebuiltVoiceConfig"]);return n!=null&&l(t,["prebuiltVoiceConfig"],Lm(n)),t}function qm(e){const t={},n=r(e,["voiceConfig"]);if(n!=null&&l(t,["voiceConfig"],Fm(n)),r(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=r(e,["languageCode"]);return i!=null&&l(t,["languageCode"],i),t}function Vm(e){const t={},n=r(e,["includeThoughts"]);n!=null&&l(t,["includeThoughts"],n);const i=r(e,["thinkingBudget"]);return i!=null&&l(t,["thinkingBudget"],i),t}function Um(e,t,n){const i={},o=r(t,["systemInstruction"]);n!==void 0&&o!=null&&l(n,["systemInstruction"],ot(se(o)));const s=r(t,["temperature"]);s!=null&&l(i,["temperature"],s);const a=r(t,["topP"]);a!=null&&l(i,["topP"],a);const u=r(t,["topK"]);u!=null&&l(i,["topK"],u);const f=r(t,["candidateCount"]);f!=null&&l(i,["candidateCount"],f);const c=r(t,["maxOutputTokens"]);c!=null&&l(i,["maxOutputTokens"],c);const d=r(t,["stopSequences"]);d!=null&&l(i,["stopSequences"],d);const p=r(t,["responseLogprobs"]);p!=null&&l(i,["responseLogprobs"],p);const h=r(t,["logprobs"]);h!=null&&l(i,["logprobs"],h);const g=r(t,["presencePenalty"]);g!=null&&l(i,["presencePenalty"],g);const y=r(t,["frequencyPenalty"]);y!=null&&l(i,["frequencyPenalty"],y);const C=r(t,["seed"]);C!=null&&l(i,["seed"],C);const w=r(t,["responseMimeType"]);w!=null&&l(i,["responseMimeType"],w);const x=r(t,["responseSchema"]);x!=null&&l(i,["responseSchema"],xm(ri(x)));const T=r(t,["responseJsonSchema"]);T!=null&&l(i,["responseJsonSchema"],T);const v=r(t,["routingConfig"]);v!=null&&l(i,["routingConfig"],v);const A=r(t,["modelSelectionConfig"]);A!=null&&l(i,["modelConfig"],Cm(A));const N=r(t,["safetySettings"]);if(n!==void 0&&N!=null){let B=N;Array.isArray(B)&&(B=B.map(X=>vm(X))),l(n,["safetySettings"],B)}const S=r(t,["tools"]);if(n!==void 0&&S!=null){let B=nt(S);Array.isArray(B)&&(B=B.map(X=>Ms(tt(X)))),l(n,["tools"],B)}const b=r(t,["toolConfig"]);n!==void 0&&b!=null&&l(n,["toolConfig"],Dm(b));const q=r(t,["labels"]);n!==void 0&&q!=null&&l(n,["labels"],q);const R=r(t,["cachedContent"]);n!==void 0&&R!=null&&l(n,["cachedContent"],Ae(e,R));const E=r(t,["responseModalities"]);E!=null&&l(i,["responseModalities"],E);const M=r(t,["mediaResolution"]);M!=null&&l(i,["mediaResolution"],M);const L=r(t,["speechConfig"]);L!=null&&l(i,["speechConfig"],qm(si(L)));const F=r(t,["audioTimestamp"]);F!=null&&l(i,["audioTimestamp"],F);const V=r(t,["thinkingConfig"]);return V!=null&&l(i,["thinkingConfig"],Vm(V)),i}function Xo(e,t){const n={},i=r(t,["model"]);i!=null&&l(n,["_url","model"],K(e,i));const o=r(t,["contents"]);if(o!=null){let a=xe(o);Array.isArray(a)&&(a=a.map(u=>ot(u))),l(n,["contents"],a)}const s=r(t,["config"]);return s!=null&&l(n,["generationConfig"],Um(e,s,n)),n}function Bm(e,t){const n={},i=r(e,["taskType"]);t!==void 0&&i!=null&&l(t,["instances[]","task_type"],i);const o=r(e,["title"]);t!==void 0&&o!=null&&l(t,["instances[]","title"],o);const s=r(e,["outputDimensionality"]);t!==void 0&&s!=null&&l(t,["parameters","outputDimensionality"],s);const a=r(e,["mimeType"]);t!==void 0&&a!=null&&l(t,["instances[]","mimeType"],a);const u=r(e,["autoTruncate"]);return t!==void 0&&u!=null&&l(t,["parameters","autoTruncate"],u),n}function zm(e,t){const n={},i=r(t,["model"]);i!=null&&l(n,["_url","model"],K(e,i));const o=r(t,["contents"]);o!=null&&l(n,["instances[]","content"],ps(e,o));const s=r(t,["config"]);return s!=null&&l(n,["config"],Bm(s,n)),n}function Gm(e,t){const n={},i=r(e,["outputGcsUri"]);t!==void 0&&i!=null&&l(t,["parameters","storageUri"],i);const o=r(e,["negativePrompt"]);t!==void 0&&o!=null&&l(t,["parameters","negativePrompt"],o);const s=r(e,["numberOfImages"]);t!==void 0&&s!=null&&l(t,["parameters","sampleCount"],s);const a=r(e,["aspectRatio"]);t!==void 0&&a!=null&&l(t,["parameters","aspectRatio"],a);const u=r(e,["guidanceScale"]);t!==void 0&&u!=null&&l(t,["parameters","guidanceScale"],u);const f=r(e,["seed"]);t!==void 0&&f!=null&&l(t,["parameters","seed"],f);const c=r(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&l(t,["parameters","safetySetting"],c);const d=r(e,["personGeneration"]);t!==void 0&&d!=null&&l(t,["parameters","personGeneration"],d);const p=r(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&l(t,["parameters","includeSafetyAttributes"],p);const h=r(e,["includeRaiReason"]);t!==void 0&&h!=null&&l(t,["parameters","includeRaiReason"],h);const g=r(e,["language"]);t!==void 0&&g!=null&&l(t,["parameters","language"],g);const y=r(e,["outputMimeType"]);t!==void 0&&y!=null&&l(t,["parameters","outputOptions","mimeType"],y);const C=r(e,["outputCompressionQuality"]);t!==void 0&&C!=null&&l(t,["parameters","outputOptions","compressionQuality"],C);const w=r(e,["addWatermark"]);t!==void 0&&w!=null&&l(t,["parameters","addWatermark"],w);const x=r(e,["enhancePrompt"]);return t!==void 0&&x!=null&&l(t,["parameters","enhancePrompt"],x),n}function $m(e,t){const n={},i=r(t,["model"]);i!=null&&l(n,["_url","model"],K(e,i));const o=r(t,["prompt"]);o!=null&&l(n,["instances[0]","prompt"],o);const s=r(t,["config"]);return s!=null&&l(n,["config"],Gm(s,n)),n}function nn(e){const t={},n=r(e,["gcsUri"]);n!=null&&l(t,["gcsUri"],n);const i=r(e,["imageBytes"]);i!=null&&l(t,["bytesBase64Encoded"],Ie(i));const o=r(e,["mimeType"]);return o!=null&&l(t,["mimeType"],o),t}function Hm(e){const t={},n=r(e,["maskMode"]);n!=null&&l(t,["maskMode"],n);const i=r(e,["segmentationClasses"]);i!=null&&l(t,["maskClasses"],i);const o=r(e,["maskDilation"]);return o!=null&&l(t,["dilation"],o),t}function Jm(e){const t={},n=r(e,["controlType"]);n!=null&&l(t,["controlType"],n);const i=r(e,["enableControlImageComputation"]);return i!=null&&l(t,["computeControl"],i),t}function Om(e){const t={},n=r(e,["styleDescription"]);return n!=null&&l(t,["styleDescription"],n),t}function Wm(e){const t={},n=r(e,["subjectType"]);n!=null&&l(t,["subjectType"],n);const i=r(e,["subjectDescription"]);return i!=null&&l(t,["subjectDescription"],i),t}function Ym(e){const t={},n=r(e,["referenceImage"]);n!=null&&l(t,["referenceImage"],nn(n));const i=r(e,["referenceId"]);i!=null&&l(t,["referenceId"],i);const o=r(e,["referenceType"]);o!=null&&l(t,["referenceType"],o);const s=r(e,["maskImageConfig"]);s!=null&&l(t,["maskImageConfig"],Hm(s));const a=r(e,["controlImageConfig"]);a!=null&&l(t,["controlImageConfig"],Jm(a));const u=r(e,["styleImageConfig"]);u!=null&&l(t,["styleImageConfig"],Om(u));const f=r(e,["subjectImageConfig"]);return f!=null&&l(t,["subjectImageConfig"],Wm(f)),t}function Km(e,t){const n={},i=r(e,["outputGcsUri"]);t!==void 0&&i!=null&&l(t,["parameters","storageUri"],i);const o=r(e,["negativePrompt"]);t!==void 0&&o!=null&&l(t,["parameters","negativePrompt"],o);const s=r(e,["numberOfImages"]);t!==void 0&&s!=null&&l(t,["parameters","sampleCount"],s);const a=r(e,["aspectRatio"]);t!==void 0&&a!=null&&l(t,["parameters","aspectRatio"],a);const u=r(e,["guidanceScale"]);t!==void 0&&u!=null&&l(t,["parameters","guidanceScale"],u);const f=r(e,["seed"]);t!==void 0&&f!=null&&l(t,["parameters","seed"],f);const c=r(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&l(t,["parameters","safetySetting"],c);const d=r(e,["personGeneration"]);t!==void 0&&d!=null&&l(t,["parameters","personGeneration"],d);const p=r(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&l(t,["parameters","includeSafetyAttributes"],p);const h=r(e,["includeRaiReason"]);t!==void 0&&h!=null&&l(t,["parameters","includeRaiReason"],h);const g=r(e,["language"]);t!==void 0&&g!=null&&l(t,["parameters","language"],g);const y=r(e,["outputMimeType"]);t!==void 0&&y!=null&&l(t,["parameters","outputOptions","mimeType"],y);const C=r(e,["outputCompressionQuality"]);t!==void 0&&C!=null&&l(t,["parameters","outputOptions","compressionQuality"],C);const w=r(e,["editMode"]);t!==void 0&&w!=null&&l(t,["parameters","editMode"],w);const x=r(e,["baseSteps"]);return t!==void 0&&x!=null&&l(t,["parameters","editConfig","baseSteps"],x),n}function Xm(e,t){const n={},i=r(t,["model"]);i!=null&&l(n,["_url","model"],K(e,i));const o=r(t,["prompt"]);o!=null&&l(n,["instances[0]","prompt"],o);const s=r(t,["referenceImages"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>Ym(f))),l(n,["instances[0]","referenceImages"],u)}const a=r(t,["config"]);return a!=null&&l(n,["config"],Km(a,n)),n}function Qm(e,t){const n={},i=r(e,["includeRaiReason"]);t!==void 0&&i!=null&&l(t,["parameters","includeRaiReason"],i);const o=r(e,["outputMimeType"]);t!==void 0&&o!=null&&l(t,["parameters","outputOptions","mimeType"],o);const s=r(e,["outputCompressionQuality"]);t!==void 0&&s!=null&&l(t,["parameters","outputOptions","compressionQuality"],s);const a=r(e,["enhanceInputImage"]);t!==void 0&&a!=null&&l(t,["parameters","upscaleConfig","enhanceInputImage"],a);const u=r(e,["imagePreservationFactor"]);t!==void 0&&u!=null&&l(t,["parameters","upscaleConfig","imagePreservationFactor"],u);const f=r(e,["numberOfImages"]);t!==void 0&&f!=null&&l(t,["parameters","sampleCount"],f);const c=r(e,["mode"]);return t!==void 0&&c!=null&&l(t,["parameters","mode"],c),n}function Zm(e,t){const n={},i=r(t,["model"]);i!=null&&l(n,["_url","model"],K(e,i));const o=r(t,["image"]);o!=null&&l(n,["instances[0]","image"],nn(o));const s=r(t,["upscaleFactor"]);s!=null&&l(n,["parameters","upscaleConfig","upscaleFactor"],s);const a=r(t,["config"]);return a!=null&&l(n,["config"],Qm(a,n)),n}function jm(e,t){const n={},i=r(t,["model"]);i!=null&&l(n,["_url","name"],K(e,i));const o=r(t,["config"]);return o!=null&&l(n,["config"],o),n}function eh(e,t,n){const i={},o=r(t,["pageSize"]);n!==void 0&&o!=null&&l(n,["_query","pageSize"],o);const s=r(t,["pageToken"]);n!==void 0&&s!=null&&l(n,["_query","pageToken"],s);const a=r(t,["filter"]);n!==void 0&&a!=null&&l(n,["_query","filter"],a);const u=r(t,["queryBase"]);return n!==void 0&&u!=null&&l(n,["_url","models_url"],gs(e,u)),i}function th(e,t){const n={},i=r(t,["config"]);return i!=null&&l(n,["config"],eh(e,i,n)),n}function nh(e,t){const n={},i=r(e,["displayName"]);t!==void 0&&i!=null&&l(t,["displayName"],i);const o=r(e,["description"]);t!==void 0&&o!=null&&l(t,["description"],o);const s=r(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&l(t,["defaultCheckpointId"],s),n}function ih(e,t){const n={},i=r(t,["model"]);i!=null&&l(n,["_url","model"],K(e,i));const o=r(t,["config"]);return o!=null&&l(n,["config"],nh(o,n)),n}function oh(e,t){const n={},i=r(t,["model"]);i!=null&&l(n,["_url","name"],K(e,i));const o=r(t,["config"]);return o!=null&&l(n,["config"],o),n}function rh(e,t){const n={},i=r(e,["systemInstruction"]);t!==void 0&&i!=null&&l(t,["systemInstruction"],ot(se(i)));const o=r(e,["tools"]);if(t!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>Ms(u))),l(t,["tools"],a)}const s=r(e,["generationConfig"]);return t!==void 0&&s!=null&&l(t,["generationConfig"],s),n}function sh(e,t){const n={},i=r(t,["model"]);i!=null&&l(n,["_url","model"],K(e,i));const o=r(t,["contents"]);if(o!=null){let a=xe(o);Array.isArray(a)&&(a=a.map(u=>ot(u))),l(n,["contents"],a)}const s=r(t,["config"]);return s!=null&&l(n,["config"],rh(s,n)),n}function lh(e,t){const n={},i=r(t,["model"]);i!=null&&l(n,["_url","model"],K(e,i));const o=r(t,["contents"]);if(o!=null){let a=xe(o);Array.isArray(a)&&(a=a.map(u=>ot(u))),l(n,["contents"],a)}const s=r(t,["config"]);return s!=null&&l(n,["config"],s),n}function ah(e){const t={},n=r(e,["uri"]);n!=null&&l(t,["gcsUri"],n);const i=r(e,["videoBytes"]);i!=null&&l(t,["bytesBase64Encoded"],Ie(i));const o=r(e,["mimeType"]);return o!=null&&l(t,["mimeType"],o),t}function uh(e,t){const n={},i=r(e,["numberOfVideos"]);t!==void 0&&i!=null&&l(t,["parameters","sampleCount"],i);const o=r(e,["outputGcsUri"]);t!==void 0&&o!=null&&l(t,["parameters","storageUri"],o);const s=r(e,["fps"]);t!==void 0&&s!=null&&l(t,["parameters","fps"],s);const a=r(e,["durationSeconds"]);t!==void 0&&a!=null&&l(t,["parameters","durationSeconds"],a);const u=r(e,["seed"]);t!==void 0&&u!=null&&l(t,["parameters","seed"],u);const f=r(e,["aspectRatio"]);t!==void 0&&f!=null&&l(t,["parameters","aspectRatio"],f);const c=r(e,["resolution"]);t!==void 0&&c!=null&&l(t,["parameters","resolution"],c);const d=r(e,["personGeneration"]);t!==void 0&&d!=null&&l(t,["parameters","personGeneration"],d);const p=r(e,["pubsubTopic"]);t!==void 0&&p!=null&&l(t,["parameters","pubsubTopic"],p);const h=r(e,["negativePrompt"]);t!==void 0&&h!=null&&l(t,["parameters","negativePrompt"],h);const g=r(e,["enhancePrompt"]);t!==void 0&&g!=null&&l(t,["parameters","enhancePrompt"],g);const y=r(e,["generateAudio"]);t!==void 0&&y!=null&&l(t,["parameters","generateAudio"],y);const C=r(e,["lastFrame"]);t!==void 0&&C!=null&&l(t,["instances[0]","lastFrame"],nn(C));const w=r(e,["compressionQuality"]);return t!==void 0&&w!=null&&l(t,["parameters","compressionQuality"],w),n}function ch(e,t){const n={},i=r(t,["model"]);i!=null&&l(n,["_url","model"],K(e,i));const o=r(t,["prompt"]);o!=null&&l(n,["instances[0]","prompt"],o);const s=r(t,["image"]);s!=null&&l(n,["instances[0]","image"],nn(s));const a=r(t,["video"]);a!=null&&l(n,["instances[0]","video"],ah(a));const u=r(t,["config"]);return u!=null&&l(n,["config"],uh(u,n)),n}function fh(e){const t={},n=r(e,["fps"]);n!=null&&l(t,["fps"],n);const i=r(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const o=r(e,["startOffset"]);return o!=null&&l(t,["startOffset"],o),t}function dh(e){const t={},n=r(e,["data"]);n!=null&&l(t,["data"],n);const i=r(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function ph(e){const t={},n=r(e,["fileUri"]);n!=null&&l(t,["fileUri"],n);const i=r(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function mh(e){const t={},n=r(e,["videoMetadata"]);n!=null&&l(t,["videoMetadata"],fh(n));const i=r(e,["thought"]);i!=null&&l(t,["thought"],i);const o=r(e,["inlineData"]);o!=null&&l(t,["inlineData"],dh(o));const s=r(e,["fileData"]);s!=null&&l(t,["fileData"],ph(s));const a=r(e,["thoughtSignature"]);a!=null&&l(t,["thoughtSignature"],a);const u=r(e,["codeExecutionResult"]);u!=null&&l(t,["codeExecutionResult"],u);const f=r(e,["executableCode"]);f!=null&&l(t,["executableCode"],f);const c=r(e,["functionCall"]);c!=null&&l(t,["functionCall"],c);const d=r(e,["functionResponse"]);d!=null&&l(t,["functionResponse"],d);const p=r(e,["text"]);return p!=null&&l(t,["text"],p),t}function hh(e){const t={},n=r(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>mh(s))),l(t,["parts"],o)}const i=r(e,["role"]);return i!=null&&l(t,["role"],i),t}function gh(e){const t={},n=r(e,["citationSources"]);return n!=null&&l(t,["citations"],n),t}function yh(e){const t={},n=r(e,["retrievedUrl"]);n!=null&&l(t,["retrievedUrl"],n);const i=r(e,["urlRetrievalStatus"]);return i!=null&&l(t,["urlRetrievalStatus"],i),t}function xh(e){const t={},n=r(e,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>yh(o))),l(t,["urlMetadata"],i)}return t}function Ch(e){const t={},n=r(e,["content"]);n!=null&&l(t,["content"],hh(n));const i=r(e,["citationMetadata"]);i!=null&&l(t,["citationMetadata"],gh(i));const o=r(e,["tokenCount"]);o!=null&&l(t,["tokenCount"],o);const s=r(e,["finishReason"]);s!=null&&l(t,["finishReason"],s);const a=r(e,["urlContextMetadata"]);a!=null&&l(t,["urlContextMetadata"],xh(a));const u=r(e,["avgLogprobs"]);u!=null&&l(t,["avgLogprobs"],u);const f=r(e,["groundingMetadata"]);f!=null&&l(t,["groundingMetadata"],f);const c=r(e,["index"]);c!=null&&l(t,["index"],c);const d=r(e,["logprobsResult"]);d!=null&&l(t,["logprobsResult"],d);const p=r(e,["safetyRatings"]);return p!=null&&l(t,["safetyRatings"],p),t}function Qo(e){const t={},n=r(e,["candidates"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>Ch(u))),l(t,["candidates"],a)}const i=r(e,["modelVersion"]);i!=null&&l(t,["modelVersion"],i);const o=r(e,["promptFeedback"]);o!=null&&l(t,["promptFeedback"],o);const s=r(e,["usageMetadata"]);return s!=null&&l(t,["usageMetadata"],s),t}function vh(e){const t={},n=r(e,["values"]);return n!=null&&l(t,["values"],n),t}function _h(){return{}}function Th(e){const t={},n=r(e,["embeddings"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>vh(s))),l(t,["embeddings"],o)}return r(e,["metadata"])!=null&&l(t,["metadata"],_h()),t}function Sh(e){const t={},n=r(e,["bytesBase64Encoded"]);n!=null&&l(t,["imageBytes"],Ie(n));const i=r(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function Ps(e){const t={},n=r(e,["safetyAttributes","categories"]);n!=null&&l(t,["categories"],n);const i=r(e,["safetyAttributes","scores"]);i!=null&&l(t,["scores"],i);const o=r(e,["contentType"]);return o!=null&&l(t,["contentType"],o),t}function wh(e){const t={},n=r(e,["_self"]);n!=null&&l(t,["image"],Sh(n));const i=r(e,["raiFilteredReason"]);i!=null&&l(t,["raiFilteredReason"],i);const o=r(e,["_self"]);return o!=null&&l(t,["safetyAttributes"],Ps(o)),t}function kh(e){const t={},n=r(e,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>wh(s))),l(t,["generatedImages"],o)}const i=r(e,["positivePromptSafetyAttributes"]);return i!=null&&l(t,["positivePromptSafetyAttributes"],Ps(i)),t}function Eh(e){const t={},n=r(e,["baseModel"]);n!=null&&l(t,["baseModel"],n);const i=r(e,["createTime"]);i!=null&&l(t,["createTime"],i);const o=r(e,["updateTime"]);return o!=null&&l(t,["updateTime"],o),t}function Gn(e){const t={},n=r(e,["name"]);n!=null&&l(t,["name"],n);const i=r(e,["displayName"]);i!=null&&l(t,["displayName"],i);const o=r(e,["description"]);o!=null&&l(t,["description"],o);const s=r(e,["version"]);s!=null&&l(t,["version"],s);const a=r(e,["_self"]);a!=null&&l(t,["tunedModelInfo"],Eh(a));const u=r(e,["inputTokenLimit"]);u!=null&&l(t,["inputTokenLimit"],u);const f=r(e,["outputTokenLimit"]);f!=null&&l(t,["outputTokenLimit"],f);const c=r(e,["supportedGenerationMethods"]);return c!=null&&l(t,["supportedActions"],c),t}function bh(e){const t={},n=r(e,["nextPageToken"]);n!=null&&l(t,["nextPageToken"],n);const i=r(e,["_self"]);if(i!=null){let o=ys(i);Array.isArray(o)&&(o=o.map(s=>Gn(s))),l(t,["models"],o)}return t}function Ah(){return{}}function Ih(e){const t={},n=r(e,["totalTokens"]);n!=null&&l(t,["totalTokens"],n);const i=r(e,["cachedContentTokenCount"]);return i!=null&&l(t,["cachedContentTokenCount"],i),t}function Nh(e){const t={},n=r(e,["video","uri"]);n!=null&&l(t,["uri"],n);const i=r(e,["video","encodedVideo"]);i!=null&&l(t,["videoBytes"],Ie(i));const o=r(e,["encoding"]);return o!=null&&l(t,["mimeType"],o),t}function Mh(e){const t={},n=r(e,["_self"]);return n!=null&&l(t,["video"],Nh(n)),t}function Ph(e){const t={},n=r(e,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Mh(a))),l(t,["generatedVideos"],s)}const i=r(e,["raiMediaFilteredCount"]);i!=null&&l(t,["raiMediaFilteredCount"],i);const o=r(e,["raiMediaFilteredReasons"]);return o!=null&&l(t,["raiMediaFilteredReasons"],o),t}function Rh(e){const t={},n=r(e,["name"]);n!=null&&l(t,["name"],n);const i=r(e,["metadata"]);i!=null&&l(t,["metadata"],i);const o=r(e,["done"]);o!=null&&l(t,["done"],o);const s=r(e,["error"]);s!=null&&l(t,["error"],s);const a=r(e,["response","generateVideoResponse"]);return a!=null&&l(t,["response"],Ph(a)),t}function Dh(e){const t={},n=r(e,["fps"]);n!=null&&l(t,["fps"],n);const i=r(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const o=r(e,["startOffset"]);return o!=null&&l(t,["startOffset"],o),t}function Lh(e){const t={},n=r(e,["displayName"]);n!=null&&l(t,["displayName"],n);const i=r(e,["data"]);i!=null&&l(t,["data"],i);const o=r(e,["mimeType"]);return o!=null&&l(t,["mimeType"],o),t}function Fh(e){const t={},n=r(e,["displayName"]);n!=null&&l(t,["displayName"],n);const i=r(e,["fileUri"]);i!=null&&l(t,["fileUri"],i);const o=r(e,["mimeType"]);return o!=null&&l(t,["mimeType"],o),t}function qh(e){const t={},n=r(e,["videoMetadata"]);n!=null&&l(t,["videoMetadata"],Dh(n));const i=r(e,["thought"]);i!=null&&l(t,["thought"],i);const o=r(e,["inlineData"]);o!=null&&l(t,["inlineData"],Lh(o));const s=r(e,["fileData"]);s!=null&&l(t,["fileData"],Fh(s));const a=r(e,["thoughtSignature"]);a!=null&&l(t,["thoughtSignature"],a);const u=r(e,["codeExecutionResult"]);u!=null&&l(t,["codeExecutionResult"],u);const f=r(e,["executableCode"]);f!=null&&l(t,["executableCode"],f);const c=r(e,["functionCall"]);c!=null&&l(t,["functionCall"],c);const d=r(e,["functionResponse"]);d!=null&&l(t,["functionResponse"],d);const p=r(e,["text"]);return p!=null&&l(t,["text"],p),t}function Vh(e){const t={},n=r(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>qh(s))),l(t,["parts"],o)}const i=r(e,["role"]);return i!=null&&l(t,["role"],i),t}function Uh(e){const t={},n=r(e,["citations"]);return n!=null&&l(t,["citations"],n),t}function Bh(e){const t={},n=r(e,["retrievedUrl"]);n!=null&&l(t,["retrievedUrl"],n);const i=r(e,["urlRetrievalStatus"]);return i!=null&&l(t,["urlRetrievalStatus"],i),t}function zh(e){const t={},n=r(e,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Bh(o))),l(t,["urlMetadata"],i)}return t}function Gh(e){const t={},n=r(e,["content"]);n!=null&&l(t,["content"],Vh(n));const i=r(e,["citationMetadata"]);i!=null&&l(t,["citationMetadata"],Uh(i));const o=r(e,["finishMessage"]);o!=null&&l(t,["finishMessage"],o);const s=r(e,["finishReason"]);s!=null&&l(t,["finishReason"],s);const a=r(e,["urlContextMetadata"]);a!=null&&l(t,["urlContextMetadata"],zh(a));const u=r(e,["avgLogprobs"]);u!=null&&l(t,["avgLogprobs"],u);const f=r(e,["groundingMetadata"]);f!=null&&l(t,["groundingMetadata"],f);const c=r(e,["index"]);c!=null&&l(t,["index"],c);const d=r(e,["logprobsResult"]);d!=null&&l(t,["logprobsResult"],d);const p=r(e,["safetyRatings"]);return p!=null&&l(t,["safetyRatings"],p),t}function Zo(e){const t={},n=r(e,["candidates"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>Gh(c))),l(t,["candidates"],f)}const i=r(e,["createTime"]);i!=null&&l(t,["createTime"],i);const o=r(e,["responseId"]);o!=null&&l(t,["responseId"],o);const s=r(e,["modelVersion"]);s!=null&&l(t,["modelVersion"],s);const a=r(e,["promptFeedback"]);a!=null&&l(t,["promptFeedback"],a);const u=r(e,["usageMetadata"]);return u!=null&&l(t,["usageMetadata"],u),t}function $h(e){const t={},n=r(e,["truncated"]);n!=null&&l(t,["truncated"],n);const i=r(e,["token_count"]);return i!=null&&l(t,["tokenCount"],i),t}function Hh(e){const t={},n=r(e,["values"]);n!=null&&l(t,["values"],n);const i=r(e,["statistics"]);return i!=null&&l(t,["statistics"],$h(i)),t}function Jh(e){const t={},n=r(e,["billableCharacterCount"]);return n!=null&&l(t,["billableCharacterCount"],n),t}function Oh(e){const t={},n=r(e,["predictions[]","embeddings"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Hh(s))),l(t,["embeddings"],o)}const i=r(e,["metadata"]);return i!=null&&l(t,["metadata"],Jh(i)),t}function Wh(e){const t={},n=r(e,["gcsUri"]);n!=null&&l(t,["gcsUri"],n);const i=r(e,["bytesBase64Encoded"]);i!=null&&l(t,["imageBytes"],Ie(i));const o=r(e,["mimeType"]);return o!=null&&l(t,["mimeType"],o),t}function Rs(e){const t={},n=r(e,["safetyAttributes","categories"]);n!=null&&l(t,["categories"],n);const i=r(e,["safetyAttributes","scores"]);i!=null&&l(t,["scores"],i);const o=r(e,["contentType"]);return o!=null&&l(t,["contentType"],o),t}function ai(e){const t={},n=r(e,["_self"]);n!=null&&l(t,["image"],Wh(n));const i=r(e,["raiFilteredReason"]);i!=null&&l(t,["raiFilteredReason"],i);const o=r(e,["_self"]);o!=null&&l(t,["safetyAttributes"],Rs(o));const s=r(e,["prompt"]);return s!=null&&l(t,["enhancedPrompt"],s),t}function Yh(e){const t={},n=r(e,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>ai(s))),l(t,["generatedImages"],o)}const i=r(e,["positivePromptSafetyAttributes"]);return i!=null&&l(t,["positivePromptSafetyAttributes"],Rs(i)),t}function Kh(e){const t={},n=r(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ai(o))),l(t,["generatedImages"],i)}return t}function Xh(e){const t={},n=r(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ai(o))),l(t,["generatedImages"],i)}return t}function Qh(e){const t={},n=r(e,["endpoint"]);n!=null&&l(t,["name"],n);const i=r(e,["deployedModelId"]);return i!=null&&l(t,["deployedModelId"],i),t}function Zh(e){const t={},n=r(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&l(t,["baseModel"],n);const i=r(e,["createTime"]);i!=null&&l(t,["createTime"],i);const o=r(e,["updateTime"]);return o!=null&&l(t,["updateTime"],o),t}function jh(e){const t={},n=r(e,["checkpointId"]);n!=null&&l(t,["checkpointId"],n);const i=r(e,["epoch"]);i!=null&&l(t,["epoch"],i);const o=r(e,["step"]);return o!=null&&l(t,["step"],o),t}function $n(e){const t={},n=r(e,["name"]);n!=null&&l(t,["name"],n);const i=r(e,["displayName"]);i!=null&&l(t,["displayName"],i);const o=r(e,["description"]);o!=null&&l(t,["description"],o);const s=r(e,["versionId"]);s!=null&&l(t,["version"],s);const a=r(e,["deployedModels"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(h=>Qh(h))),l(t,["endpoints"],p)}const u=r(e,["labels"]);u!=null&&l(t,["labels"],u);const f=r(e,["_self"]);f!=null&&l(t,["tunedModelInfo"],Zh(f));const c=r(e,["defaultCheckpointId"]);c!=null&&l(t,["defaultCheckpointId"],c);const d=r(e,["checkpoints"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>jh(h))),l(t,["checkpoints"],p)}return t}function eg(e){const t={},n=r(e,["nextPageToken"]);n!=null&&l(t,["nextPageToken"],n);const i=r(e,["_self"]);if(i!=null){let o=ys(i);Array.isArray(o)&&(o=o.map(s=>$n(s))),l(t,["models"],o)}return t}function tg(){return{}}function ng(e){const t={},n=r(e,["totalTokens"]);return n!=null&&l(t,["totalTokens"],n),t}function ig(e){const t={},n=r(e,["tokensInfo"]);return n!=null&&l(t,["tokensInfo"],n),t}function og(e){const t={},n=r(e,["gcsUri"]);n!=null&&l(t,["uri"],n);const i=r(e,["bytesBase64Encoded"]);i!=null&&l(t,["videoBytes"],Ie(i));const o=r(e,["mimeType"]);return o!=null&&l(t,["mimeType"],o),t}function rg(e){const t={},n=r(e,["_self"]);return n!=null&&l(t,["video"],og(n)),t}function sg(e){const t={},n=r(e,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>rg(a))),l(t,["generatedVideos"],s)}const i=r(e,["raiMediaFilteredCount"]);i!=null&&l(t,["raiMediaFilteredCount"],i);const o=r(e,["raiMediaFilteredReasons"]);return o!=null&&l(t,["raiMediaFilteredReasons"],o),t}function lg(e){const t={},n=r(e,["name"]);n!=null&&l(t,["name"],n);const i=r(e,["metadata"]);i!=null&&l(t,["metadata"],i);const o=r(e,["done"]);o!=null&&l(t,["done"],o);const s=r(e,["error"]);s!=null&&l(t,["error"],s);const a=r(e,["response"]);return a!=null&&l(t,["response"],sg(a)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ag="Content-Type",ug="X-Server-Timeout",cg="User-Agent",Hn="x-goog-api-client",fg="1.9.0",dg=`google-genai-sdk/${fg}`,pg="v1beta1",mg="v1beta",jo=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class hg{constructor(t){var n,i;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:pg,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:mg,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&i.push(t.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),t!==""&&o.push(t),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,i);if(t.queryParams)for(const[a,u]of Object.entries(t.queryParams))o.searchParams.append(a,String(u));let s={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=t.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,t.abortSignal),this.unaryApiCall(o,s,t.httpMethod)}patchHttpOptions(t,n){const i=JSON.parse(JSON.stringify(t));for(const[o,s]of Object.entries(n))typeof s=="object"?i[o]=Object.assign(Object.assign({},i[o]),s):s!==void 0&&(i[o]=s);return i}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let s={};return s.body=t.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,t.abortSignal),this.streamApiCall(o,s,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,i){if(n&&n.timeout||i){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>o.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),t.signal=s}return n&&n.extraBody!==null&&gg(t,n.extraBody),t.headers=await this.getHeadersInternal(n),t}async unaryApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await er(o),new Fn(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await er(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(t){var n;return Ze(this,arguments,function*(){const o=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let a="";for(;;){const{done:u,value:f}=yield ee(o.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=s.decode(f,{stream:!0});try{const p=JSON.parse(c);if("error"in p){const h=JSON.parse(JSON.stringify(p.error)),g=h.status,y=h.code,C=`got status: ${g}. ${JSON.stringify(p)}`;if(y>=400&&y<600)throw new en({message:C,status:y})}}catch(p){if(p.name==="ApiError")throw p}a+=c;let d=a.match(jo);for(;d;){const p=d[1];try{const h=new Response(p,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ee(new Fn(h)),a=a.slice(d[0].length),d=a.match(jo)}catch(h){throw new Error(`exception parsing stream chunk ${p}. ${h}`)}}}}finally{o.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const t={},n=dg+" "+this.clientOptions.userAgentExtra;return t[cg]=n,t[Hn]=n,t[ag]="application/json",t}async getHeadersInternal(t){const n=new Headers;if(t&&t.headers){for(const[i,o]of Object.entries(t.headers))n.append(i,o);t.timeout&&t.timeout>0&&n.append(ug,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(t,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const s=this.clientOptions.uploader,a=await s.stat(t);o.sizeBytes=String(a.size);const u=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:a.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=u;const f=await this.fetchUploadUrl(o,n);return s.upload(t,f,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n){var i;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const s={file:t},a=await this.request({path:z("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:o});if(!a||!(a!=null&&a.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(i=a==null?void 0:a.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function er(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let i;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?i=await e.json():i={error:{message:await e.text(),code:e.status,status:e.statusText}};const o=JSON.stringify(i);throw n>=400&&n<600?new en({message:o,status:n}):new Error(o)}}function gg(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const s=JSON.parse(e.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(s,a){const u=Object.assign({},s);for(const f in a)if(Object.prototype.hasOwnProperty.call(a,f)){const c=a[f],d=u[f];c&&typeof c=="object"&&!Array.isArray(c)&&d&&typeof d=="object"&&!Array.isArray(d)?u[f]=i(d,c):(d&&c&&typeof d!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof d}, New type: ${typeof c}. Overwriting.`),u[f]=c)}return u}const o=i(n,t);e.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yg="mcp_used/unknown";function Ds(e){for(const t of e)if(ui(t)||typeof t=="object"&&"inputSchema"in t)return!0;return!1}function Ls(e){var t;const n=(t=e[Hn])!==null&&t!==void 0?t:"";e[Hn]=(n+` ${yg}`).trimStart()}function xg(e){var t,n,i;return(i=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(o=>ui(o)))!==null&&i!==void 0?i:!1}function Cg(e){var t,n,i;return(i=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(o=>!ui(o)))!==null&&i!==void 0?i:!1}function ui(e){return e!==null&&typeof e=="object"&&e instanceof ci}function vg(e,t=100){return Ze(this,arguments,function*(){let i,o=0;for(;o<t;){const s=yield ee(e.listTools({cursor:i}));for(const a of s.tools)yield yield ee(a),o++;if(!s.nextCursor)break;i=s.nextCursor}})}class ci{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new ci(t,n)}async initialize(){var t,n,i,o;if(this.mcpTools.length>0)return;const s={},a=[];for(const d of this.mcpClients)try{for(var u=!0,f=(n=void 0,gt(vg(d))),c;c=await f.next(),t=c.done,!t;u=!0){o=c.value,u=!1;const p=o;a.push(p);const h=p.name;if(s[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);s[h]=d}}catch(p){n={error:p}}finally{try{!u&&!t&&(i=f.return)&&await i.call(f)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),mu(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const i of t)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const a=await o.callTool({name:i.name,arguments:i.args},void 0,s);n.push({functionResponse:{name:i.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function _g(e,t,n){const i=new su;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data);const s=Ip(o);Object.assign(i,s),t(i)}class Tg{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i}async connect(t){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),a=kg(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),f=`${o}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${u}`;let c=()=>{};const d=new Promise(v=>{c=v}),p=t.callbacks,h=function(){c({})},g=this.apiClient,y={onopen:h,onmessage:v=>{_g(g,p.onmessage,v)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(v){},onclose:(i=p==null?void 0:p.onclose)!==null&&i!==void 0?i:function(v){}},C=this.webSocketFactory.create(f,wg(a),y);C.connect(),await d;const w=K(this.apiClient,t.model),x=As({model:w}),T=zn({setup:x});return C.send(JSON.stringify(T)),new Sg(C,this.apiClient)}}class Sg{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=$d(t),i=Is(n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=Hd(t),i=zn(n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(t){const n=zn({playbackControl:t});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Xe.PLAY)}pause(){this.sendPlaybackControl(Xe.PAUSE)}stop(){this.sendPlaybackControl(Xe.STOP)}resetContext(){this.sendPlaybackControl(Xe.RESET_CONTEXT)}close(){this.conn.close()}}function wg(e){const t={};return e.forEach((n,i)=>{t[i]=n}),t}function kg(e){const t=new Headers;for(const[n,i]of Object.entries(e))t.append(n,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Eg="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function bg(e,t,n){const i=new ru;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const s=JSON.parse(o);if(e.isVertexAI()){const a=vp(s);Object.assign(i,a)}else{const a=Cp(s);Object.assign(i,a)}t(i)}class Ag{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i,this.music=new Tg(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,i,o,s,a,u;const f=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let d;const p=this.apiClient.getDefaultHeaders();t.config&&t.config.tools&&Ds(t.config.tools)&&Ls(p);const h=Pg(p);if(this.apiClient.isVertexAI())d=`${f}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const R=this.apiClient.getApiKey();let E="BidiGenerateContent",M="key";R!=null&&R.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),E="BidiGenerateContentConstrained",M="access_token"),d=`${f}/ws/google.ai.generativelanguage.${c}.GenerativeService.${E}?${M}=${R}`}let g=()=>{};const y=new Promise(R=>{g=R}),C=t.callbacks,w=function(){var R;(R=C==null?void 0:C.onopen)===null||R===void 0||R.call(C),g({})},x=this.apiClient,T={onopen:w,onmessage:R=>{bg(x,C.onmessage,R)},onerror:(n=C==null?void 0:C.onerror)!==null&&n!==void 0?n:function(R){},onclose:(i=C==null?void 0:C.onclose)!==null&&i!==void 0?i:function(R){}},v=this.webSocketFactory.create(d,Mg(h),T);v.connect(),await y;let A=K(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&A.startsWith("publishers/")){const R=this.apiClient.getProject(),E=this.apiClient.getLocation();A=`projects/${R}/locations/${E}/`+A}let N={};this.apiClient.isVertexAI()&&((o=t.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[$t.AUDIO]}:t.config.responseModalities=[$t.AUDIO]),!((s=t.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const S=(u=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[],b=[];for(const R of S)if(this.isCallableTool(R)){const E=R;b.push(await E.tool())}else b.push(R);b.length>0&&(t.config.tools=b);const q={model:A,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?N=Fd(this.apiClient,q):N=Ld(this.apiClient,q),delete N.config,v.send(JSON.stringify(N)),new Ng(v,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const Ig={turnComplete:!0};class Ng{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=xe(n.turns),t.isVertexAI()?i=i.map(o=>ot(o)):i=i.map(o=>tn(o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const s of i){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!t.isVertexAI()&&!("id"in s))throw new Error(Eg)}return{toolResponse:{functionResponses:i}}}sendClientContent(t){t=Object.assign(Object.assign({},Ig),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Gd(t)}:n={realtimeInput:zd(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Mg(e){const t={};return e.forEach((n,i)=>{t[i]=n}),t}function Pg(e){const t=new Headers;for(const[n,i]of Object.entries(e))t.append(n,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tr=10;function nr(e){var t,n,i;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let o=!1;for(const a of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(zt(a)){o=!0;break}if(!o)return!0;const s=(i=e==null?void 0:e.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function zt(e){return"callTool"in e&&typeof e.callTool=="function"}function ir(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rg extends ze{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var i,o,s,a,u;const f=await this.processParamsForMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!xg(n)||nr(n.config))return await this.generateContentInternal(f);if(Cg(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let c,d;const p=xe(f.contents),h=(s=(o=(i=f.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&s!==void 0?s:tr;let g=0;for(;g<h&&(c=await this.generateContentInternal(f),!(!c.functionCalls||c.functionCalls.length===0));){const y=c.candidates[0].content,C=[];for(const w of(u=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[])if(zt(w)){const T=await w.callTool(c.functionCalls);C.push(...T)}g++,d={role:"user",parts:C},f.contents=xe(f.contents),f.contents.push(y),f.contents.push(d),ir(f.config)&&(p.push(y),p.push(d))}return ir(f.config)&&(c.automaticFunctionCallingHistory=p),c},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),nr(n.config)){const i=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let s;const a=[];if(i!=null&&i.generatedImages)for(const f of i.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((o=f==null?void 0:f.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?s=f==null?void 0:f.safetyAttributes:a.push(f);let u;return s?u={generatedImages:a,positivePromptSafetyAttributes:s}:u={generatedImages:a},u}),this.list=async n=>{var i;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((i=a.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new wt(Ue.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(a),a)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsForMcpUsage(t){var n,i,o;const s=(n=t.config)===null||n===void 0?void 0:n.tools;if(!s)return t;const a=await Promise.all(s.map(async f=>zt(f)?await f.tool():f)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:a})};if(u.config.tools=a,t.config&&t.config.tools&&Ds(t.config.tools)){const f=(o=(i=t.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let c=Object.assign({},f);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),Ls(c),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:c})}return u}async initAfcToolsMap(t){var n,i,o;const s=new Map;for(const a of(i=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(zt(a)){const u=a,f=await u.tool();for(const c of(o=f.functionDeclarations)!==null&&o!==void 0?o:[]){if(!c.name)throw new Error("Function declaration name is required.");if(s.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);s.set(c.name,u)}}return s}async processAfcStream(t){var n,i,o;const s=(o=(i=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:tr;let a=!1,u=0;const f=await this.initAfcToolsMap(t);return function(c,d,p){var h,g;return Ze(this,arguments,function*(){for(var y,C,w,x;u<s;){a&&(u++,a=!1);const N=yield ee(c.processParamsForMcpUsage(p)),S=yield ee(c.generateContentStreamInternal(N)),b=[],q=[];try{for(var T=!0,v=(C=void 0,gt(S)),A;A=yield ee(v.next()),y=A.done,!y;T=!0){x=A.value,T=!1;const R=x;if(yield yield ee(R),R.candidates&&(!((h=R.candidates[0])===null||h===void 0)&&h.content)){q.push(R.candidates[0].content);for(const E of(g=R.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(u<s&&E.functionCall){if(!E.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(E.functionCall.name)){const M=yield ee(d.get(E.functionCall.name).callTool([E.functionCall]));b.push(...M)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${E.functionCall.name}`)}}}}catch(R){C={error:R}}finally{try{!T&&!y&&(w=v.return)&&(yield ee(w.call(v)))}finally{if(C)throw C.error}}if(b.length>0){a=!0;const R=new ft;R.candidates=[{content:{role:"user",parts:b}}],yield yield ee(R);const E=[];E.push(...q),E.push({role:"user",parts:b});const M=xe(p.contents).concat(E);p.contents=M}else break}})}(this,f,t)}async generateContentInternal(t){var n,i,o,s;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=Xo(this.apiClient,t);return u=z("{model}:generateContent",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>{const p=Zo(d),h=new ft;return Object.assign(h,p),h})}else{const c=Ko(this.apiClient,t);return u=z("{model}:generateContent",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>{const p=Qo(d),h=new ft;return Object.assign(h,p),h})}}async generateContentStreamInternal(t){var n,i,o,s;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=Xo(this.apiClient,t);return u=z("{model}:streamGenerateContent?alt=sse",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),a.then(function(p){return Ze(this,arguments,function*(){var h,g,y,C;try{for(var w=!0,x=gt(p),T;T=yield ee(x.next()),h=T.done,!h;w=!0){C=T.value,w=!1;const A=Zo(yield ee(C.json())),N=new ft;Object.assign(N,A),yield yield ee(N)}}catch(v){g={error:v}}finally{try{!w&&!h&&(y=x.return)&&(yield ee(y.call(x)))}finally{if(g)throw g.error}}})})}else{const c=Ko(this.apiClient,t);return u=z("{model}:streamGenerateContent?alt=sse",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}),a.then(function(p){return Ze(this,arguments,function*(){var h,g,y,C;try{for(var w=!0,x=gt(p),T;T=yield ee(x.next()),h=T.done,!h;w=!0){C=T.value,w=!1;const A=Qo(yield ee(C.json())),N=new ft;Object.assign(N,A),yield yield ee(N)}}catch(v){g={error:v}}finally{try{!w&&!h&&(y=x.return)&&(yield ee(y.call(x)))}finally{if(g)throw g.error}}})})}}async embedContent(t){var n,i,o,s;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=zm(this.apiClient,t);return u=z("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>{const p=Oh(d),h=new Io;return Object.assign(h,p),h})}else{const c=em(this.apiClient,t);return u=z("{model}:batchEmbedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>{const p=Th(d),h=new Io;return Object.assign(h,p),h})}}async generateImagesInternal(t){var n,i,o,s;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=$m(this.apiClient,t);return u=z("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>{const p=Yh(d),h=new No;return Object.assign(h,p),h})}else{const c=nm(this.apiClient,t);return u=z("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>{const p=kh(d),h=new No;return Object.assign(h,p),h})}}async editImageInternal(t){var n,i;let o,s="",a={};if(this.apiClient.isVertexAI()){const u=Xm(this.apiClient,t);return s=z("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>{const c=Kh(f),d=new ja;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,i;let o,s="",a={};if(this.apiClient.isVertexAI()){const u=Zm(this.apiClient,t);return s=z("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>{const c=Xh(f),d=new eu;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,i,o,s;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=jm(this.apiClient,t);return u=z("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>$n(d))}else{const c=im(this.apiClient,t);return u=z("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>Gn(d))}}async listInternal(t){var n,i,o,s;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=th(this.apiClient,t);return u=z("{models_url}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>{const p=eg(d),h=new Mo;return Object.assign(h,p),h})}else{const c=rm(this.apiClient,t);return u=z("{models_url}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>{const p=bh(d),h=new Mo;return Object.assign(h,p),h})}}async update(t){var n,i,o,s;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=ih(this.apiClient,t);return u=z("{model}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>$n(d))}else{const c=lm(this.apiClient,t);return u=z("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>Gn(d))}}async delete(t){var n,i,o,s;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=oh(this.apiClient,t);return u=z("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(()=>{const d=tg(),p=new Po;return Object.assign(p,d),p})}else{const c=am(this.apiClient,t);return u=z("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(()=>{const d=Ah(),p=new Po;return Object.assign(p,d),p})}}async countTokens(t){var n,i,o,s;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=sh(this.apiClient,t);return u=z("{model}:countTokens",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>{const p=ng(d),h=new Ro;return Object.assign(h,p),h})}else{const c=cm(this.apiClient,t);return u=z("{model}:countTokens",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>{const p=Ih(d),h=new Ro;return Object.assign(h,p),h})}}async computeTokens(t){var n,i;let o,s="",a={};if(this.apiClient.isVertexAI()){const u=lh(this.apiClient,t);return s=z("{model}:computeTokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>{const c=ig(f),d=new tu;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(t){var n,i,o,s;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=ch(this.apiClient,t);return u=z("{model}:predictLongRunning",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>lg(d))}else{const c=pm(this.apiClient,t);return u=z("{model}:predictLongRunning",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>Rh(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dg(e){const t={},n=r(e,["operationName"]);n!=null&&l(t,["_url","operationName"],n);const i=r(e,["config"]);return i!=null&&l(t,["config"],i),t}function Lg(e){const t={},n=r(e,["operationName"]);n!=null&&l(t,["_url","operationName"],n);const i=r(e,["config"]);return i!=null&&l(t,["config"],i),t}function Fg(e){const t={},n=r(e,["operationName"]);n!=null&&l(t,["operationName"],n);const i=r(e,["resourceName"]);i!=null&&l(t,["_url","resourceName"],i);const o=r(e,["config"]);return o!=null&&l(t,["config"],o),t}function qg(e){const t={},n=r(e,["video","uri"]);n!=null&&l(t,["uri"],n);const i=r(e,["video","encodedVideo"]);i!=null&&l(t,["videoBytes"],Ie(i));const o=r(e,["encoding"]);return o!=null&&l(t,["mimeType"],o),t}function Vg(e){const t={},n=r(e,["_self"]);return n!=null&&l(t,["video"],qg(n)),t}function Ug(e){const t={},n=r(e,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Vg(a))),l(t,["generatedVideos"],s)}const i=r(e,["raiMediaFilteredCount"]);i!=null&&l(t,["raiMediaFilteredCount"],i);const o=r(e,["raiMediaFilteredReasons"]);return o!=null&&l(t,["raiMediaFilteredReasons"],o),t}function Bg(e){const t={},n=r(e,["name"]);n!=null&&l(t,["name"],n);const i=r(e,["metadata"]);i!=null&&l(t,["metadata"],i);const o=r(e,["done"]);o!=null&&l(t,["done"],o);const s=r(e,["error"]);s!=null&&l(t,["error"],s);const a=r(e,["response","generateVideoResponse"]);return a!=null&&l(t,["response"],Ug(a)),t}function zg(e){const t={},n=r(e,["gcsUri"]);n!=null&&l(t,["uri"],n);const i=r(e,["bytesBase64Encoded"]);i!=null&&l(t,["videoBytes"],Ie(i));const o=r(e,["mimeType"]);return o!=null&&l(t,["mimeType"],o),t}function Gg(e){const t={},n=r(e,["_self"]);return n!=null&&l(t,["video"],zg(n)),t}function $g(e){const t={},n=r(e,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Gg(a))),l(t,["generatedVideos"],s)}const i=r(e,["raiMediaFilteredCount"]);i!=null&&l(t,["raiMediaFilteredCount"],i);const o=r(e,["raiMediaFilteredReasons"]);return o!=null&&l(t,["raiMediaFilteredReasons"],o),t}function or(e){const t={},n=r(e,["name"]);n!=null&&l(t,["name"],n);const i=r(e,["metadata"]);i!=null&&l(t,["metadata"],i);const o=r(e,["done"]);o!=null&&l(t,["done"],o);const s=r(e,["error"]);s!=null&&l(t,["error"],s);const a=r(e,["response"]);return a!=null&&l(t,["response"],$g(a)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hg extends ze{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,i=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let s;return i&&"httpOptions"in i&&(s=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:s}})}else return this.getVideosOperationInternal({operationName:n.name,config:i})}async getVideosOperationInternal(t){var n,i,o,s;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=Lg(t);return u=z("{operationName}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>or(d))}else{const c=Dg(t);return u=z("{operationName}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>Bg(d))}}async fetchPredictVideosOperationInternal(t){var n,i;let o,s="",a={};if(this.apiClient.isVertexAI()){const u=Fg(t);return s=z("{resourceName}:fetchPredictOperation",u._url),a=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>or(f))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jg(e){const t={},n=r(e,["voiceName"]);return n!=null&&l(t,["voiceName"],n),t}function Fs(e){const t={},n=r(e,["prebuiltVoiceConfig"]);return n!=null&&l(t,["prebuiltVoiceConfig"],Jg(n)),t}function Og(e){const t={},n=r(e,["speaker"]);n!=null&&l(t,["speaker"],n);const i=r(e,["voiceConfig"]);return i!=null&&l(t,["voiceConfig"],Fs(i)),t}function Wg(e){const t={},n=r(e,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Og(o))),l(t,["speakerVoiceConfigs"],i)}return t}function Yg(e){const t={},n=r(e,["voiceConfig"]);n!=null&&l(t,["voiceConfig"],Fs(n));const i=r(e,["multiSpeakerVoiceConfig"]);i!=null&&l(t,["multiSpeakerVoiceConfig"],Wg(i));const o=r(e,["languageCode"]);return o!=null&&l(t,["languageCode"],o),t}function Kg(e){const t={},n=r(e,["fps"]);n!=null&&l(t,["fps"],n);const i=r(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const o=r(e,["startOffset"]);return o!=null&&l(t,["startOffset"],o),t}function Xg(e){const t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(e,["data"]);n!=null&&l(t,["data"],n);const i=r(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function Qg(e){const t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=r(e,["fileUri"]);n!=null&&l(t,["fileUri"],n);const i=r(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function Zg(e){const t={},n=r(e,["videoMetadata"]);n!=null&&l(t,["videoMetadata"],Kg(n));const i=r(e,["thought"]);i!=null&&l(t,["thought"],i);const o=r(e,["inlineData"]);o!=null&&l(t,["inlineData"],Xg(o));const s=r(e,["fileData"]);s!=null&&l(t,["fileData"],Qg(s));const a=r(e,["thoughtSignature"]);a!=null&&l(t,["thoughtSignature"],a);const u=r(e,["codeExecutionResult"]);u!=null&&l(t,["codeExecutionResult"],u);const f=r(e,["executableCode"]);f!=null&&l(t,["executableCode"],f);const c=r(e,["functionCall"]);c!=null&&l(t,["functionCall"],c);const d=r(e,["functionResponse"]);d!=null&&l(t,["functionResponse"],d);const p=r(e,["text"]);return p!=null&&l(t,["text"],p),t}function jg(e){const t={},n=r(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Zg(s))),l(t,["parts"],o)}const i=r(e,["role"]);return i!=null&&l(t,["role"],i),t}function ey(e){const t={},n=r(e,["behavior"]);n!=null&&l(t,["behavior"],n);const i=r(e,["description"]);i!=null&&l(t,["description"],i);const o=r(e,["name"]);o!=null&&l(t,["name"],o);const s=r(e,["parameters"]);s!=null&&l(t,["parameters"],s);const a=r(e,["parametersJsonSchema"]);a!=null&&l(t,["parametersJsonSchema"],a);const u=r(e,["response"]);u!=null&&l(t,["response"],u);const f=r(e,["responseJsonSchema"]);return f!=null&&l(t,["responseJsonSchema"],f),t}function ty(e){const t={},n=r(e,["startTime"]);n!=null&&l(t,["startTime"],n);const i=r(e,["endTime"]);return i!=null&&l(t,["endTime"],i),t}function ny(e){const t={},n=r(e,["timeRangeFilter"]);return n!=null&&l(t,["timeRangeFilter"],ty(n)),t}function iy(e){const t={},n=r(e,["mode"]);n!=null&&l(t,["mode"],n);const i=r(e,["dynamicThreshold"]);return i!=null&&l(t,["dynamicThreshold"],i),t}function oy(e){const t={},n=r(e,["dynamicRetrievalConfig"]);return n!=null&&l(t,["dynamicRetrievalConfig"],iy(n)),t}function ry(){return{}}function sy(e){const t={},n=r(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>ey(c))),l(t,["functionDeclarations"],f)}if(r(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=r(e,["googleSearch"]);i!=null&&l(t,["googleSearch"],ny(i));const o=r(e,["googleSearchRetrieval"]);if(o!=null&&l(t,["googleSearchRetrieval"],oy(o)),r(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(e,["urlContext"])!=null&&l(t,["urlContext"],ry());const a=r(e,["codeExecution"]);a!=null&&l(t,["codeExecution"],a);const u=r(e,["computerUse"]);return u!=null&&l(t,["computerUse"],u),t}function ly(e){const t={},n=r(e,["handle"]);if(n!=null&&l(t,["handle"],n),r(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function rr(){return{}}function ay(e){const t={},n=r(e,["disabled"]);n!=null&&l(t,["disabled"],n);const i=r(e,["startOfSpeechSensitivity"]);i!=null&&l(t,["startOfSpeechSensitivity"],i);const o=r(e,["endOfSpeechSensitivity"]);o!=null&&l(t,["endOfSpeechSensitivity"],o);const s=r(e,["prefixPaddingMs"]);s!=null&&l(t,["prefixPaddingMs"],s);const a=r(e,["silenceDurationMs"]);return a!=null&&l(t,["silenceDurationMs"],a),t}function uy(e){const t={},n=r(e,["automaticActivityDetection"]);n!=null&&l(t,["automaticActivityDetection"],ay(n));const i=r(e,["activityHandling"]);i!=null&&l(t,["activityHandling"],i);const o=r(e,["turnCoverage"]);return o!=null&&l(t,["turnCoverage"],o),t}function cy(e){const t={},n=r(e,["targetTokens"]);return n!=null&&l(t,["targetTokens"],n),t}function fy(e){const t={},n=r(e,["triggerTokens"]);n!=null&&l(t,["triggerTokens"],n);const i=r(e,["slidingWindow"]);return i!=null&&l(t,["slidingWindow"],cy(i)),t}function dy(e){const t={},n=r(e,["proactiveAudio"]);return n!=null&&l(t,["proactiveAudio"],n),t}function py(e,t){const n={},i=r(e,["generationConfig"]);t!==void 0&&i!=null&&l(t,["setup","generationConfig"],i);const o=r(e,["responseModalities"]);t!==void 0&&o!=null&&l(t,["setup","generationConfig","responseModalities"],o);const s=r(e,["temperature"]);t!==void 0&&s!=null&&l(t,["setup","generationConfig","temperature"],s);const a=r(e,["topP"]);t!==void 0&&a!=null&&l(t,["setup","generationConfig","topP"],a);const u=r(e,["topK"]);t!==void 0&&u!=null&&l(t,["setup","generationConfig","topK"],u);const f=r(e,["maxOutputTokens"]);t!==void 0&&f!=null&&l(t,["setup","generationConfig","maxOutputTokens"],f);const c=r(e,["mediaResolution"]);t!==void 0&&c!=null&&l(t,["setup","generationConfig","mediaResolution"],c);const d=r(e,["seed"]);t!==void 0&&d!=null&&l(t,["setup","generationConfig","seed"],d);const p=r(e,["speechConfig"]);t!==void 0&&p!=null&&l(t,["setup","generationConfig","speechConfig"],Yg(li(p)));const h=r(e,["enableAffectiveDialog"]);t!==void 0&&h!=null&&l(t,["setup","generationConfig","enableAffectiveDialog"],h);const g=r(e,["systemInstruction"]);t!==void 0&&g!=null&&l(t,["setup","systemInstruction"],jg(se(g)));const y=r(e,["tools"]);if(t!==void 0&&y!=null){let N=nt(y);Array.isArray(N)&&(N=N.map(S=>sy(tt(S)))),l(t,["setup","tools"],N)}const C=r(e,["sessionResumption"]);t!==void 0&&C!=null&&l(t,["setup","sessionResumption"],ly(C));const w=r(e,["inputAudioTranscription"]);t!==void 0&&w!=null&&l(t,["setup","inputAudioTranscription"],rr());const x=r(e,["outputAudioTranscription"]);t!==void 0&&x!=null&&l(t,["setup","outputAudioTranscription"],rr());const T=r(e,["realtimeInputConfig"]);t!==void 0&&T!=null&&l(t,["setup","realtimeInputConfig"],uy(T));const v=r(e,["contextWindowCompression"]);t!==void 0&&v!=null&&l(t,["setup","contextWindowCompression"],fy(v));const A=r(e,["proactivity"]);return t!==void 0&&A!=null&&l(t,["setup","proactivity"],dy(A)),n}function my(e,t){const n={},i=r(t,["model"]);i!=null&&l(n,["setup","model"],K(e,i));const o=r(t,["config"]);return o!=null&&l(n,["config"],py(o,n)),n}function hy(e,t,n){const i={},o=r(t,["expireTime"]);n!==void 0&&o!=null&&l(n,["expireTime"],o);const s=r(t,["newSessionExpireTime"]);n!==void 0&&s!=null&&l(n,["newSessionExpireTime"],s);const a=r(t,["uses"]);n!==void 0&&a!=null&&l(n,["uses"],a);const u=r(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&l(n,["bidiGenerateContentSetup"],my(e,u));const f=r(t,["lockAdditionalFields"]);return n!==void 0&&f!=null&&l(n,["fieldMask"],f),i}function gy(e,t){const n={},i=r(t,["config"]);return i!=null&&l(n,["config"],hy(e,i,n)),n}function yy(e){const t={},n=r(e,["name"]);return n!=null&&l(t,["name"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xy(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=e[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(s=>`${n}.${s}`);t.push(...o)}else t.push(n)}return t.join(",")}function Cy(e,t){let n=null;const i=e.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const s=i.setup;typeof s=="object"&&s!==null?(e.bidiGenerateContentSetup=s,n=s):delete e.bidiGenerateContentSetup}else i!==void 0&&delete e.bidiGenerateContentSetup;const o=e.fieldMask;if(n){const s=xy(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)s?e.fieldMask=s:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];o.length>0&&(u=o.map(c=>a.includes(c)?`generationConfig.${c}`:c));const f=[];s&&f.push(s),u.length>0&&f.push(...u),f.length>0?e.fieldMask=f.join(","):delete e.fieldMask}else delete e.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?e.fieldMask=o.join(","):delete e.fieldMask;return e}class vy extends ze{constructor(t){super(),this.apiClient=t}async create(t){var n,i;let o,s="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=gy(this.apiClient,t);s=z("auth_tokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query;const f=Cy(u,t.config);return o=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>yy(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _y(e){const t={},n=r(e,["name"]);n!=null&&l(t,["_url","name"],n);const i=r(e,["config"]);return i!=null&&l(t,["config"],i),t}function Ty(e,t){const n={},i=r(e,["pageSize"]);t!==void 0&&i!=null&&l(t,["_query","pageSize"],i);const o=r(e,["pageToken"]);t!==void 0&&o!=null&&l(t,["_query","pageToken"],o);const s=r(e,["filter"]);return t!==void 0&&s!=null&&l(t,["_query","filter"],s),n}function Sy(e){const t={},n=r(e,["config"]);return n!=null&&l(t,["config"],Ty(n,t)),t}function wy(e){const t={},n=r(e,["textInput"]);n!=null&&l(t,["textInput"],n);const i=r(e,["output"]);return i!=null&&l(t,["output"],i),t}function ky(e){const t={};if(r(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=r(e,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>wy(o))),l(t,["examples","examples"],i)}return t}function Ey(e,t){const n={};if(r(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=r(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&l(t,["displayName"],i),r(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=r(e,["epochCount"]);t!==void 0&&o!=null&&l(t,["tuningTask","hyperparameters","epochCount"],o);const s=r(e,["learningRateMultiplier"]);if(s!=null&&l(n,["tuningTask","hyperparameters","learningRateMultiplier"],s),r(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(r(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=r(e,["batchSize"]);t!==void 0&&a!=null&&l(t,["tuningTask","hyperparameters","batchSize"],a);const u=r(e,["learningRate"]);return t!==void 0&&u!=null&&l(t,["tuningTask","hyperparameters","learningRate"],u),n}function by(e){const t={},n=r(e,["baseModel"]);n!=null&&l(t,["baseModel"],n);const i=r(e,["trainingDataset"]);i!=null&&l(t,["tuningTask","trainingData"],ky(i));const o=r(e,["config"]);return o!=null&&l(t,["config"],Ey(o,t)),t}function Ay(e){const t={},n=r(e,["name"]);n!=null&&l(t,["_url","name"],n);const i=r(e,["config"]);return i!=null&&l(t,["config"],i),t}function Iy(e,t){const n={},i=r(e,["pageSize"]);t!==void 0&&i!=null&&l(t,["_query","pageSize"],i);const o=r(e,["pageToken"]);t!==void 0&&o!=null&&l(t,["_query","pageToken"],o);const s=r(e,["filter"]);return t!==void 0&&s!=null&&l(t,["_query","filter"],s),n}function Ny(e){const t={},n=r(e,["config"]);return n!=null&&l(t,["config"],Iy(n,t)),t}function My(e,t){const n={},i=r(e,["gcsUri"]);t!==void 0&&i!=null&&l(t,["supervisedTuningSpec","trainingDatasetUri"],i);const o=r(e,["vertexDatasetResource"]);if(t!==void 0&&o!=null&&l(t,["supervisedTuningSpec","trainingDatasetUri"],o),r(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function Py(e,t){const n={},i=r(e,["gcsUri"]);i!=null&&l(n,["validationDatasetUri"],i);const o=r(e,["vertexDatasetResource"]);return t!==void 0&&o!=null&&l(t,["supervisedTuningSpec","trainingDatasetUri"],o),n}function Ry(e,t){const n={},i=r(e,["validationDataset"]);t!==void 0&&i!=null&&l(t,["supervisedTuningSpec"],Py(i,n));const o=r(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&l(t,["tunedModelDisplayName"],o);const s=r(e,["description"]);t!==void 0&&s!=null&&l(t,["description"],s);const a=r(e,["epochCount"]);t!==void 0&&a!=null&&l(t,["supervisedTuningSpec","hyperParameters","epochCount"],a);const u=r(e,["learningRateMultiplier"]);t!==void 0&&u!=null&&l(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],u);const f=r(e,["exportLastCheckpointOnly"]);t!==void 0&&f!=null&&l(t,["supervisedTuningSpec","exportLastCheckpointOnly"],f);const c=r(e,["adapterSize"]);if(t!==void 0&&c!=null&&l(t,["supervisedTuningSpec","hyperParameters","adapterSize"],c),r(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(r(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function Dy(e){const t={},n=r(e,["baseModel"]);n!=null&&l(t,["baseModel"],n);const i=r(e,["trainingDataset"]);i!=null&&l(t,["supervisedTuningSpec","trainingDatasetUri"],My(i,t));const o=r(e,["config"]);return o!=null&&l(t,["config"],Ry(o,t)),t}function Ly(e){const t={},n=r(e,["name"]);n!=null&&l(t,["model"],n);const i=r(e,["name"]);return i!=null&&l(t,["endpoint"],i),t}function qs(e){const t={},n=r(e,["name"]);n!=null&&l(t,["name"],n);const i=r(e,["state"]);i!=null&&l(t,["state"],ms(i));const o=r(e,["createTime"]);o!=null&&l(t,["createTime"],o);const s=r(e,["tuningTask","startTime"]);s!=null&&l(t,["startTime"],s);const a=r(e,["tuningTask","completeTime"]);a!=null&&l(t,["endTime"],a);const u=r(e,["updateTime"]);u!=null&&l(t,["updateTime"],u);const f=r(e,["description"]);f!=null&&l(t,["description"],f);const c=r(e,["baseModel"]);c!=null&&l(t,["baseModel"],c);const d=r(e,["_self"]);d!=null&&l(t,["tunedModel"],Ly(d));const p=r(e,["distillationSpec"]);p!=null&&l(t,["distillationSpec"],p);const h=r(e,["experiment"]);h!=null&&l(t,["experiment"],h);const g=r(e,["labels"]);g!=null&&l(t,["labels"],g);const y=r(e,["pipelineJob"]);y!=null&&l(t,["pipelineJob"],y);const C=r(e,["satisfiesPzi"]);C!=null&&l(t,["satisfiesPzi"],C);const w=r(e,["satisfiesPzs"]);w!=null&&l(t,["satisfiesPzs"],w);const x=r(e,["serviceAccount"]);x!=null&&l(t,["serviceAccount"],x);const T=r(e,["tunedModelDisplayName"]);return T!=null&&l(t,["tunedModelDisplayName"],T),t}function Fy(e){const t={},n=r(e,["nextPageToken"]);n!=null&&l(t,["nextPageToken"],n);const i=r(e,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>qs(s))),l(t,["tuningJobs"],o)}return t}function qy(e){const t={},n=r(e,["name"]);n!=null&&l(t,["name"],n);const i=r(e,["metadata"]);i!=null&&l(t,["metadata"],i);const o=r(e,["done"]);o!=null&&l(t,["done"],o);const s=r(e,["error"]);return s!=null&&l(t,["error"],s),t}function Vy(e){const t={},n=r(e,["checkpointId"]);n!=null&&l(t,["checkpointId"],n);const i=r(e,["epoch"]);i!=null&&l(t,["epoch"],i);const o=r(e,["step"]);o!=null&&l(t,["step"],o);const s=r(e,["endpoint"]);return s!=null&&l(t,["endpoint"],s),t}function Uy(e){const t={},n=r(e,["model"]);n!=null&&l(t,["model"],n);const i=r(e,["endpoint"]);i!=null&&l(t,["endpoint"],i);const o=r(e,["checkpoints"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>Vy(a))),l(t,["checkpoints"],s)}return t}function Jn(e){const t={},n=r(e,["name"]);n!=null&&l(t,["name"],n);const i=r(e,["state"]);i!=null&&l(t,["state"],ms(i));const o=r(e,["createTime"]);o!=null&&l(t,["createTime"],o);const s=r(e,["startTime"]);s!=null&&l(t,["startTime"],s);const a=r(e,["endTime"]);a!=null&&l(t,["endTime"],a);const u=r(e,["updateTime"]);u!=null&&l(t,["updateTime"],u);const f=r(e,["error"]);f!=null&&l(t,["error"],f);const c=r(e,["description"]);c!=null&&l(t,["description"],c);const d=r(e,["baseModel"]);d!=null&&l(t,["baseModel"],d);const p=r(e,["tunedModel"]);p!=null&&l(t,["tunedModel"],Uy(p));const h=r(e,["supervisedTuningSpec"]);h!=null&&l(t,["supervisedTuningSpec"],h);const g=r(e,["tuningDataStats"]);g!=null&&l(t,["tuningDataStats"],g);const y=r(e,["encryptionSpec"]);y!=null&&l(t,["encryptionSpec"],y);const C=r(e,["partnerModelTuningSpec"]);C!=null&&l(t,["partnerModelTuningSpec"],C);const w=r(e,["distillationSpec"]);w!=null&&l(t,["distillationSpec"],w);const x=r(e,["experiment"]);x!=null&&l(t,["experiment"],x);const T=r(e,["labels"]);T!=null&&l(t,["labels"],T);const v=r(e,["pipelineJob"]);v!=null&&l(t,["pipelineJob"],v);const A=r(e,["satisfiesPzi"]);A!=null&&l(t,["satisfiesPzi"],A);const N=r(e,["satisfiesPzs"]);N!=null&&l(t,["satisfiesPzs"],N);const S=r(e,["serviceAccount"]);S!=null&&l(t,["serviceAccount"],S);const b=r(e,["tunedModelDisplayName"]);return b!=null&&l(t,["tunedModelDisplayName"],b),t}function By(e){const t={},n=r(e,["nextPageToken"]);n!=null&&l(t,["nextPageToken"],n);const i=r(e,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Jn(s))),l(t,["tuningJobs"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zy extends ze{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new wt(Ue.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const i=await this.tuneMldevInternal(n);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:Ln.JOB_STATE_QUEUED}}}}async getInternal(t){var n,i,o,s;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=Ay(t);return u=z("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>Jn(d))}else{const c=_y(t);return u=z("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>qs(d))}}async listInternal(t){var n,i,o,s;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=Ny(t);return u=z("tuningJobs",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>{const p=By(d),h=new Do;return Object.assign(h,p),h})}else{const c=Sy(t);return u=z("tunedModels",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>{const p=Fy(d),h=new Do;return Object.assign(h,p),h})}}async tuneInternal(t){var n,i;let o,s="",a={};if(this.apiClient.isVertexAI()){const u=Dy(t);return s=z("tuningJobs",u._url),a=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>Jn(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,i;let o,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=by(t);return s=z("tunedModels",u._url),a=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>qy(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gy{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const $y=1024*1024*8,Hy=3,Jy=1e3,Oy=2,pn="x-goog-upload-status";async function Wy(e,t,n){var i,o,s;let a=0,u=0,f=new Fn(new Response),c="upload";for(a=e.size;u<a;){const p=Math.min($y,a-u),h=e.slice(u,u+p);u+p>=a&&(c+=", finalize");let g=0,y=Jy;for(;g<Hy&&(f=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(u),"Content-Length":String(p)}}}),!(!((i=f==null?void 0:f.headers)===null||i===void 0)&&i[pn]));)g++,await Ky(y),y=y*Oy;if(u+=p,((o=f==null?void 0:f.headers)===null||o===void 0?void 0:o[pn])!=="active")break;if(a<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(f==null?void 0:f.json());if(((s=f==null?void 0:f.headers)===null||s===void 0?void 0:s[pn])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function Yy(e){return{size:e.size,type:e.type}}function Ky(e){return new Promise(t=>setTimeout(t,e))}class Xy{async upload(t,n,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Wy(t,n,i)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Yy(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qy{create(t,n,i){return new Zy(t,n,i)}}class Zy{constructor(t,n,i){this.url=t,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sr="x-goog-api-key";class jy{constructor(t){this.apiKey=t}async addAuthHeaders(t){if(t.get(sr)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(sr,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ex="gl-node/";class tx{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const i=Za(t,void 0,void 0);i&&(t.httpOptions?t.httpOptions.baseUrl=i:t.httpOptions={baseUrl:i}),this.apiVersion=t.apiVersion;const o=new jy(this.apiKey);this.apiClient=new hg({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:ex+"web",uploader:new Xy,downloader:new Gy}),this.models=new Rg(this.apiClient),this.live=new Ag(this.apiClient,o,new Qy),this.batches=new _c(this.apiClient),this.chats=new Ef(this.models,this.apiClient),this.caches=new Sf(this.apiClient),this.files=new Uf(this.apiClient),this.operations=new Hg(this.apiClient),this.authTokens=new vy(this.apiClient),this.tunings=new zy(this.apiClient)}}const fi=()=>{try{const e=localStorage.getItem("firewatch_user_settings");if(e){const t=JSON.parse(e);return{apiKey:t.geminiApiKey||"",model:t.geminiModel||"gemini-2.5-flash"}}}catch(e){console.error("Error reading user settings:",e)}return{apiKey:"",model:"gemini-2.5-flash"}},di=()=>{const e=fi();if(!e.apiKey)throw new Error("No Gemini API key configured. Please set your API key in Settings. Your API key is stored securely in your browser only.");return new tx({apiKey:e.apiKey})};te.OBJECT,te.STRING,te.STRING,te.STRING,te.STRING,te.STRING,te.STRING,te.BOOLEAN;const nx=async e=>{var t,n,i;try{const o=di(),{model:s}=fi(),u=`Perform a comprehensive search for recent events and news ${typeof e=="string"?`in or around ${e}`:`around latitude ${e.lat} and longitude ${e.lon}`}, covering the entire perimeter and larger area, not just the exact pinpoint spot. Scan diverse and useful web sources, including news articles, social media discussions, and official alerts posted in the last 72 hours. Focus on topics relevant to a civil rights protection app, such as: - Protests or demonstrations - Law enforcement activity (e.g., police checkpoints, ICE raids, increased patrols, arrests) - Community safety alerts and advisories - Reports of rights violations or civil liberties concerns - Activist alerts. Provide a concise summary of your findings, highlighting any specific actionable information. If there are no relevant events or notable activity, state that the area appears clear based on available data.`,f=await o.models.generateContent({model:s,contents:u,config:{tools:[{googleSearch:{}}]}}),c=f.text,p=(((i=(n=(t=f.candidates)==null?void 0:t[0])==null?void 0:n.groundingMetadata)==null?void 0:i.groundingChunks)??[]).map(h=>h.web).filter(h=>h&&h.uri).map(h=>({uri:h.uri,title:h.title||h.uri})).filter((h,g,y)=>y.findIndex(C=>C.uri===h.uri)===g);return{text:f.text||"",sources:p}}catch(o){throw console.error("Error scanning for local alerts with Gemini API:",o),new Error("An unknown error occurred during the scan.")}},ix={type:te.OBJECT,properties:{consentType:{type:te.STRING,description:'The consent type. Must be one of: "One-Party", "Two-Party", "Varies", or "Unclear".'},summary:{type:te.STRING,description:"A brief, one-sentence summary for a layperson."},disclaimer:{type:te.STRING,description:"A standard disclaimer that this is not legal advice and is for informational purposes only."}},required:["consentType","summary","disclaimer"]},ox=async e=>{var t;try{const n=di(),i=`Analyze the laws for the state of "${e}". Is it a "One-Party" or "Two-Party" consent state for recording audio conversations where there is a reasonable expectation of privacy? If the law is complex (e.g., differs for in-person vs. electronic), classify as "Varies". Provide a brief, one-sentence summary for a layperson. Include a disclaimer. Respond ONLY with the JSON object.`,s=(t=(await n.models.generateContent({model:"gemini-2.5-flash",contents:i,config:{responseMimeType:"application/json",responseSchema:ix}})).text)==null?void 0:t.trim();return s?JSON.parse(s):(console.error(`Gemini API returned an empty response for recording law for ${e}.`),null)}catch(n){return console.error(`Error fetching recording law for ${e}:`,n),null}},rx={type:te.OBJECT,properties:{term:{type:te.STRING},explanation:{type:te.STRING,description:"A simple explanation (1-2 sentences) for a non-lawyer."}},required:["term","explanation"]},sx=async e=>{var t;try{const n=di(),{model:i}=fi(),o=`Explain the legal term "${e}" in simple, easy-to-understand language for a non-lawyer. Keep the explanation to 1-2 sentences. Respond ONLY with the JSON object.`,a=(t=(await n.models.generateContent({model:i,contents:o,config:{responseMimeType:"application/json",responseSchema:rx}})).text)==null?void 0:t.trim();return a?JSON.parse(a):(console.error(`Gemini API returned an empty response for legal term "${e}".`),null)}catch(n){return console.error(`Error explaining legal term "${e}":`,n),null}},Jt=()=>m.jsx("div",{className:"flex justify-center items-center py-10",children:m.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-400"})}),lx=({onClose:e})=>{const{t}=oe(),[n,i]=P.useState(()=>Ja(t)),o=s=>{const a=[...n];a[s].completed=!a[s].completed,i(a)};return m.jsx("div",{className:"fixed inset-0 z-50 bg-gray-900/80 backdrop-blur-sm flex items-center justify-center p-4",onClick:e,children:m.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl p-6 w-full max-w-md max-h-[90vh] flex flex-col",onClick:s=>s.stopPropagation(),children:[m.jsx("h2",{className:"text-2xl font-bold text-blue-400 mb-4",children:t("toolkit.checklist_modal_title")}),m.jsx("div",{className:"flex-1 overflow-y-auto pr-2",children:m.jsx("ul",{className:"space-y-3",children:n.map((s,a)=>m.jsxs("li",{onClick:()=>o(a),className:"flex items-center gap-3 p-3 bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-600 transition-colors",children:[m.jsx("div",{className:`w-6 h-6 rounded-full border-2 ${s.completed?"border-green-400 bg-green-400":"border-gray-500"} flex items-center justify-center flex-shrink-0`,children:s.completed&&m.jsx("svg",{className:"w-4 h-4 text-gray-900",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),m.jsx("span",{className:`flex-1 ${s.completed?"line-through text-gray-500":"text-gray-200"}`,children:s.text})]},a))})}),m.jsx("button",{onClick:e,className:"mt-6 w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:t("common.close")})]})})},ax=({onClose:e})=>{const{t}=oe(),n=P.useMemo(()=>Ya(t),[t]);return m.jsx("div",{className:"fixed inset-0 z-50 bg-gray-900/80 backdrop-blur-sm flex items-center justify-center p-4",onClick:e,children:m.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl p-6 w-full max-w-md max-h-[90vh] flex flex-col",onClick:i=>i.stopPropagation(),children:[m.jsx("h2",{className:"text-2xl font-bold text-red-400 mb-4",children:t("toolkit.emergency_resources_title")}),m.jsx("div",{className:"flex-1 overflow-y-auto pr-2",children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-blue-400 mb-2",children:t("toolkit.quick_actions")}),m.jsx("button",{onClick:()=>window.open("tel:911"),className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded-lg mb-2",children:t("toolkit.call_911")}),m.jsx("button",{onClick:()=>window.open(`sms:?&body=${encodeURIComponent(t("sms.emergency_default"))}`),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg",children:t("toolkit.text_emergency_contacts")})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-blue-400 mb-2",children:t("toolkit.legal_hotlines")}),n.map((i,o)=>m.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-700 rounded-lg mb-2",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-white",children:i.name}),m.jsx("p",{className:"text-sm text-gray-300",children:i.number})]}),m.jsx("button",{onClick:()=>window.open(`tel:${i.number}`),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm",children:t("common.call")})]},o))]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-blue-400 mb-2",children:t("toolkit.rights_card_title")}),m.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[m.jsx("p",{className:"text-sm text-gray-200 mb-2",children:t("toolkit.rights_card_header")}),m.jsxs("ul",{className:"text-xs text-gray-300 space-y-1",children:[m.jsx("li",{children:t("toolkit.rights_card_silent")}),m.jsx("li",{children:t("toolkit.rights_card_searches")}),m.jsx("li",{children:t("toolkit.rights_card_attorney")}),m.jsx("li",{children:t("toolkit.rights_card_record")})]})]})]})]})}),m.jsx("button",{onClick:e,className:"mt-6 w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-lg",children:t("common.close")})]})})},ux=()=>{const{t:e}=oe(),t=P.useMemo(()=>Ha(e),[e]),[n,i]=P.useState(0),[o,s]=P.useState(""),[a,u]=P.useState(""),[f,c]=P.useState(null),[d,p]=P.useState(!1),[h,g]=P.useState(null),[y,C]=P.useState(!1),[w,x]=P.useState(""),[T,v]=P.useState(null),[A,N]=P.useState(!1),[S,b]=P.useState(null),q=P.useCallback(()=>{i(V=>(V+1)%t.length)},[t.length]),R=P.useCallback(()=>{navigator.clipboard.writeText(t[n]).then(()=>{s(e("common.copied")),setTimeout(()=>s(""),2e3)},()=>{s(e("common.copy_failed")),setTimeout(()=>s(""),2e3)})},[n,t,e]),E=P.useCallback(async V=>{if(V.preventDefault(),!a.trim()){g(e("toolkit.error_enter_state"));return}p(!0),g(null),c(null);const B=await ox(a.trim());B?c(B):g(e("toolkit.error_could_not_retrieve_data")),p(!1)},[a,e]),M=P.useCallback(async V=>{if(V.preventDefault(),!w.trim()){b(e("toolkit.error_enter_legal_term"));return}N(!0),b(null),v(null);const B=await sx(w.trim());B?v(B):b(e("toolkit.error_could_not_define_term")),N(!1)},[w,e]),[L,F]=P.useState(!1);return m.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 shadow-lg",children:[y&&m.jsx(lx,{onClose:()=>C(!1)}),L&&m.jsx(ax,{onClose:()=>F(!1)}),m.jsx("h2",{className:"text-lg font-semibold text-purple-400 mb-4",children:e("toolkit.dashboard_title")}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-lg flex flex-col h-56",children:[m.jsxs("div",{className:"flex items-center gap-3 text-purple-300 mb-3",children:[m.jsx(Vt,{className:"w-7 h-7"}),m.jsx("h3",{className:"font-bold",children:e("toolkit.script")})]}),m.jsxs("p",{className:"flex-1 text-gray-200 text-lg font-medium italic text-center flex items-center justify-center",children:['"',t[n],'"']}),m.jsxs("div",{className:"flex gap-2 mt-3",children:[m.jsx("button",{onClick:q,className:"flex-1 bg-gray-600 hover:bg-gray-500 text-white text-sm font-semibold py-2 px-3 rounded-md transition-colors",children:e("toolkit.next_phrase")}),m.jsx("button",{onClick:R,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold py-2 px-3 rounded-md transition-colors relative",children:o?m.jsx("span",{className:"text-green-300",children:o}):e("toolkit.copy_script")})]})]}),m.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-lg flex flex-col h-56",children:[m.jsxs("div",{className:"flex items-center gap-3 text-purple-300 mb-3",children:[m.jsx(La,{className:"w-7 h-7"}),m.jsx("h3",{className:"font-bold",children:e("toolkit.law")})]}),d?m.jsx(Jt,{}):f?m.jsxs("div",{className:"text-center flex-1 flex flex-col justify-center items-center",children:[m.jsxs("p",{className:"text-2xl font-bold text-green-400",children:[f.consentType," Consent"]}),m.jsx("p",{className:"text-sm text-gray-300 mt-2",children:f.summary}),m.jsx("p",{className:"text-xs text-gray-500 mt-3 italic",children:f.disclaimer})]}):m.jsxs("form",{onSubmit:E,className:"flex-1 flex flex-col justify-center gap-2",children:[m.jsx("input",{type:"text",value:a,onChange:V=>u(V.target.value),placeholder:e("toolkit.placeholder_enter_state"),className:"bg-gray-800 border border-gray-600 text-white text-sm rounded-lg w-full p-2.5 focus:ring-blue-500 focus:border-blue-500"}),m.jsx("button",{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:e("toolkit.check_law_button")}),h&&m.jsx("p",{className:"text-red-400 text-xs text-center mt-1",children:h})]})]}),m.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-lg flex flex-col h-56 justify-between cursor-pointer hover:bg-gray-700/80 transition-colors",onClick:()=>C(!0),children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-3 text-purple-300 mb-3",children:[m.jsx(qa,{className:"w-7 h-7"}),m.jsx("h3",{className:"font-bold",children:e("toolkit.checklist")})]}),m.jsx("p",{className:"text-sm text-gray-300",children:e("toolkit.checklist_description")})]}),m.jsx("div",{className:"text-center mt-4",children:m.jsx("span",{className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-6 rounded-lg transition-colors",children:e("toolkit.view_checklist_button")})})]}),m.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-lg flex flex-col h-56",children:[m.jsxs("div",{className:"flex items-center gap-3 text-purple-300 mb-3",children:[m.jsx(Ua,{className:"w-7 h-7"}),m.jsx("h3",{className:"font-bold",children:e("toolkit.jargon")})]}),A?m.jsx(Jt,{}):T?m.jsxs("div",{className:"text-center flex-1 flex flex-col justify-center",children:[m.jsx("p",{className:"font-bold text-lg text-green-400",children:T.term}),m.jsx("p",{className:"text-sm text-gray-300 mt-2",children:T.explanation}),m.jsx("button",{onClick:()=>v(null),className:"text-blue-400 text-xs mt-3 hover:underline",children:e("toolkit.define_another_term")})]}):m.jsxs("form",{onSubmit:M,className:"flex-1 flex flex-col justify-center gap-2",children:[m.jsx("input",{type:"text",value:w,onChange:V=>x(V.target.value),placeholder:e("toolkit.placeholder_jargon"),className:"bg-gray-800 border border-gray-600 text-white text-sm rounded-lg w-full p-2.5 focus:ring-blue-500 focus:border-blue-500"}),m.jsx("button",{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:e("toolkit.define_term_button")}),S&&m.jsx("p",{className:"text-red-400 text-xs text-center mt-1",children:S})]})]}),m.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-lg flex flex-col h-56 justify-between cursor-pointer hover:bg-gray-700/80 transition-colors",onClick:()=>F(!0),children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-3 text-red-300 mb-3",children:[m.jsx(Dn,{className:"w-7 h-7"}),m.jsx("h3",{className:"font-bold",children:e("toolkit.emergency_resources_title")})]}),m.jsx("p",{className:"text-sm text-gray-300",children:e("toolkit.emergency_resources_description")})]}),m.jsx("div",{className:"text-center mt-4",children:m.jsx("span",{className:"bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-6 rounded-lg transition-colors",children:e("toolkit.get_help_now_button")})})]})]})]})},Vs=({evidence:e,onSelect:t})=>{const n=()=>{switch(e.mediaType){case"video":return m.jsx(Zt,{className:"w-6 h-6 text-blue-400"});case"audio":return m.jsx(_t,{className:"w-6 h-6 text-green-400"});case"photo":return m.jsx(jt,{className:"w-6 h-6 text-purple-400"});default:return null}},i=o=>new Date(o).toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"});return m.jsxs("li",{onClick:t,className:"bg-gray-700 rounded-lg p-3 flex items-center space-x-4 transition-colors hover:bg-gray-600 cursor-pointer",children:[m.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center",children:n()}),m.jsxs("div",{className:"flex-1 overflow-hidden",children:[m.jsx("p",{className:"font-semibold text-gray-100 truncate",children:e.incidentType}),m.jsx("p",{className:"text-sm text-gray-400",children:i(e.timestamp)})]}),m.jsx("svg",{className:"w-5 h-5 text-gray-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})},Us="firewatch_evidence_list",cx=()=>{try{const e=window.localStorage.getItem(Us);if(e)return JSON.parse(e)}catch(e){console.error("Error reading evidence from localStorage",e)}return[]},fx=()=>{const[e,t]=P.useState(cx);P.useEffect(()=>{try{window.localStorage.setItem(Us,JSON.stringify(e))}catch(s){console.error("Error saving evidence to localStorage",s)}},[e]);const n=P.useCallback(s=>{t(a=>[s,...a])},[]),i=P.useCallback(s=>{t(a=>a.filter(u=>u.id!==s))},[]),o=P.useCallback((s,a)=>{t(u=>u.map(f=>f.id===s?{...f,...a}:f))},[]);return{evidence:e,addEvidence:n,deleteEvidence:i,updateEvidence:o}},lw=({setActiveScreen:e,onPanicActivate:t})=>{const{evidence:n}=fx(),{t:i}=oe();return m.jsx("div",{className:"bg-gray-900",children:m.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[t&&m.jsx("div",{className:"mb-8",children:m.jsxs("button",{onClick:t,className:"w-full bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-bold py-6 px-8 rounded-xl shadow-2xl transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98] animate-pulse-slow hover:animate-none relative overflow-hidden","aria-label":i("home_screen.panic_button_aria_label"),children:[m.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[m.jsx(Dn,{className:"w-12 h-12"}),m.jsxs("div",{className:"text-left",children:[m.jsx("div",{className:"text-2xl font-black",children:i("home_screen.emergency_button_title")}),m.jsx("div",{className:"text-sm opacity-90",children:i("home_screen.emergency_button_subtitle")})]}),m.jsx(Dn,{className:"w-12 h-12"})]}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500 to-red-600 opacity-0 hover:opacity-20 transition-opacity duration-300"}),m.jsx("style",{children:`
                @keyframes pulse-slow {
                  0%, 100% {
                    box-shadow: 0 0 0 0 rgba(220, 38, 38, 0.7);
                  }
                  70% {
                    box-shadow: 0 0 0 20px rgba(220, 38, 38, 0);
                  }
                }
                .animate-pulse-slow {
                  animation: pulse-slow 3s infinite;
                }
              `})]})}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[m.jsxs("div",{className:"lg:col-span-2",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:i("home_screen.welcome_title")}),m.jsx("p",{className:"text-gray-600 mb-4",children:i("home_screen.welcome_subtitle")}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("button",{onClick:()=>e("Rights"),className:"bg-red-50 p-4 rounded-lg hover:bg-red-100 transition-colors cursor-pointer text-left",children:[m.jsx("h3",{className:"font-semibold text-gray-800",children:i("home_screen.rights_button_title")}),m.jsx("p",{className:"text-sm text-gray-600",children:i("home_screen.rights_button_subtitle")})]}),m.jsxs("button",{onClick:()=>e("Document"),className:"bg-blue-50 p-4 rounded-lg hover:bg-blue-100 transition-colors cursor-pointer text-left",children:[m.jsx("h3",{className:"font-semibold text-gray-800",children:i("home_screen.document_button_title")}),m.jsx("p",{className:"text-sm text-gray-600",children:i("home_screen.document_button_subtitle")})]})]})]}),m.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 shadow-lg",children:[m.jsx("h2",{className:"text-lg font-semibold text-blue-400 mb-3",children:i("home_screen.area_status_title")}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"p-3 rounded-lg bg-gray-900/50 border-l-4 border-gray-500",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"font-bold text-lg text-gray-400",children:i("home_screen.status_ready")}),m.jsx("span",{className:"px-2 py-1 text-xs font-bold text-gray-900 rounded-full bg-gray-500",children:i("home_screen.status_standby")})]}),m.jsx("p",{className:"text-sm text-gray-300 mt-1",children:i("home_screen.status_description")})]}),m.jsx("p",{className:"text-xs text-gray-500 text-center pt-2",children:i("home_screen.status_update_note")})]})]})]}),m.jsx("div",{className:"lg:col-span-1",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[m.jsx("h2",{className:"text-lg font-semibold mb-3 text-gray-800",children:i("home_screen.active_alerts_title")}),m.jsx("div",{className:"space-y-3",children:m.jsxs("div",{className:"border-l-4 border-gray-300 pl-3",children:[m.jsx("h3",{className:"font-medium text-sm text-gray-800",children:i("home_screen.no_active_alerts")}),m.jsx("p",{className:"text-xs text-gray-600",children:i("home_screen.scan_for_updates")})]})})]})})]}),m.jsx(ux,{}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[m.jsxs("div",{className:"p-4 border-b border-gray-200",children:[m.jsx("div",{className:"flex items-center space-x-2",children:m.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:i("home_screen.map_title")})}),m.jsx("p",{className:"text-sm text-gray-600 mt-1",children:i("home_screen.map_subtitle")})]}),m.jsx("div",{className:"relative",children:m.jsx("iframe",{src:"https://padlet.com/embed/lf0l47ljszbto2uj",className:"w-full h-[600px] md:h-[700px] lg:h-[800px]",style:{border:"none",display:"block"},allow:"camera;microphone;geolocation",title:i("home_screen.map_title")})}),m.jsx("div",{className:"p-3 bg-gray-50 border-t border-gray-200",children:m.jsx("p",{className:"text-xs text-gray-500",children:m.jsx(Qt,{i18nKey:"home_screen.map_disclaimer",children:"ðŸ”’ This map is embedded from an external service. Your location and data remain private to your device."})})})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:i("home_screen.recent_evidence_title")}),n.length>0?m.jsx("div",{className:"space-y-3",children:n.slice(0,3).map(o=>m.jsx(Vs,{evidence:o,onSelect:()=>{}},o.id))}):m.jsx("p",{className:"text-gray-500 text-center py-8",children:i("home_screen.no_evidence")})]})]})})},dx=[],px=(e,t)=>{const n=new Date(e),o=Math.floor((new Date().getTime()-n.getTime())/1e3);if(o<60)return t("time.seconds_ago",{count:o});const s=Math.floor(o/60);if(s<60)return t("time.minutes_ago",{count:s});const a=Math.floor(s/60);if(a<24)return t("time.hours_ago",{count:a});const u=Math.floor(a/24);return t("time.days_ago",{count:u})},mx={"Immediate Threat":{borderColor:"border-red-500",iconColor:"text-red-400",icon:m.jsx(qt,{className:"w-8 h-8"})},"Area Watch":{borderColor:"border-yellow-500",iconColor:"text-yellow-400",icon:m.jsx(qt,{className:"w-8 h-8"})},"Pattern Alert":{borderColor:"border-blue-500",iconColor:"text-blue-400",icon:m.jsx(qt,{className:"w-8 h-8"})},"All Clear":{borderColor:"border-green-500",iconColor:"text-green-400",icon:m.jsx(ls,{className:"w-8 h-8"})}},hx=({alert:e})=>{const{t}=oe(),n=mx[e.type];return m.jsxs("div",{className:`bg-gray-800 rounded-lg p-4 shadow-lg border-l-4 ${n.borderColor} flex space-x-4 items-start`,children:[m.jsx("div",{className:`flex-shrink-0 w-10 pt-1 ${n.iconColor}`,children:n.icon}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-lg text-gray-100",children:e.title}),m.jsx("p",{className:"text-sm text-gray-400 mt-1",children:e.location})]}),m.jsxs("div",{className:"text-right flex-shrink-0 ml-2",children:[m.jsx("p",{className:"text-xs text-gray-500 font-medium",children:px(e.timestamp,t)}),e.verified&&m.jsxs("div",{className:"mt-1 inline-flex items-center bg-green-900/50 border border-green-700/50 text-green-300 text-xs font-semibold px-2 py-0.5 rounded-full",children:[m.jsx(ls,{className:"w-4 h-4 mr-1"}),t("alerts.verified")]})]})]}),m.jsx("p",{className:"mt-2 text-gray-300 leading-relaxed text-sm",children:e.description}),m.jsxs("div",{className:"mt-3 p-3 bg-red-900/40 border border-red-700 rounded-lg text-red-200 text-sm shadow-inner",children:[m.jsxs("p",{className:"font-bold flex items-center",children:[m.jsx(qt,{className:"w-5 h-5 mr-2 text-red-400"}),t("alerts.status_note_title")]}),m.jsx("p",{className:"mt-1 text-xs leading-tight",children:m.jsxs(Qt,{i18nKey:"alerts.status_note_body",children:["The current status (",m.jsx("span",{className:"font-bold text-red-400",children:"Area Status: High Threat - Red"}),") is based on community-sourced reports and may not be exhaustive or immediately verifiable. Always prioritize your safety and cross-reference information if possible."]})})]})]})]})},gx=[{name:"Emergency Contact 1",phone:"15551234567"},{name:"Emergency Contact 2",phone:"15557654321"}],Bs="firewatch_user_settings",Mt={fallbackLocation:{city:"",state:"",zip:""},emergencyContacts:gx,geminiApiKey:"",geminiModel:"gemini-2.5-flash"},yx=()=>{try{const e=window.localStorage.getItem(Bs);if(e){const t=JSON.parse(e);return{...Mt,...t,fallbackLocation:{...Mt.fallbackLocation,...t.fallbackLocation},emergencyContacts:t.emergencyContacts||Mt.emergencyContacts}}}catch(e){console.error("Error reading user settings from localStorage",e)}return Mt},pi=()=>{const[e,t]=P.useState(yx);P.useEffect(()=>{try{window.localStorage.setItem(Bs,JSON.stringify(e))}catch(i){console.error("Error saving user settings to localStorage",i)}},[e]);const n=P.useCallback(i=>{t(o=>({...o,...i}))},[]);return{settings:e,saveSettings:n}},xx=()=>{const{t:e}=oe(),[t,n]=P.useState(!1),[i,o]=P.useState(null),[s,a]=P.useState(null),[u,f]=P.useState(!1),{settings:c}=pi(),[d,p]=P.useState(c.fallbackLocation);P.useEffect(()=>{p(c.fallbackLocation)},[c.fallbackLocation]);const h=P.useCallback(async(x,T=!1)=>{if(n(!0),a(null),o(null),T){const{city:v,state:A,zip:N}=c.fallbackLocation,S=`${v} ${A} ${N}`.trim();a(e("location_scanner.fallback_error",{location:S}))}try{const v=await nx(x);v?o(v):a(A=>(A?A+`
`:"")+e("location_scanner.no_results_error"))}catch(v){a(A=>(A?A+`
`:"")+(v.message||e("location_scanner.unknown_error")))}finally{n(!1)}},[c.fallbackLocation,e]),g=P.useCallback(()=>{if(!navigator.geolocation){a(e("location_scanner.geolocation_not_supported")),f(!0);return}navigator.geolocation.getCurrentPosition(x=>{const T={lat:x.coords.latitude,lon:x.coords.longitude};h(T)},()=>{const{city:x,state:T,zip:v}=c.fallbackLocation,A=`${x} ${T} ${v}`.trim();A?h(A,!0):a(e("location_scanner.permission_denied_error")),f(!0)})},[h,c.fallbackLocation,e]),y=x=>{const{name:T,value:v}=x.target;p(A=>({...A,[T]:v}))},C=x=>{x.preventDefault();const{city:T,state:v,zip:A}=d;if(!T.trim()&&!A.trim()){a(e("location_scanner.city_zip_required_error"));return}const N=`${T} ${v} ${A}`.trim();h(N)},w=e(u?"location_scanner.scan_my_location_instead":"location_scanner.scan_my_area");return m.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 shadow-lg",children:[m.jsx("h2",{className:"text-xl font-semibold text-blue-400 mb-3",children:e("location_scanner.title")}),m.jsx("p",{className:"text-gray-400 text-sm mb-4",children:e(u?"location_scanner.manual_input_description":"location_scanner.default_description")}),!t&&m.jsxs("button",{onClick:g,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-all duration-200 ease-in-out transform hover:scale-105","aria-label":e("location_scanner.scan_my_area"),children:[m.jsx($i,{className:"w-6 h-6"}),w]}),!u&&!t&&m.jsx("button",{onClick:()=>f(!0),className:"w-full text-center text-sm text-blue-400 hover:text-blue-300 mt-3",children:e("location_scanner.scan_different_location")}),t&&m.jsx(Jt,{}),s&&m.jsxs("div",{className:"mt-4 bg-red-900/50 border border-red-700 text-red-300 px-4 py-3 rounded-lg whitespace-pre-wrap",role:"alert",children:[m.jsx("p",{className:"font-bold",children:e("location_scanner.scan_notice_title")}),m.jsx("p",{className:"text-sm",children:s})]}),u&&!t&&m.jsxs("form",{onSubmit:C,className:"mt-4 space-y-4 animate-fade-in",children:[m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-5 gap-3",children:[m.jsx("input",{type:"text",name:"city",value:d.city,onChange:y,placeholder:e("location_scanner.city_placeholder"),"aria-label":e("location_scanner.city_placeholder"),className:"sm:col-span-2 bg-gray-700 border border-gray-600 text-white placeholder-gray-400 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"}),m.jsx("input",{type:"text",name:"state",value:d.state,onChange:y,placeholder:e("location_scanner.state_placeholder"),"aria-label":e("location_scanner.state_placeholder"),maxLength:20,className:"bg-gray-700 border border-gray-600 text-white placeholder-gray-400 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"}),m.jsx("input",{type:"text",name:"zip",value:d.zip,onChange:y,placeholder:e("location_scanner.zip_placeholder"),"aria-label":e("location_scanner.zip_placeholder"),inputMode:"numeric",pattern:"[\\d\\s-]*",className:"sm:col-span-2 bg-gray-700 border border-gray-600 text-white placeholder-gray-400 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"})]}),m.jsxs("button",{type:"submit",className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors","aria-label":e("location_scanner.scan_this_location_button"),children:[m.jsx($i,{className:"w-6 h-6"}),e("location_scanner.scan_this_location_button")]}),m.jsx("style",{children:`
             @keyframes fade-in {
                from { opacity: 0; transform: translateY(-10px); }
                to { opacity: 1; transform: translateY(0); }
             }
             .animate-fade-in { animation: fade-in 0.5s ease-out forwards; }
           `})]}),i&&m.jsxs("div",{className:"mt-4 space-y-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-2",children:e("location_scanner.scan_summary_title")}),m.jsx("div",{className:"text-gray-300 bg-gray-900/50 p-4 rounded-lg whitespace-pre-wrap font-sans",children:i.text})]}),i.sources&&i.sources.length>0&&m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-2",children:e("location_scanner.sources_title")}),m.jsx("ul",{className:"space-y-2",children:i.sources.map((x,T)=>m.jsx("li",{className:"bg-gray-700 hover:bg-gray-600/70 p-3 rounded-lg transition-colors",children:m.jsxs("a",{href:x.uri,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 text-blue-300 hover:text-blue-200",children:[m.jsx(Va,{className:"w-5 h-5 flex-shrink-0"}),m.jsx("span",{className:"truncate",title:x.title,children:x.title})]})},T))})]})]})]})},aw=()=>{const{t:e}=oe(),[t,n]=P.useState(dx),[i,o]=P.useState(!0),[s,a]=P.useState(null);P.useEffect(()=>{const c=setTimeout(()=>o(!1),500);return()=>clearTimeout(c)},[]);const{settings:u}=pi(),f=!!u.geminiApiKey;return m.jsxs("div",{className:"space-y-8 max-w-4xl mx-auto",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-bold text-center text-blue-400",children:e("alerts_screen.title")}),m.jsx("p",{className:"mt-4 text-lg text-center text-gray-300",children:e("alerts_screen.description")})]}),!f&&m.jsxs("div",{className:"bg-red-900 border border-red-700 text-red-100 px-6 py-4 rounded-lg text-center my-6 shadow-xl animate-pulse",children:[m.jsx("p",{className:"font-bold text-lg mb-2",children:e("alerts_screen.test_data_warning_title")}),m.jsx("p",{className:"text-sm leading-relaxed",children:m.jsxs(Qt,{i18nKey:"alerts_screen.test_data_warning_body",children:["Currently, you're viewing ",m.jsx("span",{children:"sample alerts"})," for demonstration purposes. These are not live, real-time incidents. To ensure your safety and receive accurate, localized threat intelligence, please ",m.jsx("a",{href:"/settings",className:"underline font-bold text-red-50 hover:text-white transition-colors duration-200",children:"securely configure your API key in Settings"}),". Once set up, activate the ",m.jsx("span",{children:"Location Scanner"})," below to actively monitor your immediate area. Your protection is our priority, and live data ensures you're truly informed."]})})]}),m.jsx("div",{className:"my-8",children:m.jsx(xx,{})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-semibold text-blue-400 mb-4",children:e("alerts_screen.community_alerts_title")}),i&&m.jsx(Jt,{}),s&&m.jsx("div",{className:"bg-red-900 border border-red-500 text-red-200 px-4 py-3 rounded-lg my-4",role:"alert",children:m.jsx("p",{children:s})}),!i&&t.length>0?m.jsx("ul",{className:"space-y-4",children:t.map(c=>m.jsx("li",{children:m.jsx(hx,{alert:c})},c.id))}):!i&&m.jsxs("div",{className:"text-center py-8 px-4 text-gray-500 bg-gray-800 rounded-lg flex flex-col items-center justify-center",children:[m.jsx(os,{}),m.jsx("p",{className:"mt-2 font-semibold",children:e("alerts_screen.no_active_alerts")}),m.jsx("p",{className:"text-sm",children:e("alerts_screen.all_quiet")})]})]})]})},Cx=e=>({traffic_stop:e("rights_content.traffic_stop"),home_visit:e("rights_content.home_visit"),workplace_raid:e("rights_content.workplace_raid"),public_protest:e("rights_content.public_protest"),questioning:e("rights_content.questioning"),filming_police:e("rights_content.filming_police")});function vx(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const _x=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Tx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Sx={};function lr(e,t){return(Sx.jsx?Tx:_x).test(e)}const wx=/[ \t\n\f\r]/g;function kx(e){return typeof e=="object"?e.type==="text"?ar(e.value):!1:ar(e)}function ar(e){return e.replace(wx,"")===""}class kt{constructor(t,n,i){this.normal=n,this.property=t,i&&(this.space=i)}}kt.prototype.normal={};kt.prototype.property={};kt.prototype.space=void 0;function zs(e,t){const n={},i={};for(const o of e)Object.assign(n,o.property),Object.assign(i,o.normal);return new kt(n,i,t)}function On(e){return e.toLowerCase()}class fe{constructor(t,n){this.attribute=n,this.property=t}}fe.prototype.attribute="";fe.prototype.booleanish=!1;fe.prototype.boolean=!1;fe.prototype.commaOrSpaceSeparated=!1;fe.prototype.commaSeparated=!1;fe.prototype.defined=!1;fe.prototype.mustUseProperty=!1;fe.prototype.number=!1;fe.prototype.overloadedBoolean=!1;fe.prototype.property="";fe.prototype.spaceSeparated=!1;fe.prototype.space=void 0;let Ex=0;const H=Ge(),ie=Ge(),Wn=Ge(),D=Ge(),j=Ge(),je=Ge(),pe=Ge();function Ge(){return 2**++Ex}const Yn=Object.freeze(Object.defineProperty({__proto__:null,boolean:H,booleanish:ie,commaOrSpaceSeparated:pe,commaSeparated:je,number:D,overloadedBoolean:Wn,spaceSeparated:j},Symbol.toStringTag,{value:"Module"})),mn=Object.keys(Yn);class mi extends fe{constructor(t,n,i,o){let s=-1;if(super(t,n),ur(this,"space",o),typeof i=="number")for(;++s<mn.length;){const a=mn[s];ur(this,mn[s],(i&Yn[a])===Yn[a])}}}mi.prototype.defined=!0;function ur(e,t,n){n&&(e[t]=n)}function rt(e){const t={},n={};for(const[i,o]of Object.entries(e.properties)){const s=new mi(i,e.transform(e.attributes||{},i),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(s.mustUseProperty=!0),t[i]=s,n[On(i)]=i,n[On(s.attribute)]=i}return new kt(t,n,e.space)}const Gs=rt({properties:{ariaActiveDescendant:null,ariaAtomic:ie,ariaAutoComplete:null,ariaBusy:ie,ariaChecked:ie,ariaColCount:D,ariaColIndex:D,ariaColSpan:D,ariaControls:j,ariaCurrent:null,ariaDescribedBy:j,ariaDetails:null,ariaDisabled:ie,ariaDropEffect:j,ariaErrorMessage:null,ariaExpanded:ie,ariaFlowTo:j,ariaGrabbed:ie,ariaHasPopup:null,ariaHidden:ie,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:j,ariaLevel:D,ariaLive:null,ariaModal:ie,ariaMultiLine:ie,ariaMultiSelectable:ie,ariaOrientation:null,ariaOwns:j,ariaPlaceholder:null,ariaPosInSet:D,ariaPressed:ie,ariaReadOnly:ie,ariaRelevant:null,ariaRequired:ie,ariaRoleDescription:j,ariaRowCount:D,ariaRowIndex:D,ariaRowSpan:D,ariaSelected:ie,ariaSetSize:D,ariaSort:null,ariaValueMax:D,ariaValueMin:D,ariaValueNow:D,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function $s(e,t){return t in e?e[t]:t}function Hs(e,t){return $s(e,t.toLowerCase())}const bx=rt({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:je,acceptCharset:j,accessKey:j,action:null,allow:null,allowFullScreen:H,allowPaymentRequest:H,allowUserMedia:H,alt:null,as:null,async:H,autoCapitalize:null,autoComplete:j,autoFocus:H,autoPlay:H,blocking:j,capture:null,charSet:null,checked:H,cite:null,className:j,cols:D,colSpan:null,content:null,contentEditable:ie,controls:H,controlsList:j,coords:D|je,crossOrigin:null,data:null,dateTime:null,decoding:null,default:H,defer:H,dir:null,dirName:null,disabled:H,download:Wn,draggable:ie,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:H,formTarget:null,headers:j,height:D,hidden:Wn,high:D,href:null,hrefLang:null,htmlFor:j,httpEquiv:j,id:null,imageSizes:null,imageSrcSet:null,inert:H,inputMode:null,integrity:null,is:null,isMap:H,itemId:null,itemProp:j,itemRef:j,itemScope:H,itemType:j,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:H,low:D,manifest:null,max:null,maxLength:D,media:null,method:null,min:null,minLength:D,multiple:H,muted:H,name:null,nonce:null,noModule:H,noValidate:H,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:H,optimum:D,pattern:null,ping:j,placeholder:null,playsInline:H,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:H,referrerPolicy:null,rel:j,required:H,reversed:H,rows:D,rowSpan:D,sandbox:j,scope:null,scoped:H,seamless:H,selected:H,shadowRootClonable:H,shadowRootDelegatesFocus:H,shadowRootMode:null,shape:null,size:D,sizes:null,slot:null,span:D,spellCheck:ie,src:null,srcDoc:null,srcLang:null,srcSet:null,start:D,step:null,style:null,tabIndex:D,target:null,title:null,translate:null,type:null,typeMustMatch:H,useMap:null,value:ie,width:D,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:j,axis:null,background:null,bgColor:null,border:D,borderColor:null,bottomMargin:D,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:H,declare:H,event:null,face:null,frame:null,frameBorder:null,hSpace:D,leftMargin:D,link:null,longDesc:null,lowSrc:null,marginHeight:D,marginWidth:D,noResize:H,noHref:H,noShade:H,noWrap:H,object:null,profile:null,prompt:null,rev:null,rightMargin:D,rules:null,scheme:null,scrolling:ie,standby:null,summary:null,text:null,topMargin:D,valueType:null,version:null,vAlign:null,vLink:null,vSpace:D,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:H,disableRemotePlayback:H,prefix:null,property:null,results:D,security:null,unselectable:null},space:"html",transform:Hs}),Ax=rt({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:pe,accentHeight:D,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:D,amplitude:D,arabicForm:null,ascent:D,attributeName:null,attributeType:null,azimuth:D,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:D,by:null,calcMode:null,capHeight:D,className:j,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:D,diffuseConstant:D,direction:null,display:null,dur:null,divisor:D,dominantBaseline:null,download:H,dx:null,dy:null,edgeMode:null,editable:null,elevation:D,enableBackground:null,end:null,event:null,exponent:D,externalResourcesRequired:null,fill:null,fillOpacity:D,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:je,g2:je,glyphName:je,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:D,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:D,horizOriginX:D,horizOriginY:D,id:null,ideographic:D,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:D,k:D,k1:D,k2:D,k3:D,k4:D,kernelMatrix:pe,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:D,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:D,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:D,overlineThickness:D,paintOrder:null,panose1:null,path:null,pathLength:D,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:j,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:D,pointsAtY:D,pointsAtZ:D,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:pe,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:pe,rev:pe,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:pe,requiredFeatures:pe,requiredFonts:pe,requiredFormats:pe,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:D,specularExponent:D,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:D,strikethroughThickness:D,string:null,stroke:null,strokeDashArray:pe,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:D,strokeOpacity:D,strokeWidth:null,style:null,surfaceScale:D,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:pe,tabIndex:D,tableValues:null,target:null,targetX:D,targetY:D,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:pe,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:D,underlineThickness:D,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:D,values:null,vAlphabetic:D,vMathematical:D,vectorEffect:null,vHanging:D,vIdeographic:D,version:null,vertAdvY:D,vertOriginX:D,vertOriginY:D,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:D,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:$s}),Js=rt({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Os=rt({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Hs}),Ws=rt({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Ix={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Nx=/[A-Z]/g,cr=/-[a-z]/g,Mx=/^data[-\w.:]+$/i;function Px(e,t){const n=On(t);let i=t,o=fe;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Mx.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(cr,Dx);i="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!cr.test(s)){let a=s.replace(Nx,Rx);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}o=mi}return new o(i,t)}function Rx(e){return"-"+e.toLowerCase()}function Dx(e){return e.charAt(1).toUpperCase()}const Lx=zs([Gs,bx,Js,Os,Ws],"html"),hi=zs([Gs,Ax,Js,Os,Ws],"svg");function Fx(e){return e.join(" ").trim()}var Oe={},hn,fr;function qx(){if(fr)return hn;fr=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,u=/^\s+|\s+$/g,f=`
`,c="/",d="*",p="",h="comment",g="declaration";hn=function(C,w){if(typeof C!="string")throw new TypeError("First argument must be a string");if(!C)return[];w=w||{};var x=1,T=1;function v(F){var V=F.match(t);V&&(x+=V.length);var B=F.lastIndexOf(f);T=~B?F.length-B:T+F.length}function A(){var F={line:x,column:T};return function(V){return V.position=new N(F),q(),V}}function N(F){this.start=F,this.end={line:x,column:T},this.source=w.source}N.prototype.content=C;function S(F){var V=new Error(w.source+":"+x+":"+T+": "+F);if(V.reason=F,V.filename=w.source,V.line=x,V.column=T,V.source=C,!w.silent)throw V}function b(F){var V=F.exec(C);if(V){var B=V[0];return v(B),C=C.slice(B.length),V}}function q(){b(n)}function R(F){var V;for(F=F||[];V=E();)V!==!1&&F.push(V);return F}function E(){var F=A();if(!(c!=C.charAt(0)||d!=C.charAt(1))){for(var V=2;p!=C.charAt(V)&&(d!=C.charAt(V)||c!=C.charAt(V+1));)++V;if(V+=2,p===C.charAt(V-1))return S("End of comment missing");var B=C.slice(2,V-2);return T+=2,v(B),C=C.slice(V),T+=2,F({type:h,comment:B})}}function M(){var F=A(),V=b(i);if(V){if(E(),!b(o))return S("property missing ':'");var B=b(s),X=F({type:g,property:y(V[0].replace(e,p)),value:B?y(B[0].replace(e,p)):p});return b(a),X}}function L(){var F=[];R(F);for(var V;V=M();)V!==!1&&(F.push(V),R(F));return F}return q(),L()};function y(C){return C?C.replace(u,p):p}return hn}var dr;function Vx(){if(dr)return Oe;dr=1;var e=Oe&&Oe.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.default=n;var t=e(qx());function n(i,o){var s=null;if(!i||typeof i!="string")return s;var a=(0,t.default)(i),u=typeof o=="function";return a.forEach(function(f){if(f.type==="declaration"){var c=f.property,d=f.value;u?o(c,d,f):d&&(s=s||{},s[c]=d)}}),s}return Oe}var dt={},pr;function Ux(){if(pr)return dt;pr=1,Object.defineProperty(dt,"__esModule",{value:!0}),dt.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,s=function(c){return!c||n.test(c)||e.test(c)},a=function(c,d){return d.toUpperCase()},u=function(c,d){return"".concat(d,"-")},f=function(c,d){return d===void 0&&(d={}),s(c)?c:(c=c.toLowerCase(),d.reactCompat?c=c.replace(o,u):c=c.replace(i,u),c.replace(t,a))};return dt.camelCase=f,dt}var pt,mr;function Bx(){if(mr)return pt;mr=1;var e=pt&&pt.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},t=e(Vx()),n=Ux();function i(o,s){var a={};return!o||typeof o!="string"||(0,t.default)(o,function(u,f){u&&f&&(a[(0,n.camelCase)(u,s)]=f)}),a}return i.default=i,pt=i,pt}var zx=Bx();const Gx=Xt(zx),Ys=Ks("end"),gi=Ks("start");function Ks(e){return t;function t(n){const i=n&&n.position&&n.position[e]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function $x(e){const t=gi(e),n=Ys(e);if(t&&n)return{start:t,end:n}}function yt(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?hr(e.position):"start"in e||"end"in e?hr(e):"line"in e||"column"in e?Kn(e):""}function Kn(e){return gr(e&&e.line)+":"+gr(e&&e.column)}function hr(e){return Kn(e&&e.start)+"-"+Kn(e&&e.end)}function gr(e){return e&&typeof e=="number"?e:1}class ae extends Error{constructor(t,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let o="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?o=t:!s.cause&&t&&(a=!0,o=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof i=="string"){const f=i.indexOf(":");f===-1?s.ruleId=i:(s.source=i.slice(0,f),s.ruleId=i.slice(f+1))}if(!s.place&&s.ancestors&&s.ancestors){const f=s.ancestors[s.ancestors.length-1];f&&(s.place=f.position)}const u=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file,this.message=o,this.line=u?u.line:void 0,this.name=yt(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}ae.prototype.file="";ae.prototype.name="";ae.prototype.reason="";ae.prototype.message="";ae.prototype.stack="";ae.prototype.column=void 0;ae.prototype.line=void 0;ae.prototype.ancestors=void 0;ae.prototype.cause=void 0;ae.prototype.fatal=void 0;ae.prototype.place=void 0;ae.prototype.ruleId=void 0;ae.prototype.source=void 0;const yi={}.hasOwnProperty,Hx=new Map,Jx=/[A-Z]/g,Ox=new Set(["table","tbody","thead","tfoot","tr"]),Wx=new Set(["td","th"]),Xs="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Yx(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let i;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=n0(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=t0(n,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?hi:Lx,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=Qs(o,e,void 0);return s&&typeof s!="string"?s:o.create(e,o.Fragment,{children:s||void 0},void 0)}function Qs(e,t,n){if(t.type==="element")return Kx(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Xx(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Zx(e,t,n);if(t.type==="mdxjsEsm")return Qx(e,t);if(t.type==="root")return jx(e,t,n);if(t.type==="text")return e0(e,t)}function Kx(e,t,n){const i=e.schema;let o=i;t.tagName.toLowerCase()==="svg"&&i.space==="html"&&(o=hi,e.schema=o),e.ancestors.push(t);const s=js(e,t.tagName,!1),a=i0(e,t);let u=Ci(e,t);return Ox.has(t.tagName)&&(u=u.filter(function(f){return typeof f=="string"?!kx(f):!0})),Zs(e,a,s,t),xi(a,u),e.ancestors.pop(),e.schema=i,e.create(t,s,a,n)}function Xx(e,t){if(t.data&&t.data.estree&&e.evaluater){const i=t.data.estree.body[0];return i.type,e.evaluater.evaluateExpression(i.expression)}Tt(e,t.position)}function Qx(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Tt(e,t.position)}function Zx(e,t,n){const i=e.schema;let o=i;t.name==="svg"&&i.space==="html"&&(o=hi,e.schema=o),e.ancestors.push(t);const s=t.name===null?e.Fragment:js(e,t.name,!0),a=o0(e,t),u=Ci(e,t);return Zs(e,a,s,t),xi(a,u),e.ancestors.pop(),e.schema=i,e.create(t,s,a,n)}function jx(e,t,n){const i={};return xi(i,Ci(e,t)),e.create(t,e.Fragment,i,n)}function e0(e,t){return t.value}function Zs(e,t,n,i){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=i)}function xi(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function t0(e,t,n){return i;function i(o,s,a,u){const c=Array.isArray(a.children)?n:t;return u?c(s,a,u):c(s,a)}}function n0(e,t){return n;function n(i,o,s,a){const u=Array.isArray(s.children),f=gi(i);return t(o,s,a,u,{columnNumber:f?f.column-1:void 0,fileName:e,lineNumber:f?f.line:void 0},void 0)}}function i0(e,t){const n={};let i,o;for(o in t.properties)if(o!=="children"&&yi.call(t.properties,o)){const s=r0(e,o,t.properties[o]);if(s){const[a,u]=s;e.tableCellAlignToStyle&&a==="align"&&typeof u=="string"&&Wx.has(t.tagName)?i=u:n[a]=u}}if(i){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function o0(e,t){const n={};for(const i of t.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&e.evaluater){const s=i.data.estree.body[0];s.type;const a=s.expression;a.type;const u=a.properties[0];u.type,Object.assign(n,e.evaluater.evaluateExpression(u.argument))}else Tt(e,t.position);else{const o=i.name;let s;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&e.evaluater){const u=i.value.data.estree.body[0];u.type,s=e.evaluater.evaluateExpression(u.expression)}else Tt(e,t.position);else s=i.value===null?!0:i.value;n[o]=s}return n}function Ci(e,t){const n=[];let i=-1;const o=e.passKeys?new Map:Hx;for(;++i<t.children.length;){const s=t.children[i];let a;if(e.passKeys){const f=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(f){const c=o.get(f)||0;a=f+"-"+c,o.set(f,c+1)}}const u=Qs(e,s,a);u!==void 0&&n.push(u)}return n}function r0(e,t,n){const i=Px(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?vx(n):Fx(n)),i.property==="style"){let o=typeof n=="object"?n:s0(e,String(n));return e.stylePropertyNameCase==="css"&&(o=l0(o)),["style",o]}return[e.elementAttributeNameCase==="react"&&i.space?Ix[i.property]||i.property:i.attribute,n]}}function s0(e,t){try{return Gx(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const i=n,o=new ae("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=Xs+"#cannot-parse-style-attribute",o}}function js(e,t,n){let i;if(!n)i={type:"Literal",value:t};else if(t.includes(".")){const o=t.split(".");let s=-1,a;for(;++s<o.length;){const u=lr(o[s])?{type:"Identifier",name:o[s]}:{type:"Literal",value:o[s]};a=a?{type:"MemberExpression",object:a,property:u,computed:!!(s&&u.type==="Literal"),optional:!1}:u}i=a}else i=lr(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(i.type==="Literal"){const o=i.value;return yi.call(e.components,o)?e.components[o]:o}if(e.evaluater)return e.evaluater.evaluateExpression(i);Tt(e)}function Tt(e,t){const n=new ae("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Xs+"#cannot-handle-mdx-estrees-without-createevaluater",n}function l0(e){const t={};let n;for(n in e)yi.call(e,n)&&(t[a0(n)]=e[n]);return t}function a0(e){let t=e.replace(Jx,u0);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function u0(e){return"-"+e.toLowerCase()}const gn={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},c0={};function vi(e,t){const n=c0,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return el(e,i,o)}function el(e,t,n){if(f0(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return yr(e.children,t,n)}return Array.isArray(e)?yr(e,t,n):""}function yr(e,t,n){const i=[];let o=-1;for(;++o<e.length;)i[o]=el(e[o],t,n);return i.join("")}function f0(e){return!!(e&&typeof e=="object")}const xr=document.createElement("i");function _i(e){const t="&"+e+";";xr.innerHTML=t;const n=xr.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function me(e,t,n,i){const o=e.length;let s=0,a;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,n=n>0?n:0,i.length<1e4)a=Array.from(i),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);s<i.length;)a=i.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function ge(e,t){return e.length>0?(me(e,e.length,0,t),e):t}const Cr={}.hasOwnProperty;function tl(e){const t={};let n=-1;for(;++n<e.length;)d0(t,e[n]);return t}function d0(e,t){let n;for(n in t){const o=(Cr.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let a;if(s)for(a in s){Cr.call(o,a)||(o[a]=[]);const u=s[a];p0(o[a],Array.isArray(u)?u:u?[u]:[])}}}function p0(e,t){let n=-1;const i=[];for(;++n<t.length;)(t[n].add==="after"?e:i).push(t[n]);me(e,0,0,i)}function nl(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"ï¿½":String.fromCodePoint(n)}function Te(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ue=De(/[A-Za-z]/),le=De(/[\dA-Za-z]/),m0=De(/[#-'*+\--9=?A-Z^-~]/);function Ot(e){return e!==null&&(e<32||e===127)}const Xn=De(/\d/),h0=De(/[\dA-Fa-f]/),g0=De(/[!-/:-@[-`{-~]/);function G(e){return e!==null&&e<-2}function Z(e){return e!==null&&(e<0||e===32)}function J(e){return e===-2||e===-1||e===32}const on=De(new RegExp("\\p{P}|\\p{S}","u")),Be=De(/\s/);function De(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function st(e){const t=[];let n=-1,i=0,o=0;for(;++n<e.length;){const s=e.charCodeAt(n);let a="";if(s===37&&le(e.charCodeAt(n+1))&&le(e.charCodeAt(n+2)))o=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const u=e.charCodeAt(n+1);s<56320&&u>56319&&u<57344?(a=String.fromCharCode(s,u),o=1):a="ï¿½"}else a=String.fromCharCode(s);a&&(t.push(e.slice(i,n),encodeURIComponent(a)),i=n+o+1,a=""),o&&(n+=o,o=0)}return t.join("")+e.slice(i)}function W(e,t,n,i){const o=i?i-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(f){return J(f)?(e.enter(n),u(f)):t(f)}function u(f){return J(f)&&s++<o?(e.consume(f),u):(e.exit(n),t(f))}}const y0={tokenize:x0};function x0(e){const t=e.attempt(this.parser.constructs.contentInitial,i,o);let n;return t;function i(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),W(e,t,"linePrefix")}function o(u){return e.enter("paragraph"),s(u)}function s(u){const f=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=f),n=f,a(u)}function a(u){if(u===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(u);return}return G(u)?(e.consume(u),e.exit("chunkText"),s):(e.consume(u),a)}}const C0={tokenize:v0},vr={tokenize:_0};function v0(e){const t=this,n=[];let i=0,o,s,a;return u;function u(v){if(i<n.length){const A=n[i];return t.containerState=A[1],e.attempt(A[0].continuation,f,c)(v)}return c(v)}function f(v){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&T();const A=t.events.length;let N=A,S;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){S=t.events[N][1].end;break}x(i);let b=A;for(;b<t.events.length;)t.events[b][1].end={...S},b++;return me(t.events,N+1,0,t.events.slice(A)),t.events.length=b,c(v)}return u(v)}function c(v){if(i===n.length){if(!o)return h(v);if(o.currentConstruct&&o.currentConstruct.concrete)return y(v);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(vr,d,p)(v)}function d(v){return o&&T(),x(i),h(v)}function p(v){return t.parser.lazy[t.now().line]=i!==n.length,a=t.now().offset,y(v)}function h(v){return t.containerState={},e.attempt(vr,g,y)(v)}function g(v){return i++,n.push([t.currentConstruct,t.containerState]),h(v)}function y(v){if(v===null){o&&T(),x(0),e.consume(v);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:s}),C(v)}function C(v){if(v===null){w(e.exit("chunkFlow"),!0),x(0),e.consume(v);return}return G(v)?(e.consume(v),w(e.exit("chunkFlow")),i=0,t.interrupt=void 0,u):(e.consume(v),C)}function w(v,A){const N=t.sliceStream(v);if(A&&N.push(null),v.previous=s,s&&(s.next=v),s=v,o.defineSkip(v.start),o.write(N),t.parser.lazy[v.start.line]){let S=o.events.length;for(;S--;)if(o.events[S][1].start.offset<a&&(!o.events[S][1].end||o.events[S][1].end.offset>a))return;const b=t.events.length;let q=b,R,E;for(;q--;)if(t.events[q][0]==="exit"&&t.events[q][1].type==="chunkFlow"){if(R){E=t.events[q][1].end;break}R=!0}for(x(i),S=b;S<t.events.length;)t.events[S][1].end={...E},S++;me(t.events,q+1,0,t.events.slice(b)),t.events.length=S}}function x(v){let A=n.length;for(;A-- >v;){const N=n[A];t.containerState=N[1],N[0].exit.call(t,e)}n.length=v}function T(){o.write([null]),s=void 0,o=void 0,t.containerState._closeFlow=void 0}}function _0(e,t,n){return W(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function et(e){if(e===null||Z(e)||Be(e))return 1;if(on(e))return 2}function rn(e,t,n){const i=[];let o=-1;for(;++o<e.length;){const s=e[o].resolveAll;s&&!i.includes(s)&&(t=s(t,n),i.push(s))}return t}const Qn={name:"attention",resolveAll:T0,tokenize:S0};function T0(e,t){let n=-1,i,o,s,a,u,f,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(i=n;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&t.sliceSerialize(e[i][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[i][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;f=e[i][1].end.offset-e[i][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[i][1].end},h={...e[n][1].start};_r(p,-f),_r(h,f),a={type:f>1?"strongSequence":"emphasisSequence",start:p,end:{...e[i][1].end}},u={type:f>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},s={type:f>1?"strongText":"emphasisText",start:{...e[i][1].end},end:{...e[n][1].start}},o={type:f>1?"strong":"emphasis",start:{...a.start},end:{...u.end}},e[i][1].end={...a.start},e[n][1].start={...u.end},c=[],e[i][1].end.offset-e[i][1].start.offset&&(c=ge(c,[["enter",e[i][1],t],["exit",e[i][1],t]])),c=ge(c,[["enter",o,t],["enter",a,t],["exit",a,t],["enter",s,t]]),c=ge(c,rn(t.parser.constructs.insideSpan.null,e.slice(i+1,n),t)),c=ge(c,[["exit",s,t],["enter",u,t],["exit",u,t],["exit",o,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=ge(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,me(e,i-1,n-i+3,c),n=i+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function S0(e,t){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,o=et(i);let s;return a;function a(f){return s=f,e.enter("attentionSequence"),u(f)}function u(f){if(f===s)return e.consume(f),u;const c=e.exit("attentionSequence"),d=et(f),p=!d||d===2&&o||n.includes(f),h=!o||o===2&&d||n.includes(i);return c._open=!!(s===42?p:p&&(o||!h)),c._close=!!(s===42?h:h&&(d||!p)),t(f)}}function _r(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const w0={name:"autolink",tokenize:k0};function k0(e,t,n){let i=0;return o;function o(g){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(g){return ue(g)?(e.consume(g),a):g===64?n(g):c(g)}function a(g){return g===43||g===45||g===46||le(g)?(i=1,u(g)):c(g)}function u(g){return g===58?(e.consume(g),i=0,f):(g===43||g===45||g===46||le(g))&&i++<32?(e.consume(g),u):(i=0,c(g))}function f(g){return g===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t):g===null||g===32||g===60||Ot(g)?n(g):(e.consume(g),f)}function c(g){return g===64?(e.consume(g),d):m0(g)?(e.consume(g),c):n(g)}function d(g){return le(g)?p(g):n(g)}function p(g){return g===46?(e.consume(g),i=0,d):g===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t):h(g)}function h(g){if((g===45||le(g))&&i++<63){const y=g===45?h:p;return e.consume(g),y}return n(g)}}const Et={partial:!0,tokenize:E0};function E0(e,t,n){return i;function i(s){return J(s)?W(e,o,"linePrefix")(s):o(s)}function o(s){return s===null||G(s)?t(s):n(s)}}const il={continuation:{tokenize:A0},exit:I0,name:"blockQuote",tokenize:b0};function b0(e,t,n){const i=this;return o;function o(a){if(a===62){const u=i.containerState;return u.open||(e.enter("blockQuote",{_container:!0}),u.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return n(a)}function s(a){return J(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function A0(e,t,n){const i=this;return o;function o(a){return J(a)?W(e,s,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(il,t,n)(a)}}function I0(e){e.exit("blockQuote")}const ol={name:"characterEscape",tokenize:N0};function N0(e,t,n){return i;function i(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),o}function o(s){return g0(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const rl={name:"characterReference",tokenize:M0};function M0(e,t,n){const i=this;let o=0,s,a;return u;function u(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),f}function f(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),s=31,a=le,d(p))}function c(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=h0,d):(e.enter("characterReferenceValue"),s=7,a=Xn,d(p))}function d(p){if(p===59&&o){const h=e.exit("characterReferenceValue");return a===le&&!_i(i.sliceSerialize(h))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(p)&&o++<s?(e.consume(p),d):n(p)}}const Tr={partial:!0,tokenize:R0},Sr={concrete:!0,name:"codeFenced",tokenize:P0};function P0(e,t,n){const i=this,o={partial:!0,tokenize:N};let s=0,a=0,u;return f;function f(S){return c(S)}function c(S){const b=i.events[i.events.length-1];return s=b&&b[1].type==="linePrefix"?b[2].sliceSerialize(b[1],!0).length:0,u=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(S)}function d(S){return S===u?(a++,e.consume(S),d):a<3?n(S):(e.exit("codeFencedFenceSequence"),J(S)?W(e,p,"whitespace")(S):p(S))}function p(S){return S===null||G(S)?(e.exit("codeFencedFence"),i.interrupt?t(S):e.check(Tr,C,A)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(S))}function h(S){return S===null||G(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(S)):J(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),W(e,g,"whitespace")(S)):S===96&&S===u?n(S):(e.consume(S),h)}function g(S){return S===null||G(S)?p(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(S))}function y(S){return S===null||G(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(S)):S===96&&S===u?n(S):(e.consume(S),y)}function C(S){return e.attempt(o,A,w)(S)}function w(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),x}function x(S){return s>0&&J(S)?W(e,T,"linePrefix",s+1)(S):T(S)}function T(S){return S===null||G(S)?e.check(Tr,C,A)(S):(e.enter("codeFlowValue"),v(S))}function v(S){return S===null||G(S)?(e.exit("codeFlowValue"),T(S)):(e.consume(S),v)}function A(S){return e.exit("codeFenced"),t(S)}function N(S,b,q){let R=0;return E;function E(B){return S.enter("lineEnding"),S.consume(B),S.exit("lineEnding"),M}function M(B){return S.enter("codeFencedFence"),J(B)?W(S,L,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):L(B)}function L(B){return B===u?(S.enter("codeFencedFenceSequence"),F(B)):q(B)}function F(B){return B===u?(R++,S.consume(B),F):R>=a?(S.exit("codeFencedFenceSequence"),J(B)?W(S,V,"whitespace")(B):V(B)):q(B)}function V(B){return B===null||G(B)?(S.exit("codeFencedFence"),b(B)):q(B)}}}function R0(e,t,n){const i=this;return o;function o(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return i.parser.lazy[i.now().line]?n(a):t(a)}}const yn={name:"codeIndented",tokenize:L0},D0={partial:!0,tokenize:F0};function L0(e,t,n){const i=this;return o;function o(c){return e.enter("codeIndented"),W(e,s,"linePrefix",5)(c)}function s(c){const d=i.events[i.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(c):n(c)}function a(c){return c===null?f(c):G(c)?e.attempt(D0,a,f)(c):(e.enter("codeFlowValue"),u(c))}function u(c){return c===null||G(c)?(e.exit("codeFlowValue"),a(c)):(e.consume(c),u)}function f(c){return e.exit("codeIndented"),t(c)}}function F0(e,t,n){const i=this;return o;function o(a){return i.parser.lazy[i.now().line]?n(a):G(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o):W(e,s,"linePrefix",5)(a)}function s(a){const u=i.events[i.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(a):G(a)?o(a):n(a)}}const q0={name:"codeText",previous:U0,resolve:V0,tokenize:B0};function V0(e){let t=e.length-4,n=3,i,o;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(i=n;++i<t;)if(e[i][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(i=n-1,t++;++i<=t;)o===void 0?i!==t&&e[i][1].type!=="lineEnding"&&(o=i):(i===t||e[i][1].type==="lineEnding")&&(e[o][1].type="codeTextData",i!==o+2&&(e[o][1].end=e[i-1][1].end,e.splice(o+2,i-o-2),t-=i-o-2,i=o+2),o=void 0);return e}function U0(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function B0(e,t,n){let i=0,o,s;return a;function a(p){return e.enter("codeText"),e.enter("codeTextSequence"),u(p)}function u(p){return p===96?(e.consume(p),i++,u):(e.exit("codeTextSequence"),f(p))}function f(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),f):p===96?(s=e.enter("codeTextSequence"),o=0,d(p)):G(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),f):(e.enter("codeTextData"),c(p))}function c(p){return p===null||p===32||p===96||G(p)?(e.exit("codeTextData"),f(p)):(e.consume(p),c)}function d(p){return p===96?(e.consume(p),o++,d):o===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(s.type="codeTextData",c(p))}}class z0{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(t,i):t>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(t,n,i){const o=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return i&&mt(this.left,i),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),mt(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),mt(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);mt(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);mt(this.left,n.reverse())}}}function mt(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function sl(e){const t={};let n=-1,i,o,s,a,u,f,c;const d=new z0(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(i=d.get(n),n&&i[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(f=i[1]._tokenizer.events,s=0,s<f.length&&f[s][1].type==="lineEndingBlank"&&(s+=2),s<f.length&&f[s][1].type==="content"))for(;++s<f.length&&f[s][1].type!=="content";)f[s][1].type==="chunkText"&&(f[s][1]._isInFirstContentOfListItem=!0,s++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,G0(d,n)),n=t[n],c=!0);else if(i[1]._container){for(s=n,o=void 0;s--;)if(a=d.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(o&&(d.get(o)[1].type="lineEndingBlank"),a[1].type="lineEnding",o=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;o&&(i[1].end={...d.get(o)[1].start},u=d.slice(o,n),u.unshift(i),d.splice(o,n-o+1,u))}}return me(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function G0(e,t){const n=e.get(t)[1],i=e.get(t)[2];let o=t-1;const s=[];let a=n._tokenizer;a||(a=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const u=a.events,f=[],c={};let d,p,h=-1,g=n,y=0,C=0;const w=[C];for(;g;){for(;e.get(++o)[1]!==g;);s.push(o),g._tokenizer||(d=i.sliceStream(g),g.next||d.push(null),p&&a.defineSkip(g.start),g._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),g._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),p=g,g=g.next}for(g=n;++h<u.length;)u[h][0]==="exit"&&u[h-1][0]==="enter"&&u[h][1].type===u[h-1][1].type&&u[h][1].start.line!==u[h][1].end.line&&(C=h+1,w.push(C),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(a.events=[],g?(g._tokenizer=void 0,g.previous=void 0):w.pop(),h=w.length;h--;){const x=u.slice(w[h],w[h+1]),T=s.pop();f.push([T,T+x.length-1]),e.splice(T,2,x)}for(f.reverse(),h=-1;++h<f.length;)c[y+f[h][0]]=y+f[h][1],y+=f[h][1]-f[h][0]-1;return c}const $0={resolve:J0,tokenize:O0},H0={partial:!0,tokenize:W0};function J0(e){return sl(e),e}function O0(e,t){let n;return i;function i(u){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),o(u)}function o(u){return u===null?s(u):G(u)?e.check(H0,a,s)(u):(e.consume(u),o)}function s(u){return e.exit("chunkContent"),e.exit("content"),t(u)}function a(u){return e.consume(u),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function W0(e,t,n){const i=this;return o;function o(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),W(e,s,"linePrefix")}function s(a){if(a===null||G(a))return n(a);const u=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(a):e.interrupt(i.parser.constructs.flow,n,t)(a)}}function ll(e,t,n,i,o,s,a,u,f){const c=f||Number.POSITIVE_INFINITY;let d=0;return p;function p(x){return x===60?(e.enter(i),e.enter(o),e.enter(s),e.consume(x),e.exit(s),h):x===null||x===32||x===41||Ot(x)?n(x):(e.enter(i),e.enter(a),e.enter(u),e.enter("chunkString",{contentType:"string"}),C(x))}function h(x){return x===62?(e.enter(s),e.consume(x),e.exit(s),e.exit(o),e.exit(i),t):(e.enter(u),e.enter("chunkString",{contentType:"string"}),g(x))}function g(x){return x===62?(e.exit("chunkString"),e.exit(u),h(x)):x===null||x===60||G(x)?n(x):(e.consume(x),x===92?y:g)}function y(x){return x===60||x===62||x===92?(e.consume(x),g):g(x)}function C(x){return!d&&(x===null||x===41||Z(x))?(e.exit("chunkString"),e.exit(u),e.exit(a),e.exit(i),t(x)):d<c&&x===40?(e.consume(x),d++,C):x===41?(e.consume(x),d--,C):x===null||x===32||x===40||Ot(x)?n(x):(e.consume(x),x===92?w:C)}function w(x){return x===40||x===41||x===92?(e.consume(x),C):C(x)}}function al(e,t,n,i,o,s){const a=this;let u=0,f;return c;function c(g){return e.enter(i),e.enter(o),e.consume(g),e.exit(o),e.enter(s),d}function d(g){return u>999||g===null||g===91||g===93&&!f||g===94&&!u&&"_hiddenFootnoteSupport"in a.parser.constructs?n(g):g===93?(e.exit(s),e.enter(o),e.consume(g),e.exit(o),e.exit(i),t):G(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),p(g))}function p(g){return g===null||g===91||g===93||G(g)||u++>999?(e.exit("chunkString"),d(g)):(e.consume(g),f||(f=!J(g)),g===92?h:p)}function h(g){return g===91||g===92||g===93?(e.consume(g),u++,p):p(g)}}function ul(e,t,n,i,o,s){let a;return u;function u(h){return h===34||h===39||h===40?(e.enter(i),e.enter(o),e.consume(h),e.exit(o),a=h===40?41:h,f):n(h)}function f(h){return h===a?(e.enter(o),e.consume(h),e.exit(o),e.exit(i),t):(e.enter(s),c(h))}function c(h){return h===a?(e.exit(s),f(a)):h===null?n(h):G(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),W(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===a||h===null||G(h)?(e.exit("chunkString"),c(h)):(e.consume(h),h===92?p:d)}function p(h){return h===a||h===92?(e.consume(h),d):d(h)}}function xt(e,t){let n;return i;function i(o){return G(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,i):J(o)?W(e,i,n?"linePrefix":"lineSuffix")(o):t(o)}}const Y0={name:"definition",tokenize:X0},K0={partial:!0,tokenize:Q0};function X0(e,t,n){const i=this;let o;return s;function s(g){return e.enter("definition"),a(g)}function a(g){return al.call(i,e,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function u(g){return o=Te(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),f):n(g)}function f(g){return Z(g)?xt(e,c)(g):c(g)}function c(g){return ll(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function d(g){return e.attempt(K0,p,p)(g)}function p(g){return J(g)?W(e,h,"whitespace")(g):h(g)}function h(g){return g===null||G(g)?(e.exit("definition"),i.parser.defined.push(o),t(g)):n(g)}}function Q0(e,t,n){return i;function i(u){return Z(u)?xt(e,o)(u):n(u)}function o(u){return ul(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function s(u){return J(u)?W(e,a,"whitespace")(u):a(u)}function a(u){return u===null||G(u)?t(u):n(u)}}const Z0={name:"hardBreakEscape",tokenize:j0};function j0(e,t,n){return i;function i(s){return e.enter("hardBreakEscape"),e.consume(s),o}function o(s){return G(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const eC={name:"headingAtx",resolve:tC,tokenize:nC};function tC(e,t){let n=e.length-2,i=3,o,s;return e[i][1].type==="whitespace"&&(i+=2),n-2>i&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&e[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(o={type:"atxHeadingText",start:e[i][1].start,end:e[n][1].end},s={type:"chunkText",start:e[i][1].start,end:e[n][1].end,contentType:"text"},me(e,i,n-i+1,[["enter",o,t],["enter",s,t],["exit",s,t],["exit",o,t]])),e}function nC(e,t,n){let i=0;return o;function o(d){return e.enter("atxHeading"),s(d)}function s(d){return e.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&i++<6?(e.consume(d),a):d===null||Z(d)?(e.exit("atxHeadingSequence"),u(d)):n(d)}function u(d){return d===35?(e.enter("atxHeadingSequence"),f(d)):d===null||G(d)?(e.exit("atxHeading"),t(d)):J(d)?W(e,u,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function f(d){return d===35?(e.consume(d),f):(e.exit("atxHeadingSequence"),u(d))}function c(d){return d===null||d===35||Z(d)?(e.exit("atxHeadingText"),u(d)):(e.consume(d),c)}}const iC=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],wr=["pre","script","style","textarea"],oC={concrete:!0,name:"htmlFlow",resolveTo:lC,tokenize:aC},rC={partial:!0,tokenize:cC},sC={partial:!0,tokenize:uC};function lC(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function aC(e,t,n){const i=this;let o,s,a,u,f;return c;function c(k){return d(k)}function d(k){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(k),p}function p(k){return k===33?(e.consume(k),h):k===47?(e.consume(k),s=!0,C):k===63?(e.consume(k),o=3,i.interrupt?t:_):ue(k)?(e.consume(k),a=String.fromCharCode(k),w):n(k)}function h(k){return k===45?(e.consume(k),o=2,g):k===91?(e.consume(k),o=5,u=0,y):ue(k)?(e.consume(k),o=4,i.interrupt?t:_):n(k)}function g(k){return k===45?(e.consume(k),i.interrupt?t:_):n(k)}function y(k){const ve="CDATA[";return k===ve.charCodeAt(u++)?(e.consume(k),u===ve.length?i.interrupt?t:L:y):n(k)}function C(k){return ue(k)?(e.consume(k),a=String.fromCharCode(k),w):n(k)}function w(k){if(k===null||k===47||k===62||Z(k)){const ve=k===47,Le=a.toLowerCase();return!ve&&!s&&wr.includes(Le)?(o=1,i.interrupt?t(k):L(k)):iC.includes(a.toLowerCase())?(o=6,ve?(e.consume(k),x):i.interrupt?t(k):L(k)):(o=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(k):s?T(k):v(k))}return k===45||le(k)?(e.consume(k),a+=String.fromCharCode(k),w):n(k)}function x(k){return k===62?(e.consume(k),i.interrupt?t:L):n(k)}function T(k){return J(k)?(e.consume(k),T):E(k)}function v(k){return k===47?(e.consume(k),E):k===58||k===95||ue(k)?(e.consume(k),A):J(k)?(e.consume(k),v):E(k)}function A(k){return k===45||k===46||k===58||k===95||le(k)?(e.consume(k),A):N(k)}function N(k){return k===61?(e.consume(k),S):J(k)?(e.consume(k),N):v(k)}function S(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),f=k,b):J(k)?(e.consume(k),S):q(k)}function b(k){return k===f?(e.consume(k),f=null,R):k===null||G(k)?n(k):(e.consume(k),b)}function q(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||Z(k)?N(k):(e.consume(k),q)}function R(k){return k===47||k===62||J(k)?v(k):n(k)}function E(k){return k===62?(e.consume(k),M):n(k)}function M(k){return k===null||G(k)?L(k):J(k)?(e.consume(k),M):n(k)}function L(k){return k===45&&o===2?(e.consume(k),X):k===60&&o===1?(e.consume(k),ne):k===62&&o===4?(e.consume(k),Ce):k===63&&o===3?(e.consume(k),_):k===93&&o===5?(e.consume(k),he):G(k)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(rC,ke,F)(k)):k===null||G(k)?(e.exit("htmlFlowData"),F(k)):(e.consume(k),L)}function F(k){return e.check(sC,V,ke)(k)}function V(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),B}function B(k){return k===null||G(k)?F(k):(e.enter("htmlFlowData"),L(k))}function X(k){return k===45?(e.consume(k),_):L(k)}function ne(k){return k===47?(e.consume(k),a="",Y):L(k)}function Y(k){if(k===62){const ve=a.toLowerCase();return wr.includes(ve)?(e.consume(k),Ce):L(k)}return ue(k)&&a.length<8?(e.consume(k),a+=String.fromCharCode(k),Y):L(k)}function he(k){return k===93?(e.consume(k),_):L(k)}function _(k){return k===62?(e.consume(k),Ce):k===45&&o===2?(e.consume(k),_):L(k)}function Ce(k){return k===null||G(k)?(e.exit("htmlFlowData"),ke(k)):(e.consume(k),Ce)}function ke(k){return e.exit("htmlFlow"),t(k)}}function uC(e,t,n){const i=this;return o;function o(a){return G(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):n(a)}function s(a){return i.parser.lazy[i.now().line]?n(a):t(a)}}function cC(e,t,n){return i;function i(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(Et,t,n)}}const fC={name:"htmlText",tokenize:dC};function dC(e,t,n){const i=this;let o,s,a;return u;function u(_){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(_),f}function f(_){return _===33?(e.consume(_),c):_===47?(e.consume(_),N):_===63?(e.consume(_),v):ue(_)?(e.consume(_),q):n(_)}function c(_){return _===45?(e.consume(_),d):_===91?(e.consume(_),s=0,y):ue(_)?(e.consume(_),T):n(_)}function d(_){return _===45?(e.consume(_),g):n(_)}function p(_){return _===null?n(_):_===45?(e.consume(_),h):G(_)?(a=p,ne(_)):(e.consume(_),p)}function h(_){return _===45?(e.consume(_),g):p(_)}function g(_){return _===62?X(_):_===45?h(_):p(_)}function y(_){const Ce="CDATA[";return _===Ce.charCodeAt(s++)?(e.consume(_),s===Ce.length?C:y):n(_)}function C(_){return _===null?n(_):_===93?(e.consume(_),w):G(_)?(a=C,ne(_)):(e.consume(_),C)}function w(_){return _===93?(e.consume(_),x):C(_)}function x(_){return _===62?X(_):_===93?(e.consume(_),x):C(_)}function T(_){return _===null||_===62?X(_):G(_)?(a=T,ne(_)):(e.consume(_),T)}function v(_){return _===null?n(_):_===63?(e.consume(_),A):G(_)?(a=v,ne(_)):(e.consume(_),v)}function A(_){return _===62?X(_):v(_)}function N(_){return ue(_)?(e.consume(_),S):n(_)}function S(_){return _===45||le(_)?(e.consume(_),S):b(_)}function b(_){return G(_)?(a=b,ne(_)):J(_)?(e.consume(_),b):X(_)}function q(_){return _===45||le(_)?(e.consume(_),q):_===47||_===62||Z(_)?R(_):n(_)}function R(_){return _===47?(e.consume(_),X):_===58||_===95||ue(_)?(e.consume(_),E):G(_)?(a=R,ne(_)):J(_)?(e.consume(_),R):X(_)}function E(_){return _===45||_===46||_===58||_===95||le(_)?(e.consume(_),E):M(_)}function M(_){return _===61?(e.consume(_),L):G(_)?(a=M,ne(_)):J(_)?(e.consume(_),M):R(_)}function L(_){return _===null||_===60||_===61||_===62||_===96?n(_):_===34||_===39?(e.consume(_),o=_,F):G(_)?(a=L,ne(_)):J(_)?(e.consume(_),L):(e.consume(_),V)}function F(_){return _===o?(e.consume(_),o=void 0,B):_===null?n(_):G(_)?(a=F,ne(_)):(e.consume(_),F)}function V(_){return _===null||_===34||_===39||_===60||_===61||_===96?n(_):_===47||_===62||Z(_)?R(_):(e.consume(_),V)}function B(_){return _===47||_===62||Z(_)?R(_):n(_)}function X(_){return _===62?(e.consume(_),e.exit("htmlTextData"),e.exit("htmlText"),t):n(_)}function ne(_){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),Y}function Y(_){return J(_)?W(e,he,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):he(_)}function he(_){return e.enter("htmlTextData"),a(_)}}const Ti={name:"labelEnd",resolveAll:gC,resolveTo:yC,tokenize:xC},pC={tokenize:CC},mC={tokenize:vC},hC={tokenize:_C};function gC(e){let t=-1;const n=[];for(;++t<e.length;){const i=e[t][1];if(n.push(e[t]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const o=i.type==="labelImage"?4:2;i.type="data",t+=o}}return e.length!==n.length&&me(e,0,e.length,n),e}function yC(e,t){let n=e.length,i=0,o,s,a,u;for(;n--;)if(o=e[n][1],s){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(s=n,o.type!=="labelLink")){i=2;break}}else o.type==="labelEnd"&&(a=n);const f={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},d={type:"labelText",start:{...e[s+i+2][1].end},end:{...e[a-2][1].start}};return u=[["enter",f,t],["enter",c,t]],u=ge(u,e.slice(s+1,s+i+3)),u=ge(u,[["enter",d,t]]),u=ge(u,rn(t.parser.constructs.insideSpan.null,e.slice(s+i+4,a-3),t)),u=ge(u,[["exit",d,t],e[a-2],e[a-1],["exit",c,t]]),u=ge(u,e.slice(a+1)),u=ge(u,[["exit",f,t]]),me(e,s,e.length,u),e}function xC(e,t,n){const i=this;let o=i.events.length,s,a;for(;o--;)if((i.events[o][1].type==="labelImage"||i.events[o][1].type==="labelLink")&&!i.events[o][1]._balanced){s=i.events[o][1];break}return u;function u(h){return s?s._inactive?p(h):(a=i.parser.defined.includes(Te(i.sliceSerialize({start:s.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),f):n(h)}function f(h){return h===40?e.attempt(pC,d,a?d:p)(h):h===91?e.attempt(mC,d,a?c:p)(h):a?d(h):p(h)}function c(h){return e.attempt(hC,d,p)(h)}function d(h){return t(h)}function p(h){return s._balanced=!0,n(h)}}function CC(e,t,n){return i;function i(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),o}function o(p){return Z(p)?xt(e,s)(p):s(p)}function s(p){return p===41?d(p):ll(e,a,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function a(p){return Z(p)?xt(e,f)(p):d(p)}function u(p){return n(p)}function f(p){return p===34||p===39||p===40?ul(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):d(p)}function c(p){return Z(p)?xt(e,d)(p):d(p)}function d(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function vC(e,t,n){const i=this;return o;function o(u){return al.call(i,e,s,a,"reference","referenceMarker","referenceString")(u)}function s(u){return i.parser.defined.includes(Te(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(u):n(u)}function a(u){return n(u)}}function _C(e,t,n){return i;function i(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),o}function o(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const TC={name:"labelStartImage",resolveAll:Ti.resolveAll,tokenize:SC};function SC(e,t,n){const i=this;return o;function o(u){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(u),e.exit("labelImageMarker"),s}function s(u){return u===91?(e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelImage"),a):n(u)}function a(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(u):t(u)}}const wC={name:"labelStartLink",resolveAll:Ti.resolveAll,tokenize:kC};function kC(e,t,n){const i=this;return o;function o(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(a):t(a)}}const xn={name:"lineEnding",tokenize:EC};function EC(e,t){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),W(e,t,"linePrefix")}}const Gt={name:"thematicBreak",tokenize:bC};function bC(e,t,n){let i=0,o;return s;function s(c){return e.enter("thematicBreak"),a(c)}function a(c){return o=c,u(c)}function u(c){return c===o?(e.enter("thematicBreakSequence"),f(c)):i>=3&&(c===null||G(c))?(e.exit("thematicBreak"),t(c)):n(c)}function f(c){return c===o?(e.consume(c),i++,f):(e.exit("thematicBreakSequence"),J(c)?W(e,u,"whitespace")(c):u(c))}}const ce={continuation:{tokenize:MC},exit:RC,name:"list",tokenize:NC},AC={partial:!0,tokenize:DC},IC={partial:!0,tokenize:PC};function NC(e,t,n){const i=this,o=i.events[i.events.length-1];let s=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,a=0;return u;function u(g){const y=i.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!i.containerState.marker||g===i.containerState.marker:Xn(g)){if(i.containerState.type||(i.containerState.type=y,e.enter(y,{_container:!0})),y==="listUnordered")return e.enter("listItemPrefix"),g===42||g===45?e.check(Gt,n,c)(g):c(g);if(!i.interrupt||g===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),f(g)}return n(g)}function f(g){return Xn(g)&&++a<10?(e.consume(g),f):(!i.interrupt||a<2)&&(i.containerState.marker?g===i.containerState.marker:g===41||g===46)?(e.exit("listItemValue"),c(g)):n(g)}function c(g){return e.enter("listItemMarker"),e.consume(g),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||g,e.check(Et,i.interrupt?n:d,e.attempt(AC,h,p))}function d(g){return i.containerState.initialBlankLine=!0,s++,h(g)}function p(g){return J(g)?(e.enter("listItemPrefixWhitespace"),e.consume(g),e.exit("listItemPrefixWhitespace"),h):n(g)}function h(g){return i.containerState.size=s+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(g)}}function MC(e,t,n){const i=this;return i.containerState._closeFlow=void 0,e.check(Et,o,s);function o(u){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,W(e,t,"listItemIndent",i.containerState.size+1)(u)}function s(u){return i.containerState.furtherBlankLines||!J(u)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,a(u)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(IC,t,a)(u))}function a(u){return i.containerState._closeFlow=!0,i.interrupt=void 0,W(e,e.attempt(ce,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function PC(e,t,n){const i=this;return W(e,o,"listItemIndent",i.containerState.size+1);function o(s){const a=i.events[i.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===i.containerState.size?t(s):n(s)}}function RC(e){e.exit(this.containerState.type)}function DC(e,t,n){const i=this;return W(e,o,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(s){const a=i.events[i.events.length-1];return!J(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const kr={name:"setextUnderline",resolveTo:LC,tokenize:FC};function LC(e,t){let n=e.length,i,o,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){i=n;break}e[n][1].type==="paragraph"&&(o=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...e[i][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",s?(e.splice(o,0,["enter",a,t]),e.splice(s+1,0,["exit",e[i][1],t]),e[i][1].end={...e[s][1].end}):e[i][1]=a,e.push(["exit",a,t]),e}function FC(e,t,n){const i=this;let o;return s;function s(c){let d=i.events.length,p;for(;d--;)if(i.events[d][1].type!=="lineEnding"&&i.events[d][1].type!=="linePrefix"&&i.events[d][1].type!=="content"){p=i.events[d][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||p)?(e.enter("setextHeadingLine"),o=c,a(c)):n(c)}function a(c){return e.enter("setextHeadingLineSequence"),u(c)}function u(c){return c===o?(e.consume(c),u):(e.exit("setextHeadingLineSequence"),J(c)?W(e,f,"lineSuffix")(c):f(c))}function f(c){return c===null||G(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const qC={tokenize:VC};function VC(e){const t=this,n=e.attempt(Et,i,e.attempt(this.parser.constructs.flowInitial,o,W(e,e.attempt(this.parser.constructs.flow,o,e.attempt($0,o)),"linePrefix")));return n;function i(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function o(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const UC={resolveAll:fl()},BC=cl("string"),zC=cl("text");function cl(e){return{resolveAll:fl(e==="text"?GC:void 0),tokenize:t};function t(n){const i=this,o=this.parser.constructs[e],s=n.attempt(o,a,u);return a;function a(d){return c(d)?s(d):u(d)}function u(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),f}function f(d){return c(d)?(n.exit("data"),s(d)):(n.consume(d),f)}function c(d){if(d===null)return!0;const p=o[d];let h=-1;if(p)for(;++h<p.length;){const g=p[h];if(!g.previous||g.previous.call(i,i.previous))return!0}return!1}}}function fl(e){return t;function t(n,i){let o=-1,s;for(;++o<=n.length;)s===void 0?n[o]&&n[o][1].type==="data"&&(s=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==s+2&&(n[s][1].end=n[o-1][1].end,n.splice(s+2,o-s-2),o=s+2),s=void 0);return e?e(n,i):n}}function GC(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const i=e[n-1][1],o=t.sliceStream(i);let s=o.length,a=-1,u=0,f;for(;s--;){const c=o[s];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)u++,a--;if(a)break;a=-1}else if(c===-2)f=!0,u++;else if(c!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(u=0),u){const c={type:n===e.length||f||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:i.start._bufferIndex+a,_index:i.start._index+s,line:i.end.line,column:i.end.column-u,offset:i.end.offset-u},end:{...i.end}};i.end={...c.start},i.start.offset===i.end.offset?Object.assign(i,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const $C={42:ce,43:ce,45:ce,48:ce,49:ce,50:ce,51:ce,52:ce,53:ce,54:ce,55:ce,56:ce,57:ce,62:il},HC={91:Y0},JC={[-2]:yn,[-1]:yn,32:yn},OC={35:eC,42:Gt,45:[kr,Gt],60:oC,61:kr,95:Gt,96:Sr,126:Sr},WC={38:rl,92:ol},YC={[-5]:xn,[-4]:xn,[-3]:xn,33:TC,38:rl,42:Qn,60:[w0,fC],91:wC,92:[Z0,ol],93:Ti,95:Qn,96:q0},KC={null:[Qn,UC]},XC={null:[42,95]},QC={null:[]},ZC=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:XC,contentInitial:HC,disable:QC,document:$C,flow:OC,flowInitial:JC,insideSpan:KC,string:WC,text:YC},Symbol.toStringTag,{value:"Module"}));function jC(e,t,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},s=[];let a=[],u=[];const f={attempt:b(N),check:b(S),consume:T,enter:v,exit:A,interrupt:b(S,{interrupt:!0})},c={code:null,containerState:{},defineSkip:C,events:[],now:y,parser:e,previous:null,sliceSerialize:h,sliceStream:g,write:p};let d=t.tokenize.call(c,f);return t.resolveAll&&s.push(t),c;function p(M){return a=ge(a,M),w(),a[a.length-1]!==null?[]:(q(t,0),c.events=rn(s,c.events,c),c.events)}function h(M,L){return tv(g(M),L)}function g(M){return ev(a,M)}function y(){const{_bufferIndex:M,_index:L,line:F,column:V,offset:B}=i;return{_bufferIndex:M,_index:L,line:F,column:V,offset:B}}function C(M){o[M.line]=M.column,E()}function w(){let M;for(;i._index<a.length;){const L=a[i._index];if(typeof L=="string")for(M=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===M&&i._bufferIndex<L.length;)x(L.charCodeAt(i._bufferIndex));else x(L)}}function x(M){d=d(M)}function T(M){G(M)?(i.line++,i.column=1,i.offset+=M===-3?2:1,E()):M!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===a[i._index].length&&(i._bufferIndex=-1,i._index++)),c.previous=M}function v(M,L){const F=L||{};return F.type=M,F.start=y(),c.events.push(["enter",F,c]),u.push(F),F}function A(M){const L=u.pop();return L.end=y(),c.events.push(["exit",L,c]),L}function N(M,L){q(M,L.from)}function S(M,L){L.restore()}function b(M,L){return F;function F(V,B,X){let ne,Y,he,_;return Array.isArray(V)?ke(V):"tokenize"in V?ke([V]):Ce(V);function Ce(re){return lt;function lt(Me){const $e=Me!==null&&re[Me],He=Me!==null&&re.null,At=[...Array.isArray($e)?$e:$e?[$e]:[],...Array.isArray(He)?He:He?[He]:[]];return ke(At)(Me)}}function ke(re){return ne=re,Y=0,re.length===0?X:k(re[Y])}function k(re){return lt;function lt(Me){return _=R(),he=re,re.partial||(c.currentConstruct=re),re.name&&c.parser.constructs.disable.null.includes(re.name)?Le():re.tokenize.call(L?Object.assign(Object.create(c),L):c,f,ve,Le)(Me)}}function ve(re){return M(he,_),B}function Le(re){return _.restore(),++Y<ne.length?k(ne[Y]):X}}}function q(M,L){M.resolveAll&&!s.includes(M)&&s.push(M),M.resolve&&me(c.events,L,c.events.length-L,M.resolve(c.events.slice(L),c)),M.resolveTo&&(c.events=M.resolveTo(c.events,c))}function R(){const M=y(),L=c.previous,F=c.currentConstruct,V=c.events.length,B=Array.from(u);return{from:V,restore:X};function X(){i=M,c.previous=L,c.currentConstruct=F,c.events.length=V,u=B,E()}}function E(){i.line in o&&i.column<2&&(i.column=o[i.line],i.offset+=o[i.line]-1)}}function ev(e,t){const n=t.start._index,i=t.start._bufferIndex,o=t.end._index,s=t.end._bufferIndex;let a;if(n===o)a=[e[n].slice(i,s)];else{if(a=e.slice(n,o),i>-1){const u=a[0];typeof u=="string"?a[0]=u.slice(i):a.shift()}s>0&&a.push(e[o].slice(0,s))}return a}function tv(e,t){let n=-1;const i=[];let o;for(;++n<e.length;){const s=e[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&o)continue;a=" ";break}default:a=String.fromCharCode(s)}o=s===-2,i.push(a)}return i.join("")}function nv(e){const i={constructs:tl([ZC,...(e||{}).extensions||[]]),content:o(y0),defined:[],document:o(C0),flow:o(qC),lazy:{},string:o(BC),text:o(zC)};return i;function o(s){return a;function a(u){return jC(i,s,u)}}}function iv(e){for(;!sl(e););return e}const Er=/[\0\t\n\r]/g;function ov(){let e=1,t="",n=!0,i;return o;function o(s,a,u){const f=[];let c,d,p,h,g;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),p=0,t="",n&&(s.charCodeAt(0)===65279&&p++,n=void 0);p<s.length;){if(Er.lastIndex=p,c=Er.exec(s),h=c&&c.index!==void 0?c.index:s.length,g=s.charCodeAt(h),!c){t=s.slice(p);break}if(g===10&&p===h&&i)f.push(-3),i=void 0;else switch(i&&(f.push(-5),i=void 0),p<h&&(f.push(s.slice(p,h)),e+=h-p),g){case 0:{f.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,f.push(-2);e++<d;)f.push(-1);break}case 10:{f.push(-4),e=1;break}default:i=!0,e=1}p=h+1}return u&&(i&&f.push(-5),t&&f.push(t),f.push(null)),f}}const rv=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function sv(e){return e.replace(rv,lv)}function lv(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),s=o===120||o===88;return nl(n.slice(s?2:1),s?16:10)}return _i(n)||e}const dl={}.hasOwnProperty;function av(e,t,n){return typeof t!="string"&&(n=t,t=void 0),uv(n)(iv(nv(n).document().write(ov()(e,t,!0))))}function uv(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Li),autolinkProtocol:R,autolinkEmail:R,atxHeading:s(Pi),blockQuote:s(He),characterEscape:R,characterReference:R,codeFenced:s(At),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(At,a),codeText:s(Ol,a),codeTextData:R,data:R,codeFlowValue:R,definition:s(Wl),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Yl),hardBreakEscape:s(Ri),hardBreakTrailing:s(Ri),htmlFlow:s(Di,a),htmlFlowData:R,htmlText:s(Di,a),htmlTextData:R,image:s(Kl),label:a,link:s(Li),listItem:s(Xl),listItemValue:h,listOrdered:s(Fi,p),listUnordered:s(Fi),paragraph:s(Ql),reference:k,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Pi),strong:s(Zl),thematicBreak:s(ea)},exit:{atxHeading:f(),atxHeadingSequence:N,autolink:f(),autolinkEmail:$e,autolinkProtocol:Me,blockQuote:f(),characterEscapeValue:E,characterReferenceMarkerHexadecimal:Le,characterReferenceMarkerNumeric:Le,characterReferenceValue:re,characterReference:lt,codeFenced:f(w),codeFencedFence:C,codeFencedFenceInfo:g,codeFencedFenceMeta:y,codeFlowValue:E,codeIndented:f(x),codeText:f(B),codeTextData:E,data:E,definition:f(),definitionDestinationString:A,definitionLabelString:T,definitionTitleString:v,emphasis:f(),hardBreakEscape:f(L),hardBreakTrailing:f(L),htmlFlow:f(F),htmlFlowData:E,htmlText:f(V),htmlTextData:E,image:f(ne),label:he,labelText:Y,lineEnding:M,link:f(X),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:ve,resourceDestinationString:_,resourceTitleString:Ce,resource:ke,setextHeading:f(q),setextHeadingLineSequence:b,setextHeadingText:S,strong:f(),thematicBreak:f()}};pl(t,(e||{}).mdastExtensions||[]);const n={};return i;function i(I){let U={type:"root",children:[]};const $={stack:[U],tokenStack:[],config:t,enter:u,exit:c,buffer:a,resume:d,data:n},O=[];let Q=-1;for(;++Q<I.length;)if(I[Q][1].type==="listOrdered"||I[Q][1].type==="listUnordered")if(I[Q][0]==="enter")O.push(Q);else{const _e=O.pop();Q=o(I,_e,Q)}for(Q=-1;++Q<I.length;){const _e=t[I[Q][0]];dl.call(_e,I[Q][1].type)&&_e[I[Q][1].type].call(Object.assign({sliceSerialize:I[Q][2].sliceSerialize},$),I[Q][1])}if($.tokenStack.length>0){const _e=$.tokenStack[$.tokenStack.length-1];(_e[1]||br).call($,void 0,_e[0])}for(U.position={start:Pe(I.length>0?I[0][1].start:{line:1,column:1,offset:0}),end:Pe(I.length>0?I[I.length-2][1].end:{line:1,column:1,offset:0})},Q=-1;++Q<t.transforms.length;)U=t.transforms[Q](U)||U;return U}function o(I,U,$){let O=U-1,Q=-1,_e=!1,Fe,Ee,at,ut;for(;++O<=$;){const de=I[O];switch(de[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{de[0]==="enter"?Q++:Q--,ut=void 0;break}case"lineEndingBlank":{de[0]==="enter"&&(Fe&&!ut&&!Q&&!at&&(at=O),ut=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ut=void 0}if(!Q&&de[0]==="enter"&&de[1].type==="listItemPrefix"||Q===-1&&de[0]==="exit"&&(de[1].type==="listUnordered"||de[1].type==="listOrdered")){if(Fe){let Je=O;for(Ee=void 0;Je--;){const be=I[Je];if(be[1].type==="lineEnding"||be[1].type==="lineEndingBlank"){if(be[0]==="exit")continue;Ee&&(I[Ee][1].type="lineEndingBlank",_e=!0),be[1].type="lineEnding",Ee=Je}else if(!(be[1].type==="linePrefix"||be[1].type==="blockQuotePrefix"||be[1].type==="blockQuotePrefixWhitespace"||be[1].type==="blockQuoteMarker"||be[1].type==="listItemIndent"))break}at&&(!Ee||at<Ee)&&(Fe._spread=!0),Fe.end=Object.assign({},Ee?I[Ee][1].start:de[1].end),I.splice(Ee||O,0,["exit",Fe,de[2]]),O++,$++}if(de[1].type==="listItemPrefix"){const Je={type:"listItem",_spread:!1,start:Object.assign({},de[1].start),end:void 0};Fe=Je,I.splice(O,0,["enter",Je,de[2]]),O++,$++,at=void 0,ut=!0}}}return I[U][1]._spread=_e,$}function s(I,U){return $;function $(O){u.call(this,I(O),O),U&&U.call(this,O)}}function a(){this.stack.push({type:"fragment",children:[]})}function u(I,U,$){this.stack[this.stack.length-1].children.push(I),this.stack.push(I),this.tokenStack.push([U,$||void 0]),I.position={start:Pe(U.start),end:void 0}}function f(I){return U;function U($){I&&I.call(this,$),c.call(this,$)}}function c(I,U){const $=this.stack.pop(),O=this.tokenStack.pop();if(O)O[0].type!==I.type&&(U?U.call(this,I,O[0]):(O[1]||br).call(this,I,O[0]));else throw new Error("Cannot close `"+I.type+"` ("+yt({start:I.start,end:I.end})+"): itâ€™s not open");$.position.end=Pe(I.end)}function d(){return vi(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function h(I){if(this.data.expectingFirstListItemValue){const U=this.stack[this.stack.length-2];U.start=Number.parseInt(this.sliceSerialize(I),10),this.data.expectingFirstListItemValue=void 0}}function g(){const I=this.resume(),U=this.stack[this.stack.length-1];U.lang=I}function y(){const I=this.resume(),U=this.stack[this.stack.length-1];U.meta=I}function C(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const I=this.resume(),U=this.stack[this.stack.length-1];U.value=I.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const I=this.resume(),U=this.stack[this.stack.length-1];U.value=I.replace(/(\r?\n|\r)$/g,"")}function T(I){const U=this.resume(),$=this.stack[this.stack.length-1];$.label=U,$.identifier=Te(this.sliceSerialize(I)).toLowerCase()}function v(){const I=this.resume(),U=this.stack[this.stack.length-1];U.title=I}function A(){const I=this.resume(),U=this.stack[this.stack.length-1];U.url=I}function N(I){const U=this.stack[this.stack.length-1];if(!U.depth){const $=this.sliceSerialize(I).length;U.depth=$}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function b(I){const U=this.stack[this.stack.length-1];U.depth=this.sliceSerialize(I).codePointAt(0)===61?1:2}function q(){this.data.setextHeadingSlurpLineEnding=void 0}function R(I){const $=this.stack[this.stack.length-1].children;let O=$[$.length-1];(!O||O.type!=="text")&&(O=jl(),O.position={start:Pe(I.start),end:void 0},$.push(O)),this.stack.push(O)}function E(I){const U=this.stack.pop();U.value+=this.sliceSerialize(I),U.position.end=Pe(I.end)}function M(I){const U=this.stack[this.stack.length-1];if(this.data.atHardBreak){const $=U.children[U.children.length-1];$.position.end=Pe(I.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(U.type)&&(R.call(this,I),E.call(this,I))}function L(){this.data.atHardBreak=!0}function F(){const I=this.resume(),U=this.stack[this.stack.length-1];U.value=I}function V(){const I=this.resume(),U=this.stack[this.stack.length-1];U.value=I}function B(){const I=this.resume(),U=this.stack[this.stack.length-1];U.value=I}function X(){const I=this.stack[this.stack.length-1];if(this.data.inReference){const U=this.data.referenceType||"shortcut";I.type+="Reference",I.referenceType=U,delete I.url,delete I.title}else delete I.identifier,delete I.label;this.data.referenceType=void 0}function ne(){const I=this.stack[this.stack.length-1];if(this.data.inReference){const U=this.data.referenceType||"shortcut";I.type+="Reference",I.referenceType=U,delete I.url,delete I.title}else delete I.identifier,delete I.label;this.data.referenceType=void 0}function Y(I){const U=this.sliceSerialize(I),$=this.stack[this.stack.length-2];$.label=sv(U),$.identifier=Te(U).toLowerCase()}function he(){const I=this.stack[this.stack.length-1],U=this.resume(),$=this.stack[this.stack.length-1];if(this.data.inReference=!0,$.type==="link"){const O=I.children;$.children=O}else $.alt=U}function _(){const I=this.resume(),U=this.stack[this.stack.length-1];U.url=I}function Ce(){const I=this.resume(),U=this.stack[this.stack.length-1];U.title=I}function ke(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function ve(I){const U=this.resume(),$=this.stack[this.stack.length-1];$.label=U,$.identifier=Te(this.sliceSerialize(I)).toLowerCase(),this.data.referenceType="full"}function Le(I){this.data.characterReferenceType=I.type}function re(I){const U=this.sliceSerialize(I),$=this.data.characterReferenceType;let O;$?(O=nl(U,$==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):O=_i(U);const Q=this.stack[this.stack.length-1];Q.value+=O}function lt(I){const U=this.stack.pop();U.position.end=Pe(I.end)}function Me(I){E.call(this,I);const U=this.stack[this.stack.length-1];U.url=this.sliceSerialize(I)}function $e(I){E.call(this,I);const U=this.stack[this.stack.length-1];U.url="mailto:"+this.sliceSerialize(I)}function He(){return{type:"blockquote",children:[]}}function At(){return{type:"code",lang:null,meta:null,value:""}}function Ol(){return{type:"inlineCode",value:""}}function Wl(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Yl(){return{type:"emphasis",children:[]}}function Pi(){return{type:"heading",depth:0,children:[]}}function Ri(){return{type:"break"}}function Di(){return{type:"html",value:""}}function Kl(){return{type:"image",title:null,url:"",alt:null}}function Li(){return{type:"link",title:null,url:"",children:[]}}function Fi(I){return{type:"list",ordered:I.type==="listOrdered",start:null,spread:I._spread,children:[]}}function Xl(I){return{type:"listItem",spread:I._spread,checked:null,children:[]}}function Ql(){return{type:"paragraph",children:[]}}function Zl(){return{type:"strong",children:[]}}function jl(){return{type:"text",value:""}}function ea(){return{type:"thematicBreak"}}}function Pe(e){return{line:e.line,column:e.column,offset:e.offset}}function pl(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?pl(e,i):cv(e,i)}}function cv(e,t){let n;for(n in t)if(dl.call(t,n))switch(n){case"canContainEols":{const i=t[n];i&&e[n].push(...i);break}case"transforms":{const i=t[n];i&&e[n].push(...i);break}case"enter":case"exit":{const i=t[n];i&&Object.assign(e[n],i);break}}}function br(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+yt({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+yt({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+yt({start:t.start,end:t.end})+") is still open")}function fv(e){const t=this;t.parser=n;function n(i){return av(i,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function dv(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function pv(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function mv(e,t){const n=t.value?t.value+`
`:"",i={};t.lang&&(i.className=["language-"+t.lang]);let o={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function hv(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function gv(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function yv(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),o=st(i.toLowerCase()),s=e.footnoteOrder.indexOf(i);let a,u=e.footnoteCounts.get(i);u===void 0?(u=0,e.footnoteOrder.push(i),a=e.footnoteOrder.length):a=s+1,u+=1,e.footnoteCounts.set(i,u);const f={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,f);const c={type:"element",tagName:"sup",properties:{},children:[f]};return e.patch(t,c),e.applyData(t,c)}function xv(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Cv(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function ml(e,t){const n=t.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+i}];const o=e.all(t),s=o[0];s&&s.type==="text"?s.value="["+s.value:o.unshift({type:"text",value:"["});const a=o[o.length-1];return a&&a.type==="text"?a.value+=i:o.push({type:"text",value:i}),o}function vv(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return ml(e,t);const o={src:st(i.url||""),alt:t.alt};i.title!==null&&i.title!==void 0&&(o.title=i.title);const s={type:"element",tagName:"img",properties:o,children:[]};return e.patch(t,s),e.applyData(t,s)}function _v(e,t){const n={src:st(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,i),e.applyData(t,i)}function Tv(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,i),e.applyData(t,i)}function Sv(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return ml(e,t);const o={href:st(i.url||"")};i.title!==null&&i.title!==void 0&&(o.title=i.title);const s={type:"element",tagName:"a",properties:o,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function wv(e,t){const n={href:st(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function kv(e,t,n){const i=e.all(t),o=n?Ev(n):hl(t),s={},a=[];if(typeof t.checked=="boolean"){const d=i[0];let p;d&&d.type==="element"&&d.tagName==="p"?p=d:(p={type:"element",tagName:"p",properties:{},children:[]},i.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let u=-1;for(;++u<i.length;){const d=i[u];(o||u!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!o?a.push(...d.children):a.push(d)}const f=i[i.length-1];f&&(o||f.type!=="element"||f.tagName!=="p")&&a.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,c),e.applyData(t,c)}function Ev(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let i=-1;for(;!t&&++i<n.length;)t=hl(n[i])}return t}function hl(e){const t=e.spread;return t??e.children.length>1}function bv(e,t){const n={},i=e.all(t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++o<i.length;){const a=i[o];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function Av(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Iv(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Nv(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Mv(e,t){const n=e.all(t),i=n.shift(),o=[];if(i){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([i],!0)};e.patch(t.children[0],a),o.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},u=gi(t.children[1]),f=Ys(t.children[t.children.length-1]);u&&f&&(a.position={start:u,end:f}),o.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,s),e.applyData(t,s)}function Pv(e,t,n){const i=n?n.children:void 0,s=(i?i.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,u=a?a.length:t.children.length;let f=-1;const c=[];for(;++f<u;){const p=t.children[f],h={},g=a?a[f]:void 0;g&&(h.align=g);let y={type:"element",tagName:s,properties:h,children:[]};p&&(y.children=e.all(p),e.patch(p,y),y=e.applyData(p,y)),c.push(y)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function Rv(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Ar=9,Ir=32;function Dv(e){const t=String(e),n=/\r?\n|\r/g;let i=n.exec(t),o=0;const s=[];for(;i;)s.push(Nr(t.slice(o,i.index),o>0,!0),i[0]),o=i.index+i[0].length,i=n.exec(t);return s.push(Nr(t.slice(o),o>0,!1)),s.join("")}function Nr(e,t,n){let i=0,o=e.length;if(t){let s=e.codePointAt(i);for(;s===Ar||s===Ir;)i++,s=e.codePointAt(i)}if(n){let s=e.codePointAt(o-1);for(;s===Ar||s===Ir;)o--,s=e.codePointAt(o-1)}return o>i?e.slice(i,o):""}function Lv(e,t){const n={type:"text",value:Dv(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Fv(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const qv={blockquote:dv,break:pv,code:mv,delete:hv,emphasis:gv,footnoteReference:yv,heading:xv,html:Cv,imageReference:vv,image:_v,inlineCode:Tv,linkReference:Sv,link:wv,listItem:kv,list:bv,paragraph:Av,root:Iv,strong:Nv,table:Mv,tableCell:Rv,tableRow:Pv,text:Lv,thematicBreak:Fv,toml:Pt,yaml:Pt,definition:Pt,footnoteDefinition:Pt};function Pt(){}const gl=-1,sn=0,Ct=1,Wt=2,Si=3,wi=4,ki=5,Ei=6,yl=7,xl=8,Mr=typeof self=="object"?self:globalThis,Vv=(e,t)=>{const n=(o,s)=>(e.set(s,o),o),i=o=>{if(e.has(o))return e.get(o);const[s,a]=t[o];switch(s){case sn:case gl:return n(a,o);case Ct:{const u=n([],o);for(const f of a)u.push(i(f));return u}case Wt:{const u=n({},o);for(const[f,c]of a)u[i(f)]=i(c);return u}case Si:return n(new Date(a),o);case wi:{const{source:u,flags:f}=a;return n(new RegExp(u,f),o)}case ki:{const u=n(new Map,o);for(const[f,c]of a)u.set(i(f),i(c));return u}case Ei:{const u=n(new Set,o);for(const f of a)u.add(i(f));return u}case yl:{const{name:u,message:f}=a;return n(new Mr[u](f),o)}case xl:return n(BigInt(a),o);case"BigInt":return n(Object(BigInt(a)),o);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:u}=new Uint8Array(a);return n(new DataView(u),a)}}return n(new Mr[s](a),o)};return i},Pr=e=>Vv(new Map,e)(0),We="",{toString:Uv}={},{keys:Bv}=Object,ht=e=>{const t=typeof e;if(t!=="object"||!e)return[sn,t];const n=Uv.call(e).slice(8,-1);switch(n){case"Array":return[Ct,We];case"Object":return[Wt,We];case"Date":return[Si,We];case"RegExp":return[wi,We];case"Map":return[ki,We];case"Set":return[Ei,We];case"DataView":return[Ct,n]}return n.includes("Array")?[Ct,n]:n.includes("Error")?[yl,n]:[Wt,n]},Rt=([e,t])=>e===sn&&(t==="function"||t==="symbol"),zv=(e,t,n,i)=>{const o=(a,u)=>{const f=i.push(a)-1;return n.set(u,f),f},s=a=>{if(n.has(a))return n.get(a);let[u,f]=ht(a);switch(u){case sn:{let d=a;switch(f){case"bigint":u=xl,d=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+f);d=null;break;case"undefined":return o([gl],a)}return o([u,d],a)}case Ct:{if(f){let h=a;return f==="DataView"?h=new Uint8Array(a.buffer):f==="ArrayBuffer"&&(h=new Uint8Array(a)),o([f,[...h]],a)}const d=[],p=o([u,d],a);for(const h of a)d.push(s(h));return p}case Wt:{if(f)switch(f){case"BigInt":return o([f,a.toString()],a);case"Boolean":case"Number":case"String":return o([f,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const d=[],p=o([u,d],a);for(const h of Bv(a))(e||!Rt(ht(a[h])))&&d.push([s(h),s(a[h])]);return p}case Si:return o([u,a.toISOString()],a);case wi:{const{source:d,flags:p}=a;return o([u,{source:d,flags:p}],a)}case ki:{const d=[],p=o([u,d],a);for(const[h,g]of a)(e||!(Rt(ht(h))||Rt(ht(g))))&&d.push([s(h),s(g)]);return p}case Ei:{const d=[],p=o([u,d],a);for(const h of a)(e||!Rt(ht(h)))&&d.push(s(h));return p}}const{message:c}=a;return o([u,{name:f,message:c}],a)};return s},Rr=(e,{json:t,lossy:n}={})=>{const i=[];return zv(!(t||n),!!t,new Map,i)(e),i},Yt=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Pr(Rr(e,t)):structuredClone(e):(e,t)=>Pr(Rr(e,t));function Gv(e,t){const n=[{type:"text",value:"â†©"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function $v(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Hv(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Gv,i=e.options.footnoteBackLabel||$v,o=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let f=-1;for(;++f<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[f]);if(!c)continue;const d=e.all(c),p=String(c.identifier).toUpperCase(),h=st(p.toLowerCase());let g=0;const y=[],C=e.footnoteCounts.get(p);for(;C!==void 0&&++g<=C;){y.length>0&&y.push({type:"text",value:" "});let T=typeof n=="string"?n:n(f,g);typeof T=="string"&&(T={type:"text",value:T}),y.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(g>1?"-"+g:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(f,g),className:["data-footnote-backref"]},children:Array.isArray(T)?T:[T]})}const w=d[d.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const T=w.children[w.children.length-1];T&&T.type==="text"?T.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...y)}else d.push(...y);const x={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(c,x),u.push(x)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Yt(a),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(u,!0)},{type:"text",value:`
`}]}}const ln=function(e){if(e==null)return Yv;if(typeof e=="function")return an(e);if(typeof e=="object")return Array.isArray(e)?Jv(e):Ov(e);if(typeof e=="string")return Wv(e);throw new Error("Expected function, string, or object as test")};function Jv(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=ln(e[n]);return an(i);function i(...o){let s=-1;for(;++s<t.length;)if(t[s].apply(this,o))return!0;return!1}}function Ov(e){const t=e;return an(n);function n(i){const o=i;let s;for(s in e)if(o[s]!==t[s])return!1;return!0}}function Wv(e){return an(t);function t(n){return n&&n.type===e}}function an(e){return t;function t(n,i,o){return!!(Kv(n)&&e.call(this,n,typeof i=="number"?i:void 0,o||void 0))}}function Yv(){return!0}function Kv(e){return e!==null&&typeof e=="object"&&"type"in e}const Cl=[],Xv=!0,Zn=!1,Qv="skip";function vl(e,t,n,i){let o;typeof t=="function"&&typeof n!="function"?(i=n,n=t):o=t;const s=ln(o),a=i?-1:1;u(e,void 0,[])();function u(f,c,d){const p=f&&typeof f=="object"?f:{};if(typeof p.type=="string"){const g=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(f.type+(g?"<"+g+">":""))+")"})}return h;function h(){let g=Cl,y,C,w;if((!t||s(f,c,d[d.length-1]||void 0))&&(g=Zv(n(f,d)),g[0]===Zn))return g;if("children"in f&&f.children){const x=f;if(x.children&&g[0]!==Qv)for(C=(i?x.children.length:-1)+a,w=d.concat(x);C>-1&&C<x.children.length;){const T=x.children[C];if(y=u(T,C,w)(),y[0]===Zn)return y;C=typeof y[1]=="number"?y[1]:C+a}}return g}}}function Zv(e){return Array.isArray(e)?e:typeof e=="number"?[Xv,e]:e==null?Cl:[e]}function bi(e,t,n,i){let o,s,a;typeof t=="function"&&typeof n!="function"?(s=void 0,a=t,o=n):(s=t,a=n,o=i),vl(e,s,u,o);function u(f,c){const d=c[c.length-1],p=d?d.children.indexOf(f):void 0;return a(f,p,d)}}const jn={}.hasOwnProperty,jv={};function e_(e,t){const n=t||jv,i=new Map,o=new Map,s=new Map,a={...qv,...n.handlers},u={all:c,applyData:n_,definitionById:i,footnoteById:o,footnoteCounts:s,footnoteOrder:[],handlers:a,one:f,options:n,patch:t_,wrap:o_};return bi(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const p=d.type==="definition"?i:o,h=String(d.identifier).toUpperCase();p.has(h)||p.set(h,d)}}),u;function f(d,p){const h=d.type,g=u.handlers[h];if(jn.call(u.handlers,h)&&g)return g(u,d,p);if(u.options.passThrough&&u.options.passThrough.includes(h)){if("children"in d){const{children:C,...w}=d,x=Yt(w);return x.children=u.all(d),x}return Yt(d)}return(u.options.unknownHandler||i_)(u,d,p)}function c(d){const p=[];if("children"in d){const h=d.children;let g=-1;for(;++g<h.length;){const y=u.one(h[g],d);if(y){if(g&&h[g-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=Dr(y.value)),!Array.isArray(y)&&y.type==="element")){const C=y.children[0];C&&C.type==="text"&&(C.value=Dr(C.value))}Array.isArray(y)?p.push(...y):p.push(y)}}}return p}}function t_(e,t){e.position&&(t.position=$x(e))}function n_(e,t){let n=t;if(e&&e.data){const i=e.data.hName,o=e.data.hChildren,s=e.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const a="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,Yt(s)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function i_(e,t){const n=t.data||{},i="value"in t&&!(jn.call(n,"hProperties")||jn.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function o_(e,t){const n=[];let i=-1;for(t&&n.push({type:"text",value:`
`});++i<e.length;)i&&n.push({type:"text",value:`
`}),n.push(e[i]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Dr(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Lr(e,t){const n=e_(e,t),i=n.one(e,void 0),o=Hv(n),s=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return o&&s.children.push({type:"text",value:`
`},o),s}function r_(e,t){return e&&"run"in e?async function(n,i){const o=Lr(n,{file:i,...t});await e.run(o,i)}:function(n,i){return Lr(n,{file:i,...e||t})}}function Fr(e){if(e)throw e}var Cn,qr;function s_(){if(qr)return Cn;qr=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},s=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var d=e.call(c,"constructor"),p=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!d&&!p)return!1;var h;for(h in c);return typeof h>"u"||e.call(c,h)},a=function(c,d){n&&d.name==="__proto__"?n(c,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):c[d.name]=d.newValue},u=function(c,d){if(d==="__proto__")if(e.call(c,d)){if(i)return i(c,d).value}else return;return c[d]};return Cn=function f(){var c,d,p,h,g,y,C=arguments[0],w=1,x=arguments.length,T=!1;for(typeof C=="boolean"&&(T=C,C=arguments[1]||{},w=2),(C==null||typeof C!="object"&&typeof C!="function")&&(C={});w<x;++w)if(c=arguments[w],c!=null)for(d in c)p=u(C,d),h=u(c,d),C!==h&&(T&&h&&(s(h)||(g=o(h)))?(g?(g=!1,y=p&&o(p)?p:[]):y=p&&s(p)?p:{},a(C,{name:d,newValue:f(T,y,h)})):typeof h<"u"&&a(C,{name:d,newValue:h}));return C},Cn}var l_=s_();const vn=Xt(l_);function ei(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function a_(){const e=[],t={run:n,use:i};return t;function n(...o){let s=-1;const a=o.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);u(null,...o);function u(f,...c){const d=e[++s];let p=-1;if(f){a(f);return}for(;++p<o.length;)(c[p]===null||c[p]===void 0)&&(c[p]=o[p]);o=c,d?u_(d,u)(...c):a(null,...c)}}function i(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),t}}function u_(e,t){let n;return i;function i(...a){const u=e.length>a.length;let f;u&&a.push(o);try{f=e.apply(this,a)}catch(c){const d=c;if(u&&n)throw d;return o(d)}u||(f&&f.then&&typeof f.then=="function"?f.then(s,o):f instanceof Error?o(f):s(f))}function o(a,...u){n||(n=!0,t(a,...u))}function s(a){o(null,a)}}const Se={basename:c_,dirname:f_,extname:d_,join:p_,sep:"/"};function c_(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');bt(e);let n=0,i=-1,o=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(s){n=o+1;break}}else i<0&&(s=!0,i=o+1);return i<0?"":e.slice(n,i)}if(t===e)return"";let a=-1,u=t.length-1;for(;o--;)if(e.codePointAt(o)===47){if(s){n=o+1;break}}else a<0&&(s=!0,a=o+1),u>-1&&(e.codePointAt(o)===t.codePointAt(u--)?u<0&&(i=o):(u=-1,i=a));return n===i?i=a:i<0&&(i=e.length),e.slice(n,i)}function f_(e){if(bt(e),e.length===0)return".";let t=-1,n=e.length,i;for(;--n;)if(e.codePointAt(n)===47){if(i){t=n;break}}else i||(i=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function d_(e){bt(e);let t=e.length,n=-1,i=0,o=-1,s=0,a;for(;t--;){const u=e.codePointAt(t);if(u===47){if(a){i=t+1;break}continue}n<0&&(a=!0,n=t+1),u===46?o<0?o=t:s!==1&&(s=1):o>-1&&(s=-1)}return o<0||n<0||s===0||s===1&&o===n-1&&o===i+1?"":e.slice(o,n)}function p_(...e){let t=-1,n;for(;++t<e.length;)bt(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":m_(n)}function m_(e){bt(e);const t=e.codePointAt(0)===47;let n=h_(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function h_(e,t){let n="",i=0,o=-1,s=0,a=-1,u,f;for(;++a<=e.length;){if(a<e.length)u=e.codePointAt(a);else{if(u===47)break;u=47}if(u===47){if(!(o===a-1||s===1))if(o!==a-1&&s===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(f=n.lastIndexOf("/"),f!==n.length-1){f<0?(n="",i=0):(n=n.slice(0,f),i=n.length-1-n.lastIndexOf("/")),o=a,s=0;continue}}else if(n.length>0){n="",i=0,o=a,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+e.slice(o+1,a):n=e.slice(o+1,a),i=a-o-1;o=a,s=0}else u===46&&s>-1?s++:s=-1}return n}function bt(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const g_={cwd:y_};function y_(){return"/"}function ti(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function x_(e){if(typeof e=="string")e=new URL(e);else if(!ti(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return C_(e)}function C_(e){if(e.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const i=t.codePointAt(n+2);if(i===70||i===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(t)}const _n=["history","path","basename","stem","extname","dirname"];class _l{constructor(t){let n;t?ti(t)?n={path:t}:typeof t=="string"||v_(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":g_.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<_n.length;){const s=_n[i];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let o;for(o in n)_n.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?Se.basename(this.path):void 0}set basename(t){Sn(t,"basename"),Tn(t,"basename"),this.path=Se.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Se.dirname(this.path):void 0}set dirname(t){Vr(this.basename,"dirname"),this.path=Se.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Se.extname(this.path):void 0}set extname(t){if(Tn(t,"extname"),Vr(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Se.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){ti(t)&&(t=x_(t)),Sn(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Se.basename(this.path,this.extname):void 0}set stem(t){Sn(t,"stem"),Tn(t,"stem"),this.path=Se.join(this.dirname||"",t+(this.extname||""))}fail(t,n,i){const o=this.message(t,n,i);throw o.fatal=!0,o}info(t,n,i){const o=this.message(t,n,i);return o.fatal=void 0,o}message(t,n,i){const o=new ae(t,n,i);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Tn(e,t){if(e&&e.includes(Se.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Se.sep+"`")}function Sn(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Vr(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function v_(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const __=function(e){const i=this.constructor.prototype,o=i[e],s=function(){return o.apply(s,arguments)};return Object.setPrototypeOf(s,i),s},T_={}.hasOwnProperty;class Ai extends __{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=a_()}copy(){const t=new Ai;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];t.use(...i)}return t.data(vn(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(En("data",this.frozen),this.namespace[t]=n,this):T_.call(this.namespace,t)&&this.namespace[t]||void 0:t?(En("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const o=n.call(t,...i);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Dt(t),i=this.parser||this.Parser;return wn("parse",i),i(String(n),n)}process(t,n){const i=this;return this.freeze(),wn("process",this.parser||this.Parser),kn("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(s,a){const u=Dt(t),f=i.parse(u);i.run(f,u,function(d,p,h){if(d||!p||!h)return c(d);const g=p,y=i.stringify(g,h);k_(y)?h.value=y:h.result=y,c(d,h)});function c(d,p){d||!p?a(d):s?s(p):n(void 0,p)}}}processSync(t){let n=!1,i;return this.freeze(),wn("processSync",this.parser||this.Parser),kn("processSync",this.compiler||this.Compiler),this.process(t,o),Br("processSync","process",n),i;function o(s,a){n=!0,Fr(s),i=a}}run(t,n,i){Ur(t),this.freeze();const o=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?s(void 0,i):new Promise(s);function s(a,u){const f=Dt(n);o.run(t,f,c);function c(d,p,h){const g=p||t;d?u(d):a?a(g):i(void 0,g,h)}}}runSync(t,n){let i=!1,o;return this.run(t,n,s),Br("runSync","run",i),o;function s(a,u){Fr(a),o=u,i=!0}}stringify(t,n){this.freeze();const i=Dt(n),o=this.compiler||this.Compiler;return kn("stringify",o),Ur(t),o(t,i)}use(t,...n){const i=this.attachers,o=this.namespace;if(En("use",this.frozen),t!=null)if(typeof t=="function")f(t,n);else if(typeof t=="object")Array.isArray(t)?u(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(c){if(typeof c=="function")f(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...p]=c;f(d,p)}else a(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function a(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(c.plugins),c.settings&&(o.settings=vn(!0,o.settings,c.settings))}function u(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const p=c[d];s(p)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function f(c,d){let p=-1,h=-1;for(;++p<i.length;)if(i[p][0]===c){h=p;break}if(h===-1)i.push([c,...d]);else if(d.length>0){let[g,...y]=d;const C=i[h][1];ei(C)&&ei(g)&&(g=vn(!0,C,g)),i[h]=[c,g,...y]}}}}const S_=new Ai().freeze();function wn(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function kn(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function En(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Ur(e){if(!ei(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Br(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Dt(e){return w_(e)?e:new _l(e)}function w_(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function k_(e){return typeof e=="string"||E_(e)}function E_(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const b_="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",zr=[],Gr={allowDangerousHtml:!0},A_=/^(https?|ircs?|mailto|xmpp)$/i,I_=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function N_(e){const t=M_(e),n=P_(e);return R_(t.runSync(t.parse(n),n),e)}function M_(e){const t=e.rehypePlugins||zr,n=e.remarkPlugins||zr,i=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Gr}:Gr;return S_().use(fv).use(n).use(r_,i).use(t)}function P_(e){const t=e.children||"",n=new _l;return typeof t=="string"&&(n.value=t),n}function R_(e,t){const n=t.allowedElements,i=t.allowElement,o=t.components,s=t.disallowedElements,a=t.skipHtml,u=t.unwrapDisallowed,f=t.urlTransform||D_;for(const d of I_)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+b_+d.id,void 0);return bi(e,c),Yx(e,{Fragment:m.Fragment,components:o,ignoreInvalidStyle:!0,jsx:m.jsx,jsxs:m.jsxs,passKeys:!0,passNode:!0});function c(d,p,h){if(d.type==="raw"&&h&&typeof p=="number")return a?h.children.splice(p,1):h.children[p]={type:"text",value:d.value},p;if(d.type==="element"){let g;for(g in gn)if(Object.hasOwn(gn,g)&&Object.hasOwn(d.properties,g)){const y=d.properties[g],C=gn[g];(C===null||C.includes(d.tagName))&&(d.properties[g]=f(String(y||""),g,d))}}if(d.type==="element"){let g=n?!n.includes(d.tagName):s?s.includes(d.tagName):!1;if(!g&&i&&typeof p=="number"&&(g=!i(d,p,h)),g&&h&&typeof p=="number")return u&&d.children?h.children.splice(p,1,...d.children):h.children.splice(p,1),p}}}function D_(e){const t=e.indexOf(":"),n=e.indexOf("?"),i=e.indexOf("#"),o=e.indexOf("/");return t===-1||o!==-1&&t>o||n!==-1&&t>n||i!==-1&&t>i||A_.test(e.slice(0,t))?e:""}function $r(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let i=0,o=n.indexOf(t);for(;o!==-1;)i++,o=n.indexOf(t,o+t.length);return i}function L_(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function F_(e,t,n){const o=ln((n||{}).ignore||[]),s=q_(t);let a=-1;for(;++a<s.length;)vl(e,"text",u);function u(c,d){let p=-1,h;for(;++p<d.length;){const g=d[p],y=h?h.children:void 0;if(o(g,y?y.indexOf(g):void 0,h))return;h=g}if(h)return f(c,d)}function f(c,d){const p=d[d.length-1],h=s[a][0],g=s[a][1];let y=0;const w=p.children.indexOf(c);let x=!1,T=[];h.lastIndex=0;let v=h.exec(c.value);for(;v;){const A=v.index,N={index:v.index,input:v.input,stack:[...d,c]};let S=g(...v,N);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?h.lastIndex=A+1:(y!==A&&T.push({type:"text",value:c.value.slice(y,A)}),Array.isArray(S)?T.push(...S):S&&T.push(S),y=A+v[0].length,x=!0),!h.global)break;v=h.exec(c.value)}return x?(y<c.value.length&&T.push({type:"text",value:c.value.slice(y)}),p.children.splice(w,1,...T)):T=[c],w+T.length}}function q_(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let i=-1;for(;++i<n.length;){const o=n[i];t.push([V_(o[0]),U_(o[1])])}return t}function V_(e){return typeof e=="string"?new RegExp(L_(e),"g"):e}function U_(e){return typeof e=="function"?e:function(){return e}}const bn="phrasing",An=["autolink","link","image","label"];function B_(){return{transforms:[W_],enter:{literalAutolink:G_,literalAutolinkEmail:In,literalAutolinkHttp:In,literalAutolinkWww:In},exit:{literalAutolink:O_,literalAutolinkEmail:J_,literalAutolinkHttp:$_,literalAutolinkWww:H_}}}function z_(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:bn,notInConstruct:An},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:bn,notInConstruct:An},{character:":",before:"[ps]",after:"\\/",inConstruct:bn,notInConstruct:An}]}}function G_(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function In(e){this.config.enter.autolinkProtocol.call(this,e)}function $_(e){this.config.exit.autolinkProtocol.call(this,e)}function H_(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function J_(e){this.config.exit.autolinkEmail.call(this,e)}function O_(e){this.exit(e)}function W_(e){F_(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Y_],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),K_]],{ignore:["link","linkReference"]})}function Y_(e,t,n,i,o){let s="";if(!Tl(o)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!X_(n)))return!1;const a=Q_(n+i);if(!a[0])return!1;const u={type:"link",title:null,url:s+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[u,{type:"text",value:a[1]}]:u}function K_(e,t,n,i){return!Tl(i,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function X_(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Q_(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],i=n.indexOf(")");const o=$r(e,"(");let s=$r(e,")");for(;i!==-1&&o>s;)e+=n.slice(0,i+1),n=n.slice(i+1),i=n.indexOf(")"),s++;return[e,n]}function Tl(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Be(n)||on(n))&&(!t||n!==47)}Sl.peek=sT;function Z_(){this.buffer()}function j_(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function eT(){this.buffer()}function tT(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function nT(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Te(this.sliceSerialize(e)).toLowerCase(),n.label=t}function iT(e){this.exit(e)}function oT(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Te(this.sliceSerialize(e)).toLowerCase(),n.label=t}function rT(e){this.exit(e)}function sT(){return"["}function Sl(e,t,n,i){const o=n.createTracker(i);let s=o.move("[^");const a=n.enter("footnoteReference"),u=n.enter("reference");return s+=o.move(n.safe(n.associationId(e),{after:"]",before:s})),u(),a(),s+=o.move("]"),s}function lT(){return{enter:{gfmFootnoteCallString:Z_,gfmFootnoteCall:j_,gfmFootnoteDefinitionLabelString:eT,gfmFootnoteDefinition:tT},exit:{gfmFootnoteCallString:nT,gfmFootnoteCall:iT,gfmFootnoteDefinitionLabelString:oT,gfmFootnoteDefinition:rT}}}function aT(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:Sl},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(i,o,s,a){const u=s.createTracker(a);let f=u.move("[^");const c=s.enter("footnoteDefinition"),d=s.enter("label");return f+=u.move(s.safe(s.associationId(i),{before:f,after:"]"})),d(),f+=u.move("]:"),i.children&&i.children.length>0&&(u.shift(4),f+=u.move((t?`
`:" ")+s.indentLines(s.containerFlow(i,u.current()),t?wl:uT))),c(),f}}function uT(e,t,n){return t===0?e:wl(e,t,n)}function wl(e,t,n){return(n?"":"    ")+e}const cT=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];kl.peek=hT;function fT(){return{canContainEols:["delete"],enter:{strikethrough:pT},exit:{strikethrough:mT}}}function dT(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:cT}],handlers:{delete:kl}}}function pT(e){this.enter({type:"delete",children:[]},e)}function mT(e){this.exit(e)}function kl(e,t,n,i){const o=n.createTracker(i),s=n.enter("strikethrough");let a=o.move("~~");return a+=n.containerPhrasing(e,{...o.current(),before:a,after:"~"}),a+=o.move("~~"),s(),a}function hT(){return"~"}function gT(e){return e.length}function yT(e,t){const n=t||{},i=(n.align||[]).concat(),o=n.stringLength||gT,s=[],a=[],u=[],f=[];let c=0,d=-1;for(;++d<e.length;){const C=[],w=[];let x=-1;for(e[d].length>c&&(c=e[d].length);++x<e[d].length;){const T=xT(e[d][x]);if(n.alignDelimiters!==!1){const v=o(T);w[x]=v,(f[x]===void 0||v>f[x])&&(f[x]=v)}C.push(T)}a[d]=C,u[d]=w}let p=-1;if(typeof i=="object"&&"length"in i)for(;++p<c;)s[p]=Hr(i[p]);else{const C=Hr(i);for(;++p<c;)s[p]=C}p=-1;const h=[],g=[];for(;++p<c;){const C=s[p];let w="",x="";C===99?(w=":",x=":"):C===108?w=":":C===114&&(x=":");let T=n.alignDelimiters===!1?1:Math.max(1,f[p]-w.length-x.length);const v=w+"-".repeat(T)+x;n.alignDelimiters!==!1&&(T=w.length+T+x.length,T>f[p]&&(f[p]=T),g[p]=T),h[p]=v}a.splice(1,0,h),u.splice(1,0,g),d=-1;const y=[];for(;++d<a.length;){const C=a[d],w=u[d];p=-1;const x=[];for(;++p<c;){const T=C[p]||"";let v="",A="";if(n.alignDelimiters!==!1){const N=f[p]-(w[p]||0),S=s[p];S===114?v=" ".repeat(N):S===99?N%2?(v=" ".repeat(N/2+.5),A=" ".repeat(N/2-.5)):(v=" ".repeat(N/2),A=v):A=" ".repeat(N)}n.delimiterStart!==!1&&!p&&x.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&T==="")&&(n.delimiterStart!==!1||p)&&x.push(" "),n.alignDelimiters!==!1&&x.push(v),x.push(T),n.alignDelimiters!==!1&&x.push(A),n.padding!==!1&&x.push(" "),(n.delimiterEnd!==!1||p!==c-1)&&x.push("|")}y.push(n.delimiterEnd===!1?x.join("").replace(/ +$/,""):x.join(""))}return y.join(`
`)}function xT(e){return e==null?"":String(e)}function Hr(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function CT(e,t,n,i){const o=n.enter("blockquote"),s=n.createTracker(i);s.move("> "),s.shift(2);const a=n.indentLines(n.containerFlow(e,s.current()),vT);return o(),a}function vT(e,t,n){return">"+(n?"":" ")+e}function _T(e,t){return Jr(e,t.inConstruct,!0)&&!Jr(e,t.notInConstruct,!1)}function Jr(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let i=-1;for(;++i<t.length;)if(e.includes(t[i]))return!0;return!1}function Or(e,t,n,i){let o=-1;for(;++o<n.unsafe.length;)if(n.unsafe[o].character===`
`&&_T(n.stack,n.unsafe[o]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function TT(e,t){const n=String(e);let i=n.indexOf(t),o=i,s=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===o?++s>a&&(a=s):s=1,o=i+t.length,i=n.indexOf(t,o);return a}function ST(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function wT(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function kT(e,t,n,i){const o=wT(n),s=e.value||"",a=o==="`"?"GraveAccent":"Tilde";if(ST(e,n)){const p=n.enter("codeIndented"),h=n.indentLines(s,ET);return p(),h}const u=n.createTracker(i),f=o.repeat(Math.max(TT(s,o)+1,3)),c=n.enter("codeFenced");let d=u.move(f);if(e.lang){const p=n.enter(`codeFencedLang${a}`);d+=u.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...u.current()})),p()}if(e.lang&&e.meta){const p=n.enter(`codeFencedMeta${a}`);d+=u.move(" "),d+=u.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...u.current()})),p()}return d+=u.move(`
`),s&&(d+=u.move(s+`
`)),d+=u.move(f),c(),d}function ET(e,t,n){return(n?"":"    ")+e}function Ii(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function bT(e,t,n,i){const o=Ii(n),s=o==='"'?"Quote":"Apostrophe",a=n.enter("definition");let u=n.enter("label");const f=n.createTracker(i);let c=f.move("[");return c+=f.move(n.safe(n.associationId(e),{before:c,after:"]",...f.current()})),c+=f.move("]: "),u(),!e.url||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),c+=f.move("<"),c+=f.move(n.safe(e.url,{before:c,after:">",...f.current()})),c+=f.move(">")):(u=n.enter("destinationRaw"),c+=f.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...f.current()}))),u(),e.title&&(u=n.enter(`title${s}`),c+=f.move(" "+o),c+=f.move(n.safe(e.title,{before:c,after:o,...f.current()})),c+=f.move(o),u()),a(),c}function AT(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function St(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Kt(e,t,n){const i=et(e),o=et(t);return i===void 0?o===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}El.peek=IT;function El(e,t,n,i){const o=AT(n),s=n.enter("emphasis"),a=n.createTracker(i),u=a.move(o);let f=a.move(n.containerPhrasing(e,{after:o,before:u,...a.current()}));const c=f.charCodeAt(0),d=Kt(i.before.charCodeAt(i.before.length-1),c,o);d.inside&&(f=St(c)+f.slice(1));const p=f.charCodeAt(f.length-1),h=Kt(i.after.charCodeAt(0),p,o);h.inside&&(f=f.slice(0,-1)+St(p));const g=a.move(o);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},u+f+g}function IT(e,t,n){return n.options.emphasis||"*"}function NT(e,t){let n=!1;return bi(e,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return n=!0,Zn}),!!((!e.depth||e.depth<3)&&vi(e)&&(t.options.setext||n))}function MT(e,t,n,i){const o=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(i);if(NT(e,n)){const d=n.enter("headingSetext"),p=n.enter("phrasing"),h=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return p(),d(),h+`
`+(o===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const a="#".repeat(o),u=n.enter("headingAtx"),f=n.enter("phrasing");s.move(a+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=St(c.charCodeAt(0))+c.slice(1)),c=c?a+" "+c:a,n.options.closeAtx&&(c+=" "+a),f(),u(),c}bl.peek=PT;function bl(e){return e.value||""}function PT(){return"<"}Al.peek=RT;function Al(e,t,n,i){const o=Ii(n),s=o==='"'?"Quote":"Apostrophe",a=n.enter("image");let u=n.enter("label");const f=n.createTracker(i);let c=f.move("![");return c+=f.move(n.safe(e.alt,{before:c,after:"]",...f.current()})),c+=f.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),c+=f.move("<"),c+=f.move(n.safe(e.url,{before:c,after:">",...f.current()})),c+=f.move(">")):(u=n.enter("destinationRaw"),c+=f.move(n.safe(e.url,{before:c,after:e.title?" ":")",...f.current()}))),u(),e.title&&(u=n.enter(`title${s}`),c+=f.move(" "+o),c+=f.move(n.safe(e.title,{before:c,after:o,...f.current()})),c+=f.move(o),u()),c+=f.move(")"),a(),c}function RT(){return"!"}Il.peek=DT;function Il(e,t,n,i){const o=e.referenceType,s=n.enter("imageReference");let a=n.enter("label");const u=n.createTracker(i);let f=u.move("![");const c=n.safe(e.alt,{before:f,after:"]",...u.current()});f+=u.move(c+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const p=n.safe(n.associationId(e),{before:f,after:"]",...u.current()});return a(),n.stack=d,s(),o==="full"||!c||c!==p?f+=u.move(p+"]"):o==="shortcut"?f=f.slice(0,-1):f+=u.move("]"),f}function DT(){return"!"}Nl.peek=LT;function Nl(e,t,n){let i=e.value||"",o="`",s=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(i);)o+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++s<n.unsafe.length;){const a=n.unsafe[s],u=n.compilePattern(a);let f;if(a.atBreak)for(;f=u.exec(i);){let c=f.index;i.charCodeAt(c)===10&&i.charCodeAt(c-1)===13&&c--,i=i.slice(0,c)+" "+i.slice(f.index+1)}}return o+i+o}function LT(){return"`"}function Ml(e,t){const n=vi(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Pl.peek=FT;function Pl(e,t,n,i){const o=Ii(n),s=o==='"'?"Quote":"Apostrophe",a=n.createTracker(i);let u,f;if(Ml(e,n)){const d=n.stack;n.stack=[],u=n.enter("autolink");let p=a.move("<");return p+=a.move(n.containerPhrasing(e,{before:p,after:">",...a.current()})),p+=a.move(">"),u(),n.stack=d,p}u=n.enter("link"),f=n.enter("label");let c=a.move("[");return c+=a.move(n.containerPhrasing(e,{before:c,after:"](",...a.current()})),c+=a.move("]("),f(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(f=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(n.safe(e.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(f=n.enter("destinationRaw"),c+=a.move(n.safe(e.url,{before:c,after:e.title?" ":")",...a.current()}))),f(),e.title&&(f=n.enter(`title${s}`),c+=a.move(" "+o),c+=a.move(n.safe(e.title,{before:c,after:o,...a.current()})),c+=a.move(o),f()),c+=a.move(")"),u(),c}function FT(e,t,n){return Ml(e,n)?"<":"["}Rl.peek=qT;function Rl(e,t,n,i){const o=e.referenceType,s=n.enter("linkReference");let a=n.enter("label");const u=n.createTracker(i);let f=u.move("[");const c=n.containerPhrasing(e,{before:f,after:"]",...u.current()});f+=u.move(c+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const p=n.safe(n.associationId(e),{before:f,after:"]",...u.current()});return a(),n.stack=d,s(),o==="full"||!c||c!==p?f+=u.move(p+"]"):o==="shortcut"?f=f.slice(0,-1):f+=u.move("]"),f}function qT(){return"["}function Ni(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function VT(e){const t=Ni(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function UT(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function Dl(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function BT(e,t,n,i){const o=n.enter("list"),s=n.bulletCurrent;let a=e.ordered?UT(n):Ni(n);const u=e.ordered?a==="."?")":".":VT(n);let f=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(f=!0),Dl(n)===a&&d){let p=-1;for(;++p<e.children.length;){const h=e.children[p];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){f=!0;break}}}}f&&(a=u),n.bulletCurrent=a;const c=n.containerFlow(e,i);return n.bulletLastUsed=a,n.bulletCurrent=s,o(),c}function zT(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function GT(e,t,n,i){const o=zT(n);let s=n.bulletCurrent||Ni(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let a=s.length+1;(o==="tab"||o==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const u=n.createTracker(i);u.move(s+" ".repeat(a-s.length)),u.shift(a);const f=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,u.current()),d);return f(),c;function d(p,h,g){return h?(g?"":" ".repeat(a))+p:(g?s:s+" ".repeat(a-s.length))+p}}function $T(e,t,n,i){const o=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(e,i);return s(),o(),a}const HT=ln(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function JT(e,t,n,i){return(e.children.some(function(a){return HT(a)})?n.containerPhrasing:n.containerFlow).call(n,e,i)}function OT(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}Ll.peek=WT;function Ll(e,t,n,i){const o=OT(n),s=n.enter("strong"),a=n.createTracker(i),u=a.move(o+o);let f=a.move(n.containerPhrasing(e,{after:o,before:u,...a.current()}));const c=f.charCodeAt(0),d=Kt(i.before.charCodeAt(i.before.length-1),c,o);d.inside&&(f=St(c)+f.slice(1));const p=f.charCodeAt(f.length-1),h=Kt(i.after.charCodeAt(0),p,o);h.inside&&(f=f.slice(0,-1)+St(p));const g=a.move(o+o);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},u+f+g}function WT(e,t,n){return n.options.strong||"*"}function YT(e,t,n,i){return n.safe(e.value,i)}function KT(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function XT(e,t,n){const i=(Dl(n)+(n.options.ruleSpaces?" ":"")).repeat(KT(n));return n.options.ruleSpaces?i.slice(0,-1):i}const Fl={blockquote:CT,break:Or,code:kT,definition:bT,emphasis:El,hardBreak:Or,heading:MT,html:bl,image:Al,imageReference:Il,inlineCode:Nl,link:Pl,linkReference:Rl,list:BT,listItem:GT,paragraph:$T,root:JT,strong:Ll,text:YT,thematicBreak:XT};function QT(){return{enter:{table:ZT,tableData:Wr,tableHeader:Wr,tableRow:eS},exit:{codeText:tS,table:jT,tableData:Nn,tableHeader:Nn,tableRow:Nn}}}function ZT(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function jT(e){this.exit(e),this.data.inTable=void 0}function eS(e){this.enter({type:"tableRow",children:[]},e)}function Nn(e){this.exit(e)}function Wr(e){this.enter({type:"tableCell",children:[]},e)}function tS(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,nS));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function nS(e,t){return t==="|"?t:e}function iS(e){const t=e||{},n=t.tableCellPadding,i=t.tablePipeAlign,o=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:a,tableCell:f,tableRow:u}};function a(g,y,C,w){return c(d(g,C,w),g.align)}function u(g,y,C,w){const x=p(g,C,w),T=c([x]);return T.slice(0,T.indexOf(`
`))}function f(g,y,C,w){const x=C.enter("tableCell"),T=C.enter("phrasing"),v=C.containerPhrasing(g,{...w,before:s,after:s});return T(),x(),v}function c(g,y){return yT(g,{align:y,alignDelimiters:i,padding:n,stringLength:o})}function d(g,y,C){const w=g.children;let x=-1;const T=[],v=y.enter("table");for(;++x<w.length;)T[x]=p(w[x],y,C);return v(),T}function p(g,y,C){const w=g.children;let x=-1;const T=[],v=y.enter("tableRow");for(;++x<w.length;)T[x]=f(w[x],g,y,C);return v(),T}function h(g,y,C){let w=Fl.inlineCode(g,y,C);return C.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function oS(){return{exit:{taskListCheckValueChecked:Yr,taskListCheckValueUnchecked:Yr,paragraph:sS}}}function rS(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:lS}}}function Yr(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function sS(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const i=n.children[0];if(i&&i.type==="text"){const o=t.children;let s=-1,a;for(;++s<o.length;){const u=o[s];if(u.type==="paragraph"){a=u;break}}a===n&&(i.value=i.value.slice(1),i.value.length===0?n.children.shift():n.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,n.position.start=Object.assign({},i.position.start)))}}this.exit(e)}function lS(e,t,n,i){const o=e.children[0],s=typeof e.checked=="boolean"&&o&&o.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",u=n.createTracker(i);s&&u.move(a);let f=Fl.listItem(e,t,n,{...i,...u.current()});return s&&(f=f.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),f;function c(d){return d+a}}function aS(){return[B_(),lT(),fT(),QT(),oS()]}function uS(e){return{extensions:[z_(),aT(e),dT(),iS(e),rS()]}}const cS={tokenize:gS,partial:!0},ql={tokenize:yS,partial:!0},Vl={tokenize:xS,partial:!0},Ul={tokenize:CS,partial:!0},fS={tokenize:vS,partial:!0},Bl={name:"wwwAutolink",tokenize:mS,previous:Gl},zl={name:"protocolAutolink",tokenize:hS,previous:$l},Ne={name:"emailAutolink",tokenize:pS,previous:Hl},we={};function dS(){return{text:we}}let qe=48;for(;qe<123;)we[qe]=Ne,qe++,qe===58?qe=65:qe===91&&(qe=97);we[43]=Ne;we[45]=Ne;we[46]=Ne;we[95]=Ne;we[72]=[Ne,zl];we[104]=[Ne,zl];we[87]=[Ne,Bl];we[119]=[Ne,Bl];function pS(e,t,n){const i=this;let o,s;return a;function a(p){return!ni(p)||!Hl.call(i,i.previous)||Mi(i.events)?n(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),u(p))}function u(p){return ni(p)?(e.consume(p),u):p===64?(e.consume(p),f):n(p)}function f(p){return p===46?e.check(fS,d,c)(p):p===45||p===95||le(p)?(s=!0,e.consume(p),f):d(p)}function c(p){return e.consume(p),o=!0,f}function d(p){return s&&o&&ue(i.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):n(p)}}function mS(e,t,n){const i=this;return o;function o(a){return a!==87&&a!==119||!Gl.call(i,i.previous)||Mi(i.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(cS,e.attempt(ql,e.attempt(Vl,s),n),n)(a))}function s(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function hS(e,t,n){const i=this;let o="",s=!1;return a;function a(p){return(p===72||p===104)&&$l.call(i,i.previous)&&!Mi(i.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),o+=String.fromCodePoint(p),e.consume(p),u):n(p)}function u(p){if(ue(p)&&o.length<5)return o+=String.fromCodePoint(p),e.consume(p),u;if(p===58){const h=o.toLowerCase();if(h==="http"||h==="https")return e.consume(p),f}return n(p)}function f(p){return p===47?(e.consume(p),s?c:(s=!0,f)):n(p)}function c(p){return p===null||Ot(p)||Z(p)||Be(p)||on(p)?n(p):e.attempt(ql,e.attempt(Vl,d),n)(p)}function d(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function gS(e,t,n){let i=0;return o;function o(a){return(a===87||a===119)&&i<3?(i++,e.consume(a),o):a===46&&i===3?(e.consume(a),s):n(a)}function s(a){return a===null?n(a):t(a)}}function yS(e,t,n){let i,o,s;return a;function a(c){return c===46||c===95?e.check(Ul,f,u)(c):c===null||Z(c)||Be(c)||c!==45&&on(c)?f(c):(s=!0,e.consume(c),a)}function u(c){return c===95?i=!0:(o=i,i=void 0),e.consume(c),a}function f(c){return o||i||!s?n(c):t(c)}}function xS(e,t){let n=0,i=0;return o;function o(a){return a===40?(n++,e.consume(a),o):a===41&&i<n?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(Ul,t,s)(a):a===null||Z(a)||Be(a)?t(a):(e.consume(a),o)}function s(a){return a===41&&i++,e.consume(a),o}}function CS(e,t,n){return i;function i(u){return u===33||u===34||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===63||u===95||u===126?(e.consume(u),i):u===38?(e.consume(u),s):u===93?(e.consume(u),o):u===60||u===null||Z(u)||Be(u)?t(u):n(u)}function o(u){return u===null||u===40||u===91||Z(u)||Be(u)?t(u):i(u)}function s(u){return ue(u)?a(u):n(u)}function a(u){return u===59?(e.consume(u),i):ue(u)?(e.consume(u),a):n(u)}}function vS(e,t,n){return i;function i(s){return e.consume(s),o}function o(s){return le(s)?n(s):t(s)}}function Gl(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Z(e)}function $l(e){return!ue(e)}function Hl(e){return!(e===47||ni(e))}function ni(e){return e===43||e===45||e===46||e===95||le(e)}function Mi(e){let t=e.length,n=!1;for(;t--;){const i=e[t][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){n=!0;break}if(i._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const _S={tokenize:IS,partial:!0};function TS(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:ES,continuation:{tokenize:bS},exit:AS}},text:{91:{name:"gfmFootnoteCall",tokenize:kS},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:SS,resolveTo:wS}}}}function SS(e,t,n){const i=this;let o=i.events.length;const s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let a;for(;o--;){const f=i.events[o][1];if(f.type==="labelImage"){a=f;break}if(f.type==="gfmFootnoteCall"||f.type==="labelLink"||f.type==="label"||f.type==="image"||f.type==="link")break}return u;function u(f){if(!a||!a._balanced)return n(f);const c=Te(i.sliceSerialize({start:a.end,end:i.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?n(f):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),t(f))}}function wS(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},u=[e[n+1],e[n+2],["enter",i,t],e[n+3],e[n+4],["enter",o,t],["exit",o,t],["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",i,t]];return e.splice(n,e.length-n+1,...u),e}function kS(e,t,n){const i=this,o=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s=0,a;return u;function u(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),f}function f(p){return p!==94?n(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(p){if(s>999||p===93&&!a||p===null||p===91||Z(p))return n(p);if(p===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return o.includes(Te(i.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(p)}return Z(p)||(a=!0),s++,e.consume(p),p===92?d:c}function d(p){return p===91||p===92||p===93?(e.consume(p),s++,c):c(p)}}function ES(e,t,n){const i=this,o=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s,a=0,u;return f;function f(y){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(y){return y===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(y)}function d(y){if(a>999||y===93&&!u||y===null||y===91||Z(y))return n(y);if(y===93){e.exit("chunkString");const C=e.exit("gfmFootnoteDefinitionLabelString");return s=Te(i.sliceSerialize(C)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return Z(y)||(u=!0),a++,e.consume(y),y===92?p:d}function p(y){return y===91||y===92||y===93?(e.consume(y),a++,d):d(y)}function h(y){return y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),o.includes(s)||o.push(s),W(e,g,"gfmFootnoteDefinitionWhitespace")):n(y)}function g(y){return t(y)}}function bS(e,t,n){return e.check(Et,t,e.attempt(_S,t,n))}function AS(e){e.exit("gfmFootnoteDefinition")}function IS(e,t,n){const i=this;return W(e,o,"gfmFootnoteDefinitionIndent",5);function o(s){const a=i.events[i.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(s):n(s)}}function NS(e){let n=(e||{}).singleTilde;const i={name:"strikethrough",tokenize:s,resolveAll:o};return n==null&&(n=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function o(a,u){let f=-1;for(;++f<a.length;)if(a[f][0]==="enter"&&a[f][1].type==="strikethroughSequenceTemporary"&&a[f][1]._close){let c=f;for(;c--;)if(a[c][0]==="exit"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._open&&a[f][1].end.offset-a[f][1].start.offset===a[c][1].end.offset-a[c][1].start.offset){a[f][1].type="strikethroughSequence",a[c][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},a[c][1].start),end:Object.assign({},a[f][1].end)},p={type:"strikethroughText",start:Object.assign({},a[c][1].end),end:Object.assign({},a[f][1].start)},h=[["enter",d,u],["enter",a[c][1],u],["exit",a[c][1],u],["enter",p,u]],g=u.parser.constructs.insideSpan.null;g&&me(h,h.length,0,rn(g,a.slice(c+1,f),u)),me(h,h.length,0,[["exit",p,u],["enter",a[f][1],u],["exit",a[f][1],u],["exit",d,u]]),me(a,c-1,f-c+3,h),f=c+h.length-2;break}}for(f=-1;++f<a.length;)a[f][1].type==="strikethroughSequenceTemporary"&&(a[f][1].type="data");return a}function s(a,u,f){const c=this.previous,d=this.events;let p=0;return h;function h(y){return c===126&&d[d.length-1][1].type!=="characterEscape"?f(y):(a.enter("strikethroughSequenceTemporary"),g(y))}function g(y){const C=et(c);if(y===126)return p>1?f(y):(a.consume(y),p++,g);if(p<2&&!n)return f(y);const w=a.exit("strikethroughSequenceTemporary"),x=et(y);return w._open=!x||x===2&&!!C,w._close=!C||C===2&&!!x,u(y)}}}class MS{constructor(){this.map=[]}add(t,n,i){PS(this,t,n,i)}consume(t){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const i=[];for(;n>0;)n-=1,i.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];i.push(t.slice()),t.length=0;let o=i.pop();for(;o;){for(const s of o)t.push(s);o=i.pop()}this.map.length=0}}function PS(e,t,n,i){let o=0;if(!(n===0&&i.length===0)){for(;o<e.map.length;){if(e.map[o][0]===t){e.map[o][1]+=n,e.map[o][2].push(...i);return}o+=1}e.map.push([t,n,i])}}function RS(e,t){let n=!1;const i=[];for(;t<e.length;){const o=e[t];if(n){if(o[0]==="enter")o[1].type==="tableContent"&&i.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(o[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=i.length-1;i[s]=i[s]==="left"?"center":"right"}}else if(o[1].type==="tableDelimiterRow")break}else o[0]==="enter"&&o[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return i}function DS(){return{flow:{null:{name:"table",tokenize:LS,resolveAll:FS}}}}function LS(e,t,n){const i=this;let o=0,s=0,a;return u;function u(E){let M=i.events.length-1;for(;M>-1;){const V=i.events[M][1].type;if(V==="lineEnding"||V==="linePrefix")M--;else break}const L=M>-1?i.events[M][1].type:null,F=L==="tableHead"||L==="tableRow"?S:f;return F===S&&i.parser.lazy[i.now().line]?n(E):F(E)}function f(E){return e.enter("tableHead"),e.enter("tableRow"),c(E)}function c(E){return E===124||(a=!0,s+=1),d(E)}function d(E){return E===null?n(E):G(E)?s>1?(s=0,i.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),g):n(E):J(E)?W(e,d,"whitespace")(E):(s+=1,a&&(a=!1,o+=1),E===124?(e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),a=!0,d):(e.enter("data"),p(E)))}function p(E){return E===null||E===124||Z(E)?(e.exit("data"),d(E)):(e.consume(E),E===92?h:p)}function h(E){return E===92||E===124?(e.consume(E),p):p(E)}function g(E){return i.interrupt=!1,i.parser.lazy[i.now().line]?n(E):(e.enter("tableDelimiterRow"),a=!1,J(E)?W(e,y,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):y(E))}function y(E){return E===45||E===58?w(E):E===124?(a=!0,e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),C):N(E)}function C(E){return J(E)?W(e,w,"whitespace")(E):w(E)}function w(E){return E===58?(s+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(E),e.exit("tableDelimiterMarker"),x):E===45?(s+=1,x(E)):E===null||G(E)?A(E):N(E)}function x(E){return E===45?(e.enter("tableDelimiterFiller"),T(E)):N(E)}function T(E){return E===45?(e.consume(E),T):E===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(E),e.exit("tableDelimiterMarker"),v):(e.exit("tableDelimiterFiller"),v(E))}function v(E){return J(E)?W(e,A,"whitespace")(E):A(E)}function A(E){return E===124?y(E):E===null||G(E)?!a||o!==s?N(E):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(E)):N(E)}function N(E){return n(E)}function S(E){return e.enter("tableRow"),b(E)}function b(E){return E===124?(e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),b):E===null||G(E)?(e.exit("tableRow"),t(E)):J(E)?W(e,b,"whitespace")(E):(e.enter("data"),q(E))}function q(E){return E===null||E===124||Z(E)?(e.exit("data"),b(E)):(e.consume(E),E===92?R:q)}function R(E){return E===92||E===124?(e.consume(E),q):q(E)}}function FS(e,t){let n=-1,i=!0,o=0,s=[0,0,0,0],a=[0,0,0,0],u=!1,f=0,c,d,p;const h=new MS;for(;++n<e.length;){const g=e[n],y=g[1];g[0]==="enter"?y.type==="tableHead"?(u=!1,f!==0&&(Kr(h,t,f,c,d),d=void 0,f=0),c={type:"table",start:Object.assign({},y.start),end:Object.assign({},y.end)},h.add(n,0,[["enter",c,t]])):y.type==="tableRow"||y.type==="tableDelimiterRow"?(i=!0,p=void 0,s=[0,0,0,0],a=[0,n+1,0,0],u&&(u=!1,d={type:"tableBody",start:Object.assign({},y.start),end:Object.assign({},y.end)},h.add(n,0,[["enter",d,t]])),o=y.type==="tableDelimiterRow"?2:d?3:1):o&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")?(i=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],p=Lt(h,t,s,o,void 0,p),s=[0,0,0,0]),a[2]=n)):y.type==="tableCellDivider"&&(i?i=!1:(s[1]!==0&&(a[0]=a[1],p=Lt(h,t,s,o,void 0,p)),s=a,a=[s[1],n,0,0])):y.type==="tableHead"?(u=!0,f=n):y.type==="tableRow"||y.type==="tableDelimiterRow"?(f=n,s[1]!==0?(a[0]=a[1],p=Lt(h,t,s,o,n,p)):a[1]!==0&&(p=Lt(h,t,a,o,n,p)),o=0):o&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")&&(a[3]=n)}for(f!==0&&Kr(h,t,f,c,d),h.consume(t.events),n=-1;++n<t.events.length;){const g=t.events[n];g[0]==="enter"&&g[1].type==="table"&&(g[1]._align=RS(t.events,n))}return e}function Lt(e,t,n,i,o,s){const a=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",u="tableContent";n[0]!==0&&(s.end=Object.assign({},Ye(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const f=Ye(t.events,n[1]);if(s={type:a,start:Object.assign({},f),end:Object.assign({},f)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const c=Ye(t.events,n[2]),d=Ye(t.events,n[3]),p={type:u,start:Object.assign({},c),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",p,t]]),i!==2){const h=t.events[n[2]],g=t.events[n[3]];if(h[1].end=Object.assign({},g[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const y=n[2]+1,C=n[3]-n[2]-1;e.add(y,C,[])}}e.add(n[3]+1,0,[["exit",p,t]])}return o!==void 0&&(s.end=Object.assign({},Ye(t.events,o)),e.add(o,0,[["exit",s,t]]),s=void 0),s}function Kr(e,t,n,i,o){const s=[],a=Ye(t.events,n);o&&(o.end=Object.assign({},a),s.push(["exit",o,t])),i.end=Object.assign({},a),s.push(["exit",i,t]),e.add(n+1,0,s)}function Ye(e,t){const n=e[t],i=n[0]==="enter"?"start":"end";return n[1][i]}const qS={name:"tasklistCheck",tokenize:US};function VS(){return{text:{91:qS}}}function US(e,t,n){const i=this;return o;function o(f){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?n(f):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(f),e.exit("taskListCheckMarker"),s)}function s(f){return Z(f)?(e.enter("taskListCheckValueUnchecked"),e.consume(f),e.exit("taskListCheckValueUnchecked"),a):f===88||f===120?(e.enter("taskListCheckValueChecked"),e.consume(f),e.exit("taskListCheckValueChecked"),a):n(f)}function a(f){return f===93?(e.enter("taskListCheckMarker"),e.consume(f),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),u):n(f)}function u(f){return G(f)?t(f):J(f)?e.check({tokenize:BS},t,n)(f):n(f)}}function BS(e,t,n){return W(e,i,"whitespace");function i(o){return o===null?n(o):t(o)}}function zS(e){return tl([dS(),TS(),NS(e),DS(),VS()])}const GS={};function $S(e){const t=this,n=e||GS,i=t.data(),o=i.micromarkExtensions||(i.micromarkExtensions=[]),s=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),a=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);o.push(zS(n)),s.push(aS()),a.push(uS(n))}const Jl=({content:e})=>m.jsx("div",{className:"prose prose-invert prose-blue max-w-none",children:m.jsx(N_,{remarkPlugins:[$S],components:{h1:({children:t})=>m.jsx("h1",{className:"text-3xl font-bold mt-6 mb-4 pb-2 border-b border-gray-600 text-blue-300",children:t}),h2:({children:t})=>m.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-3 text-blue-400",children:t}),h3:({children:t})=>m.jsx("h3",{className:"text-xl font-semibold mt-4 mb-2 text-gray-100",children:t}),p:({children:t})=>m.jsx("p",{className:"my-3 leading-relaxed text-gray-300",children:t}),ul:({children:t})=>m.jsx("ul",{className:"my-3 ml-6 space-y-2",children:t}),li:({children:t})=>m.jsx("li",{className:"text-gray-300",children:t}),strong:({children:t})=>m.jsx("strong",{className:"font-bold text-gray-100",children:t}),em:({children:t})=>m.jsx("em",{className:"italic text-gray-200",children:t})},children:e})}),HS=e=>({start:{id:"start",scenario:e("sim_traffic_stop.start.scenario"),options:[{text:e("sim_traffic_stop.start.options.0.text"),consequence:e("sim_traffic_stop.start.options.0.consequence"),nextStep:"pull_over",isCorrect:!0},{text:e("sim_traffic_stop.start.options.1.text"),consequence:e("sim_traffic_stop.start.options.1.consequence"),nextStep:"pull_over"},{text:e("sim_traffic_stop.start.options.2.text"),consequence:e("sim_traffic_stop.start.options.2.consequence"),nextStep:"escalation"}]},pull_over:{id:"pull_over",scenario:e("sim_traffic_stop.pull_over.scenario"),options:[{text:e("sim_traffic_stop.pull_over.options.0.text"),consequence:e("sim_traffic_stop.pull_over.options.0.consequence"),nextStep:"officer_questions",isCorrect:!0},{text:e("sim_traffic_stop.pull_over.options.1.text"),consequence:e("sim_traffic_stop.pull_over.options.1.consequence"),nextStep:"officer_questions"},{text:e("sim_traffic_stop.pull_over.options.2.text"),consequence:e("sim_traffic_stop.pull_over.options.2.consequence"),nextStep:"officer_questions"}]},officer_questions:{id:"officer_questions",scenario:e("sim_traffic_stop.officer_questions.scenario"),options:[{text:e("sim_traffic_stop.officer_questions.options.0.text"),consequence:e("sim_traffic_stop.officer_questions.options.0.consequence"),nextStep:"license_registration",isCorrect:!0},{text:e("sim_traffic_stop.officer_questions.options.1.text"),consequence:e("sim_traffic_stop.officer_questions.options.1.consequence"),nextStep:"license_registration"},{text:e("sim_traffic_stop.officer_questions.options.2.text"),consequence:e("sim_traffic_stop.officer_questions.options.2.consequence"),nextStep:"license_registration"}]},license_registration:{id:"license_registration",scenario:e("sim_traffic_stop.license_registration.scenario"),options:[{text:e("sim_traffic_stop.license_registration.options.0.text"),consequence:e("sim_traffic_stop.license_registration.options.0.consequence"),nextStep:"search_request",isCorrect:!0},{text:e("sim_traffic_stop.license_registration.options.1.text"),consequence:e("sim_traffic_stop.license_registration.options.1.consequence"),nextStep:"search_request"},{text:e("sim_traffic_stop.license_registration.options.2.text"),consequence:e("sim_traffic_stop.license_registration.options.2.consequence"),nextStep:"search_request"}]},search_request:{id:"search_request",scenario:e("sim_traffic_stop.search_request.scenario"),options:[{text:e("sim_traffic_stop.search_request.options.0.text"),consequence:e("sim_traffic_stop.search_request.options.0.consequence"),nextStep:"end",isCorrect:!0},{text:e("sim_traffic_stop.search_request.options.1.text"),consequence:e("sim_traffic_stop.search_request.options.1.consequence"),nextStep:"end"},{text:e("sim_traffic_stop.search_request.options.2.text"),consequence:e("sim_traffic_stop.search_request.options.2.consequence"),nextStep:"end"}]},escalation:{id:"escalation",scenario:e("sim_traffic_stop.escalation.scenario"),options:[{text:e("sim_traffic_stop.escalation.options.0.text"),consequence:e("sim_traffic_stop.escalation.options.0.consequence"),nextStep:"pull_over"}]},end:{id:"end",scenario:e("sim_traffic_stop.end.scenario"),options:[]}}),JS=({onBack:e})=>{const{t}=oe(),n=P.useMemo(()=>HS(t),[t]),[i,o]=P.useState("start"),[s,a]=P.useState([]),u=d=>{a([...s,{step:n[i].scenario,choice:d.text,consequence:d.consequence}]),d.nextStep&&o(d.nextStep)},f=()=>{o("start"),a([])},c=n[i];return m.jsxs("div",{className:"max-w-2xl mx-auto p-4",children:[m.jsxs("button",{onClick:e,className:"flex items-center gap-2 mb-6 text-blue-400 hover:text-blue-300 transition-colors",children:[m.jsx(Ve,{}),t("simulations.back_to_simulators")]}),m.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[m.jsx("h2",{className:"text-2xl font-bold text-blue-300 mb-4",children:t("simulators.traffic_stop")}),i!=="end"&&m.jsxs("div",{className:"mb-6",children:[m.jsx("div",{className:"bg-gray-700 rounded-lg p-4 mb-4",children:m.jsx("p",{className:"text-gray-200 text-lg",children:c.scenario})}),m.jsx("div",{className:"space-y-3",children:c.options.map((d,p)=>m.jsx("button",{onClick:()=>u(d),className:"w-full text-left p-4 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-gray-200",children:d.text}),m.jsx(oi,{className:"w-5 h-5 text-gray-400"})]})},p))})]}),i==="end"&&m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-semibold text-green-400 mb-4",children:t("simulations.complete_title")}),m.jsx("div",{className:"space-y-4 mb-6",children:s.map((d,p)=>m.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[m.jsx("p",{className:"text-sm text-gray-400 mb-2",children:t("simulations.step",{count:p+1})}),m.jsxs("p",{className:"text-gray-200 mb-2",children:[m.jsxs("strong",{children:[t("simulations.scenario"),":"]})," ",d.step]}),m.jsxs("p",{className:"text-gray-200 mb-2",children:[m.jsxs("strong",{children:[t("simulations.your_choice"),":"]})," ",d.choice]}),m.jsxs("p",{className:"text-blue-300",children:[m.jsxs("strong",{children:[t("simulations.result"),":"]})," ",d.consequence]})]},p))}),m.jsx("button",{onClick:f,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition-colors",children:t("simulations.try_again")})]})]})]})},OS=e=>({start:{id:"start",scenario:e("sim_workplace_raid.start.scenario"),options:[{text:e("sim_workplace_raid.start.options.0.text"),consequence:e("sim_workplace_raid.start.options.0.consequence"),nextStep:"agent_approach",isCorrect:!0},{text:e("sim_workplace_raid.start.options.1.text"),consequence:e("sim_workplace_raid.start.options.1.consequence"),nextStep:"agent_approach"},{text:e("sim_workplace_raid.start.options.2.text"),consequence:e("sim_workplace_raid.start.options.2.consequence"),nextStep:"agent_approach"}]},agent_approach:{id:"agent_approach",scenario:e("sim_workplace_raid.agent_approach.scenario"),options:[{text:e("sim_workplace_raid.agent_approach.options.0.text"),consequence:e("sim_workplace_raid.agent_approach.options.0.consequence"),nextStep:"documentation_request",isCorrect:!0},{text:e("sim_workplace_raid.agent_approach.options.1.text"),consequence:e("sim_workplace_raid.agent_approach.options.1.consequence"),nextStep:"documentation_request"},{text:e("sim_workplace_raid.agent_approach.options.2.text"),consequence:e("sim_workplace_raid.agent_approach.options.2.consequence"),nextStep:"documentation_request"}]},documentation_request:{id:"documentation_request",scenario:e("sim_workplace_raid.documentation_request.scenario"),options:[{text:e("sim_workplace_raid.documentation_request.options.0.text"),consequence:e("sim_workplace_raid.documentation_request.options.0.consequence"),nextStep:"detention_status",isCorrect:!0},{text:e("sim_workplace_raid.documentation_request.options.1.text"),consequence:e("sim_workplace_raid.documentation_request.options.1.consequence"),nextStep:"detention_status"},{text:e("sim_workplace_raid.documentation_request.options.2.text"),consequence:e("sim_workplace_raid.documentation_request.options.2.consequence"),nextStep:"detention_status"}]},detention_status:{id:"detention_status",scenario:e("sim_workplace_raid.detention_status.scenario"),options:[{text:e("sim_workplace_raid.detention_status.options.0.text"),consequence:e("sim_workplace_raid.detention_status.options.0.consequence"),nextStep:"legal_rights",isCorrect:!0},{text:e("sim_workplace_raid.detention_status.options.1.text"),consequence:e("sim_workplace_raid.detention_status.options.1.consequence"),nextStep:"legal_rights"},{text:e("sim_workplace_raid.detention_status.options.2.text"),consequence:e("sim_workplace_raid.detention_status.options.2.consequence"),nextStep:"legal_rights"}]},legal_rights:{id:"legal_rights",scenario:e("sim_workplace_raid.legal_rights.scenario"),options:[{text:e("sim_workplace_raid.legal_rights.options.0.text"),consequence:e("sim_workplace_raid.legal_rights.options.0.consequence"),nextStep:"end",isCorrect:!0},{text:e("sim_workplace_raid.legal_rights.options.1.text"),consequence:e("sim_workplace_raid.legal_rights.options.1.consequence"),nextStep:"end"},{text:e("sim_workplace_raid.legal_rights.options.2.text"),consequence:e("sim_workplace_raid.legal_rights.options.2.consequence"),nextStep:"end"}]},end:{id:"end",scenario:e("sim_workplace_raid.end.scenario"),options:[]}}),WS=({onBack:e})=>{const{t}=oe(),n=P.useMemo(()=>OS(t),[t]),[i,o]=P.useState("start"),[s,a]=P.useState([]),u=d=>{a([...s,{step:n[i].scenario,choice:d.text,consequence:d.consequence}]),d.nextStep&&o(d.nextStep)},f=()=>{o("start"),a([])},c=n[i];return m.jsxs("div",{className:"max-w-2xl mx-auto p-4",children:[m.jsxs("button",{onClick:e,className:"flex items-center gap-2 mb-6 text-blue-400 hover:text-blue-300 transition-colors",children:[m.jsx(Ve,{}),t("simulations.back_to_simulators")]}),m.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[m.jsx("h2",{className:"text-2xl font-bold text-blue-300 mb-4",children:t("simulators.workplace_raid")}),i!=="end"&&m.jsxs("div",{className:"mb-6",children:[m.jsx("div",{className:"bg-gray-700 rounded-lg p-4 mb-4",children:m.jsx("p",{className:"text-gray-200 text-lg",children:c.scenario})}),m.jsx("div",{className:"space-y-3",children:c.options.map((d,p)=>m.jsx("button",{onClick:()=>u(d),className:"w-full text-left p-4 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-gray-200",children:d.text}),m.jsx(oi,{className:"w-5 h-5 text-gray-400"})]})},p))})]}),i==="end"&&m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-semibold text-green-400 mb-4",children:t("simulations.complete_title")}),m.jsx("div",{className:"space-y-4 mb-6",children:s.map((d,p)=>m.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[m.jsx("p",{className:"text-sm text-gray-400 mb-2",children:t("simulations.step",{count:p+1})}),m.jsxs("p",{className:"text-gray-200 mb-2",children:[m.jsxs("strong",{children:[t("simulations.scenario"),":"]})," ",d.step]}),m.jsxs("p",{className:"text-gray-200 mb-2",children:[m.jsxs("strong",{children:[t("simulations.your_choice"),":"]})," ",d.choice]}),m.jsxs("p",{className:"text-blue-300",children:[m.jsxs("strong",{children:[t("simulations.result"),":"]})," ",d.consequence]})]},p))}),m.jsx("button",{onClick:f,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition-colors",children:t("simulations.try_again")})]})]})]})},YS=e=>({start:{id:"start",scenario:e("sim_home_visit.start.scenario"),options:[{text:e("sim_home_visit.start.options.0.text"),consequence:e("sim_home_visit.start.options.0.consequence"),nextStep:"identify_officers",isCorrect:!0},{text:e("sim_home_visit.start.options.1.text"),consequence:e("sim_home_visit.start.options.1.consequence"),nextStep:"identify_officers"},{text:e("sim_home_visit.start.options.2.text"),consequence:e("sim_home_visit.start.options.2.consequence"),nextStep:"identify_officers"}]},identify_officers:{id:"identify_officers",scenario:e("sim_home_visit.identify_officers.scenario"),options:[{text:e("sim_home_visit.identify_officers.options.0.text"),consequence:e("sim_home_visit.identify_officers.options.0.consequence"),nextStep:"warrant_check",isCorrect:!0},{text:e("sim_home_visit.identify_officers.options.1.text"),consequence:e("sim_home_visit.identify_officers.options.1.consequence"),nextStep:"warrant_check"},{text:e("sim_home_visit.identify_officers.options.2.text"),consequence:e("sim_home_visit.identify_officers.options.2.consequence"),nextStep:"warrant_check"}]},warrant_check:{id:"warrant_check",scenario:e("sim_home_visit.warrant_check.scenario"),options:[{text:e("sim_home_visit.warrant_check.options.0.text"),consequence:e("sim_home_visit.warrant_check.options.0.consequence"),nextStep:"assert_rights",isCorrect:!0},{text:e("sim_home_visit.warrant_check.options.1.text"),consequence:e("sim_home_visit.warrant_check.options.1.consequence"),nextStep:"assert_rights"},{text:e("sim_home_visit.warrant_check.options.2.text"),consequence:e("sim_home_visit.warrant_check.options.2.consequence"),nextStep:"assert_rights"}]},assert_rights:{id:"assert_rights",scenario:e("sim_home_visit.assert_rights.scenario"),options:[{text:e("sim_home_visit.assert_rights.options.0.text"),consequence:e("sim_home_visit.assert_rights.options.0.consequence"),nextStep:"legal_counsel",isCorrect:!0},{text:e("sim_home_visit.assert_rights.options.1.text"),consequence:e("sim_home_visit.assert_rights.options.1.consequence"),nextStep:"legal_counsel"},{text:e("sim_home_visit.assert_rights.options.2.text"),consequence:e("sim_home_visit.assert_rights.options.2.consequence"),nextStep:"legal_counsel"}]},legal_counsel:{id:"legal_counsel",scenario:e("sim_home_visit.legal_counsel.scenario"),options:[{text:e("sim_home_visit.legal_counsel.options.0.text"),consequence:e("sim_home_visit.legal_counsel.options.0.consequence"),nextStep:"end",isCorrect:!0},{text:e("sim_home_visit.legal_counsel.options.1.text"),consequence:e("sim_home_visit.legal_counsel.options.1.consequence"),nextStep:"end"},{text:e("sim_home_visit.legal_counsel.options.2.text"),consequence:e("sim_home_visit.legal_counsel.options.2.consequence"),nextStep:"end"}]},end:{id:"end",scenario:e("sim_home_visit.end.scenario"),options:[]}}),KS=({onBack:e})=>{const{t}=oe(),n=P.useMemo(()=>YS(t),[t]),[i,o]=P.useState("start"),[s,a]=P.useState([]),u=d=>{a([...s,{step:n[i].scenario,choice:d.text,consequence:d.consequence}]),d.nextStep&&o(d.nextStep)},f=()=>{o("start"),a([])},c=n[i];return m.jsxs("div",{className:"max-w-2xl mx-auto p-4",children:[m.jsxs("button",{onClick:e,className:"flex items-center gap-2 mb-6 text-blue-400 hover:text-blue-300 transition-colors",children:[m.jsx(Ve,{}),t("simulations.back_to_simulators")]}),m.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[m.jsx("h2",{className:"text-2xl font-bold text-blue-300 mb-4",children:t("simulators.home_visit")}),i!=="end"&&m.jsxs("div",{className:"mb-6",children:[m.jsx("div",{className:"bg-gray-700 rounded-lg p-4 mb-4",children:m.jsx("p",{className:"text-gray-200 text-lg",children:c.scenario})}),m.jsx("div",{className:"space-y-3",children:c.options.map((d,p)=>m.jsx("button",{onClick:()=>u(d),className:"w-full text-left p-4 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-gray-200",children:d.text}),m.jsx(oi,{className:"w-5 h-5 text-gray-400"})]})},p))})]}),i==="end"&&m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-semibold text-green-400 mb-4",children:t("simulations.complete_title")}),m.jsx("div",{className:"space-y-4 mb-6",children:s.map((d,p)=>m.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[m.jsx("p",{className:"text-sm text-gray-400 mb-2",children:t("simulations.step",{count:p+1})}),m.jsxs("p",{className:"text-gray-200 mb-2",children:[m.jsxs("strong",{children:[t("simulations.scenario"),":"]})," ",d.step]}),m.jsxs("p",{className:"text-gray-200 mb-2",children:[m.jsxs("strong",{children:[t("simulations.your_choice"),":"]})," ",d.choice]}),m.jsxs("p",{className:"text-blue-300",children:[m.jsxs("strong",{children:[t("simulations.result"),":"]})," ",d.consequence]})]},p))}),m.jsx("button",{onClick:f,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition-colors",children:t("simulations.try_again")})]})]})]})},XS=e=>[{id:1,question:e("quiz.q1.question"),options:[e("quiz.q1.options.0"),e("quiz.q1.options.1"),e("quiz.q1.options.2"),e("quiz.q1.options.3")],correctAnswer:1,explanation:e("quiz.q1.explanation")},{id:2,question:e("quiz.q2.question"),options:[e("quiz.q2.options.0"),e("quiz.q2.options.1"),e("quiz.q2.options.2"),e("quiz.q2.options.3")],correctAnswer:1,explanation:e("quiz.q2.explanation")},{id:3,question:e("quiz.q3.question"),options:[e("quiz.q3.options.0"),e("quiz.q3.options.1"),e("quiz.q3.options.2"),e("quiz.q3.options.3")],correctAnswer:1,explanation:e("quiz.q3.explanation")},{id:4,question:e("quiz.q4.question"),options:[e("quiz.q4.options.0"),e("quiz.q4.options.1"),e("quiz.q4.options.2"),e("quiz.q4.options.3")],correctAnswer:1,explanation:e("quiz.q4.explanation")},{id:5,question:e("quiz.q5.question"),options:[e("quiz.q5.options.0"),e("quiz.q5.options.1"),e("quiz.q5.options.2"),e("quiz.q5.options.3")],correctAnswer:1,explanation:e("quiz.q5.explanation")},{id:6,question:e("quiz.q6.question"),options:[e("quiz.q6.options.0"),e("quiz.q6.options.1"),e("quiz.q6.options.2"),e("quiz.q6.options.3")],correctAnswer:1,explanation:e("quiz.q6.explanation")},{id:7,question:e("quiz.q7.question"),options:[e("quiz.q7.options.0"),e("quiz.q7.options.1"),e("quiz.q7.options.2"),e("quiz.q7.options.3")],correctAnswer:1,explanation:e("quiz.q7.explanation")},{id:8,question:e("quiz.q8.question"),options:[e("quiz.q8.options.0"),e("quiz.q8.options.1"),e("quiz.q8.options.2"),e("quiz.q8.options.3")],correctAnswer:1,explanation:e("quiz.q8.explanation")}],QS=({onBack:e})=>{const{t}=oe(),n=P.useMemo(()=>XS(t),[t]),[i,o]=P.useState(0),[s,a]=P.useState(null),[u,f]=P.useState(!1),[c,d]=P.useState(0),[p,h]=P.useState([]),g=T=>{a(T),f(!0);const v=T===n[i].correctAnswer;v&&d(c+1),h([...p,{question:n[i].question,selected:T,correct:n[i].correctAnswer,correctAnswer:v}])},y=()=>{i<n.length-1&&(o(i+1),a(null),f(!1))},C=()=>{o(0),a(null),f(!1),d(0),h([])},w=n[i],x=()=>c===n.length?t("quiz.result_perfect"):c>=n.length*.75?t("quiz.result_great"):t("quiz.result_good");return m.jsxs("div",{className:"max-w-2xl mx-auto p-4",children:[m.jsxs("button",{onClick:e,className:"flex items-center gap-2 mb-6 text-blue-400 hover:text-blue-300 transition-colors",children:[m.jsx(Ve,{}),t("simulations.back_to_simulators")]}),m.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[m.jsx("h2",{className:"text-2xl font-bold text-blue-300 mb-4",children:t("simulators.rights_quiz")}),i<n.length?m.jsxs("div",{children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("span",{className:"text-sm text-gray-400",children:t("quiz.question_of_total",{current:i+1,total:n.length})}),m.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mt-2",children:m.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${(i+1)/n.length*100}%`}})})]}),m.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 mb-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-4",children:w.question}),m.jsx("div",{className:"space-y-3",children:w.options.map((T,v)=>m.jsx("button",{onClick:()=>!u&&g(v),disabled:u,className:`w-full text-left p-4 rounded-lg transition-colors ${u?v===w.correctAnswer?"bg-green-700 text-white":v===s&&v!==w.correctAnswer?"bg-red-700 text-white":"bg-gray-600 text-gray-400":"bg-gray-700 hover:bg-gray-600 text-gray-200"}`,children:T},v))})]}),u&&m.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 mb-4",children:[m.jsx("p",{className:`font-semibold mb-2 ${s===w.correctAnswer?"text-green-400":"text-red-400"}`,children:s===w.correctAnswer?t("quiz.correct"):t("quiz.incorrect")}),m.jsx("p",{className:"text-gray-300 text-sm",children:w.explanation})]}),u&&m.jsx("button",{onClick:y,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition-colors",children:i<n.length-1?t("quiz.next_question"):t("quiz.see_results")})]}):m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-semibold text-green-400 mb-4",children:t("quiz.complete_title")}),m.jsxs("div",{className:"text-center mb-6",children:[m.jsxs("p",{className:"text-3xl font-bold text-blue-300 mb-2",children:[c,"/",n.length]}),m.jsx("p",{className:"text-gray-300",children:x()})]}),m.jsx("div",{className:"space-y-4 mb-6",children:p.map((T,v)=>m.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[m.jsx("p",{className:"text-sm text-gray-400 mb-2",children:t("quiz.question_number",{number:v+1})}),m.jsx("p",{className:"text-gray-200 mb-2",children:T.question}),m.jsx("p",{className:`text-sm ${T.correctAnswer?"text-green-400":"text-red-400"}`,children:T.correctAnswer?t("quiz.correct_answer"):t("quiz.incorrect_answer")})]},v))}),m.jsx("button",{onClick:C,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition-colors",children:t("quiz.retake_quiz")})]})]})]})},uw=()=>{const{t:e}=oe(),[t,n]=P.useState(null),[i,o]=P.useState("topics"),[s,a]=P.useState(null),u=C=>{n(C),o("content")},f=()=>{n(null),o("topics")},c=C=>{a(C),o("simulation")},d=()=>{a(null),o("topics")},p=P.useMemo(()=>t?Cx(e)[t]||e("know_your_rights_screen.content_not_found"):null,[t,e]),h=()=>{switch(s){case"traffic_stop_sim":return m.jsx(JS,{onBack:d});case"workplace_raid_sim":return m.jsx(WS,{onBack:d});case"home_visit_sim":return m.jsx(KS,{onBack:d});case"rights_quiz":return m.jsx(QS,{onBack:d});default:return null}},g=()=>{const C=P.useMemo(()=>Oa(e),[e]),w=P.useMemo(()=>Wa(e),[e]);return m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-bold text-center text-blue-300 mb-8",children:e("know_your_rights_screen.title")}),m.jsxs("div",{className:"mb-12",children:[m.jsx("h2",{className:"text-3xl font-bold text-center text-purple-400 mb-6",children:e("know_your_rights_screen.educational_topics_title")}),m.jsx("p",{className:"text-lg text-center text-gray-300 mb-8",children:e("know_your_rights_screen.educational_topics_subtitle")}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:C.map(x=>m.jsx("button",{onClick:()=>u(x.id),className:"bg-indigo-900/50 hover:bg-indigo-800/60 text-gray-200 rounded-lg p-6 shadow-lg transition-all duration-300 ease-in-out transform hover:-translate-y-1 border border-indigo-700",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"text-purple-400 mr-4 flex-shrink-0",children:x.icon}),m.jsx("span",{className:"text-lg font-semibold text-left",children:x.title})]})},x.id))})]}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-3xl font-bold text-center text-purple-400",children:e("know_your_rights_screen.scenario_simulator_title")}),m.jsx("p",{className:"mt-4 text-lg text-center text-gray-300",children:e("know_your_rights_screen.scenario_simulator_subtitle")}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-10",children:w.map(x=>m.jsx("button",{onClick:()=>c(x.id),className:"bg-indigo-900/50 hover:bg-indigo-800/60 text-gray-200 rounded-lg p-6 shadow-lg transition-all duration-300 ease-in-out transform hover:-translate-y-1 border border-indigo-700",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"text-purple-400 mr-4 flex-shrink-0",children:x.icon}),m.jsx("span",{className:"text-lg font-semibold text-left",children:x.title})]})},x.id))})]})]})},y=()=>m.jsxs("div",{children:[m.jsxs("button",{onClick:f,className:"flex items-center gap-2 mb-6 text-blue-400 hover:text-blue-300 transition-colors",children:[m.jsx(Ve,{}),e("know_your_rights_screen.back_to_topics")]}),p?m.jsx("div",{className:"bg-gray-800 p-6 rounded-lg",children:m.jsx(Jl,{content:p})}):m.jsx("div",{className:"bg-red-900 border border-red-500 text-red-200 px-4 py-3 rounded-lg",role:"alert",children:e("know_your_rights_screen.content_not_found")})]});return m.jsxs("div",{className:"max-w-4xl mx-auto",children:[i==="topics"&&m.jsx(g,{}),i==="content"&&m.jsx(y,{}),i==="simulation"&&h()]})},Mn=({icon:e,label:t,onClick:n})=>{const{t:i}=oe();return m.jsxs("button",{onClick:n,className:"bg-gray-700 hover:bg-gray-600 text-white rounded-lg p-4 shadow-md transition-all duration-300 ease-in-out transform hover:-translate-y-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75","aria-label":i("recording_button.aria_label",{label:t}),children:[m.jsx("div",{className:"w-full h-16 flex items-center justify-center",children:e}),m.jsx("span",{className:"block text-center text-sm font-semibold mt-2",children:t})]})},ZS=({mediaType:e,onClose:t,onSave:n,autoStart:i=!1})=>{const{t:o}=oe(),[s,a]=P.useState(i&&(e==="audio"||e==="video")),[u,f]=P.useState(!1),[c,d]=P.useState(0),p=P.useRef(null);P.useEffect(()=>(s?p.current=window.setInterval(()=>{d(v=>v+1)},1e3):p.current&&clearInterval(p.current),()=>{p.current&&clearInterval(p.current)}),[s]);const h=()=>{e==="video"||e==="audio"?s?(a(!1),f(!0)):(d(0),a(!0)):f(!0)},g=()=>{const v={video:o("camera_view.video_evidence"),audio:o("camera_view.audio_evidence"),photo:o("camera_view.photo_evidence")},A={id:new Date().toISOString(),mediaType:e,timestamp:new Date().toISOString(),incidentType:i?o("camera_view.emergency_audio_recording"):v[e],notes:""};n(A)},y=()=>{f(!1),d(0),i?t():a(!1)},C=v=>{const A=Math.floor(v/60).toString().padStart(2,"0"),N=(v%60).toString().padStart(2,"0");return`${A}:${N}`},w=()=>m.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 p-4 flex justify-around items-center",children:[m.jsx("button",{onClick:t,className:"text-white text-lg font-semibold px-4 py-2 rounded-lg hover:bg-white/10",children:o("common.cancel")}),m.jsx("button",{onClick:h,className:"w-20 h-20 rounded-full border-4 border-white flex items-center justify-center transition-colors","aria-label":s?o("camera_view.stop_recording_aria"):o("camera_view.capture_aria",{mediaType:e}),children:(e==="video"||e==="audio")&&s?m.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-md"}):m.jsx("div",{className:"w-16 h-16 bg-white rounded-full transition-transform active:scale-90"})}),m.jsxs("div",{className:"w-24",children:[" "," "]})]}),x=()=>m.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-70 p-4 flex justify-around items-center",children:[m.jsx("button",{onClick:y,className:"bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-8 rounded-lg transition-colors",children:o("common.discard")}),m.jsx("button",{onClick:g,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-10 rounded-lg transition-colors",children:o("common.save")})]}),T=()=>u?m.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-black",children:[m.jsx("p",{className:"text-2xl text-white font-semibold",children:o("camera_view.preview")}),m.jsxs("div",{className:"my-6 text-gray-300",children:[e==="video"&&m.jsx(Zt,{className:"w-24 h-24"}),e==="photo"&&m.jsx(jt,{className:"w-24 h-24"}),e==="audio"&&m.jsx(_t,{className:"w-24 h-24"})]}),(e==="video"||e==="audio")&&m.jsx("p",{className:"text-white text-lg",children:o("camera_view.duration",{duration:C(c)})})]}):e==="audio"?m.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-gray-800",children:[m.jsx(_t,{className:`w-32 h-32 text-blue-400 ${s?"animate-pulse":""}`}),s&&m.jsx("p",{className:"text-white text-4xl font-mono mt-8",children:C(c)}),m.jsx("p",{className:"text-gray-300 mt-4 text-xl",children:o(s?"camera_view.recording_audio":"camera_view.ready_to_record")})]}):m.jsxs("div",{className:"w-full h-full flex items-center justify-center bg-black text-white text-2xl",children:[m.jsx("p",{className:"opacity-50",children:o("camera_view.placeholder")}),s&&m.jsxs("div",{className:"absolute top-4 left-4 bg-red-600/80 text-white px-3 py-1 rounded-lg flex items-center gap-2 backdrop-blur-sm",children:[m.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-pulse"}),m.jsx("span",{className:"font-mono",children:C(c)})]})]});return m.jsxs("div",{className:"fixed inset-0 z-50 bg-black flex flex-col",role:"dialog","aria-modal":"true",children:[m.jsx("div",{className:"flex-1 relative",children:m.jsx(T,{})}),u?m.jsx(x,{}):m.jsx(w,{})]})},jS=({evidence:e,onClose:t,onDelete:n,onUpdate:i})=>{const{t:o}=oe(),[s,a]=P.useState(!1),[u,f]=P.useState(e.incidentType),[c,d]=P.useState(e.notes||""),[p,h]=P.useState(!1);P.useEffect(()=>{f(e.incidentType),d(e.notes||""),a(!1),h(!1)},[e]);const g=()=>{i(e.id,{incidentType:u,notes:c}),a(!1)},y=()=>{f(e.incidentType),d(e.notes||""),a(!1)},C=()=>{n(e.id)},w=T=>{switch(e.mediaType){case"video":return m.jsx(Zt,{className:T});case"audio":return m.jsx(_t,{className:T});case"photo":return m.jsx(jt,{className:T});default:return null}},x=T=>new Date(T).toLocaleString(void 0,{dateStyle:"full",timeStyle:"long"});return m.jsx("div",{className:"fixed inset-0 z-50 bg-gray-900/80 backdrop-blur-sm flex items-center justify-center p-4",onClick:t,role:"dialog","aria-modal":"true",children:m.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl p-6 w-full max-w-lg max-h-[90vh] flex flex-col",onClick:T=>T.stopPropagation(),children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-blue-400",children:o("evidence_modal.title")}),m.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white",children:"Ã—"})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 space-y-6",children:[m.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-700/50 rounded-lg",children:[w("w-12 h-12 text-blue-300 flex-shrink-0"),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-400 capitalize",children:o("evidence_modal.recording_type",{type:e.mediaType})}),m.jsx("p",{className:"font-semibold text-gray-200",children:x(e.timestamp)})]})]}),m.jsxs("div",{className:"bg-black/20 w-full aspect-video rounded-lg flex items-center justify-center text-gray-500",children:[w("w-24 h-24"),m.jsx("p",{className:"absolute text-white/80 text-lg font-semibold",children:o("evidence_modal.media_placeholder")})]}),m.jsx("div",{children:s?m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"incidentType",className:"block text-sm font-medium text-gray-300 mb-1",children:o("evidence_modal.title_label")}),m.jsx("input",{type:"text",id:"incidentType",value:u,onChange:T=>f(T.target.value),className:"w-full bg-gray-700 border border-gray-600 text-white placeholder-gray-400 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-300 mb-1",children:o("evidence_modal.notes_label")}),m.jsx("textarea",{id:"notes",value:c,onChange:T=>d(T.target.value),rows:4,placeholder:o("evidence_modal.notes_placeholder"),className:"w-full bg-gray-700 border border-gray-600 text-white placeholder-gray-400 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5"})]})]}):m.jsxs("div",{className:"space-y-3",children:[m.jsx("div",{children:m.jsxs("h3",{className:"text-xl font-bold text-gray-100 flex items-center gap-2",children:[u,m.jsx("button",{onClick:()=>a(!0),className:"text-blue-400 hover:text-blue-300","aria-label":o("evidence_modal.edit_aria_label"),children:m.jsx(Ba,{className:"w-5 h-5"})})]})}),c?m.jsx("p",{className:"text-gray-300 whitespace-pre-wrap bg-gray-900/50 p-3 rounded-md",children:c}):m.jsx("p",{className:"text-gray-500 italic",children:o("evidence_modal.no_notes")})]})})]}),m.jsx("div",{className:"mt-6 pt-4 border-t border-gray-700",children:s?m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx("button",{onClick:y,className:"bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:o("common.cancel")}),m.jsx("button",{onClick:g,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:o("common.save_changes")})]}):p?m.jsxs("div",{className:"bg-red-900/50 border border-red-500 p-3 rounded-lg text-center",children:[m.jsx("p",{className:"text-red-300 mb-3",children:o("evidence_modal.delete_confirm_message")}),m.jsxs("div",{className:"flex justify-center gap-4",children:[m.jsx("button",{onClick:()=>h(!1),className:"bg-gray-600 hover:bg-gray-500 text-white font-semibold py-2 px-6 rounded-lg",children:o("common.cancel")}),m.jsx("button",{onClick:C,className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-6 rounded-lg",children:o("common.delete")})]})]}):m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 text-red-500 hover:text-red-400 font-semibold px-3 py-2 rounded-lg hover:bg-red-900/20 transition-colors",children:[m.jsx(ss,{}),o("evidence_modal.delete_button")]}),m.jsx("button",{onClick:t,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg transition-colors",children:o("common.close")})]})})]})})},ew=e=>({video:{title:e("doc_screen.guidance.video.title"),tips:[e("doc_screen.guidance.video.tip1"),e("doc_screen.guidance.video.tip2"),e("doc_screen.guidance.video.tip3"),e("doc_screen.guidance.video.tip4"),e("doc_screen.guidance.video.tip5")],legal:e("doc_screen.guidance.video.legal")},audio:{title:e("doc_screen.guidance.audio.title"),tips:[e("doc_screen.guidance.audio.tip1"),e("doc_screen.guidance.audio.tip2"),e("doc_screen.guidance.audio.tip3"),e("doc_screen.guidance.audio.tip4")],legal:e("doc_screen.guidance.audio.legal")},photo:{title:e("doc_screen.guidance.photo.title"),tips:[e("doc_screen.guidance.photo.tip1"),e("doc_screen.guidance.photo.tip2"),e("doc_screen.guidance.photo.tip3"),e("doc_screen.guidance.photo.tip4")],legal:e("doc_screen.guidance.photo.legal")}}),cw=({evidence:e,onAddEvidence:t,onDeleteEvidence:n,onUpdateEvidence:i})=>{const{t:o}=oe(),[s,a]=P.useState({isOpen:!1,mediaType:null}),[u,f]=P.useState(null),c=y=>{a({isOpen:!0,mediaType:y})},d=()=>{a({isOpen:!1,mediaType:null})},p=y=>{t(y),d()},h=y=>{n(y),f(null)},g=({type:y})=>{const w=P.useMemo(()=>ew(o),[o])[y];return m.jsxs("div",{className:"bg-blue-900/20 border border-blue-500 rounded-lg p-4 mb-4",children:[m.jsx("h4",{className:"text-blue-400 font-bold mb-2",children:w.title}),m.jsx("ul",{className:"text-sm text-gray-300 space-y-1",children:w.tips.map((x,T)=>m.jsxs("li",{className:"flex items-start",children:[m.jsx("span",{className:"text-blue-400 mr-2",children:"ðŸ’¡"}),x]},T))}),m.jsx("p",{className:"text-xs text-blue-300 mt-2 italic",children:w.legal})]})};return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-100",children:o("doc_screen.title")}),m.jsx("p",{className:"mt-1 text-gray-400",children:o("doc_screen.description")})]}),m.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 shadow-lg",children:[m.jsx("h2",{className:"text-lg font-semibold text-blue-400 mb-4",children:o("doc_screen.guidelines_title")}),m.jsx(g,{type:"video"}),m.jsx(g,{type:"audio"}),m.jsx(g,{type:"photo"}),m.jsx("h2",{className:"text-lg font-semibold text-blue-400 mb-4",children:o("doc_screen.start_recording_title")}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[m.jsx(Mn,{icon:m.jsx(Zt,{className:"w-10 h-10 mx-auto"}),label:o("doc_screen.record_video_button"),onClick:()=>c("video")}),m.jsx(Mn,{icon:m.jsx(_t,{className:"w-10 h-10 mx-auto"}),label:o("doc_screen.record_audio_button"),onClick:()=>c("audio")}),m.jsx(Mn,{icon:m.jsx(jt,{className:"w-10 h-10 mx-auto"}),label:o("doc_screen.take_photo_button"),onClick:()=>c("photo")})]})]}),m.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 shadow-lg",children:[m.jsx("h2",{className:"text-lg font-semibold text-blue-400 mb-4",children:o("doc_screen.recent_evidence_title")}),e.length>0?m.jsx("ul",{className:"space-y-3",children:e.map(y=>m.jsx(Vs,{evidence:y,onSelect:()=>f(y)},y.id))}):m.jsxs("div",{className:"text-center py-8 text-gray-500",children:[m.jsx("p",{children:o("doc_screen.no_evidence")}),m.jsx("p",{className:"text-sm",children:o("doc_screen.recordings_appear_here")})]})]})]}),s.isOpen&&s.mediaType&&m.jsx(ZS,{mediaType:s.mediaType,onClose:d,onSave:p}),u&&m.jsx(jS,{evidence:u,onClose:()=>f(null),onDelete:h,onUpdate:i})]})},tw=e=>[{category:e("resources.categories.legal_help.title"),items:[{name:e("resources.categories.legal_help.items.0.name"),phone:"1-212-679-5100",website:"nlg.org",description:e("resources.categories.legal_help.items.0.description")},{name:e("resources.categories.legal_help.items.1.name"),phone:"1-212-549-2500",website:"aclu.org",description:e("resources.categories.legal_help.items.1.description")},{name:e("resources.categories.legal_help.items.2.name"),phone:"1-504-827-4956",website:"nlg-npap.org",description:e("resources.categories.legal_help.items.2.description")}]},{category:e("resources.categories.immigration.title"),items:[{name:e("resources.categories.immigration.items.0.name"),phone:"1-844-363-1423",website:"immigrationadvocates.org",description:e("resources.categories.immigration.items.0.description")},{name:e("resources.categories.immigration.items.1.name"),phone:"1-855-448-3923",website:"unitedwedream.org",description:e("resources.categories.immigration.items.1.description")},{name:e("resources.categories.immigration.items.2.name"),phone:"1-213-639-3900",website:"nilc.org",description:e("resources.categories.immigration.items.2.description")}]},{category:e("resources.categories.bail_funds.title"),items:[{name:e("resources.categories.bail_funds.items.0.name"),phone:"1-800-898-0692",website:"nationalbailout.org",description:e("resources.categories.bail_funds.items.0.description")},{name:e("resources.categories.bail_funds.items.1.name"),phone:"1-310-940-4186",website:"bailproject.org",description:e("resources.categories.bail_funds.items.1.description")},{name:e("resources.categories.bail_funds.items.2.name"),website:"communityjusticeexchange.org",description:e("resources.categories.bail_funds.items.2.description")}]},{category:e("resources.categories.mental_health.title"),items:[{name:e("resources.categories.mental_health.items.0.name"),phone:"Text HOME to 741741",website:"crisistextline.org",description:e("resources.categories.mental_health.items.0.description")},{name:e("resources.categories.mental_health.items.1.name"),phone:"988",website:"988lifeline.org",description:e("resources.categories.mental_health.items.1.description")},{name:e("resources.categories.mental_health.items.2.name"),website:"beam.community",description:e("resources.categories.mental_health.items.2.description")}]}],nw=e=>e("documentation.content"),fw=()=>{const{t:e}=oe(),[t,n]=P.useState("index");if(t==="docs")return m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsxs("button",{onClick:()=>n("index"),className:"flex items-center gap-2 mb-6 text-blue-400 hover:text-blue-300 transition-colors font-semibold",children:[m.jsx(Ve,{}),e("guide_screen.back_to_guide")]}),m.jsx("div",{className:"bg-gray-800 p-6 rounded-lg",children:m.jsx(Jl,{content:nw(e)})})]});if(t==="resources"){const i=tw(e);return m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsxs("button",{onClick:()=>n("index"),className:"flex items-center gap-2 mb-6 text-blue-400 hover:text-blue-300 transition-colors font-semibold",children:[m.jsx(Ve,{}),e("guide_screen.back_to_guide")]}),m.jsx("div",{className:"space-y-6",children:i.map(o=>m.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[m.jsx("h3",{className:"text-xl font-bold text-blue-400 mb-4",children:o.category}),m.jsx("div",{className:"space-y-4",children:o.items.map((s,a)=>m.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[m.jsx("h4",{className:"font-semibold text-white",children:s.name}),m.jsx("p",{className:"text-sm text-gray-300 mb-2",children:s.description}),s.phone&&m.jsxs("a",{href:`tel:${s.phone}`,className:"inline-flex items-center gap-1 text-blue-400 hover:text-blue-300 text-sm mr-4",children:[m.jsx(Da,{className:"w-4 h-4"}),s.phone]}),s.website&&m.jsxs("a",{href:`https://${s.website}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-blue-400 hover:text-blue-300 text-sm",children:[m.jsx($a,{className:"w-4 h-4"}),s.website]})]},a))})]},o.category))})]})}return m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-100 mb-8",children:e("guide_screen.title")}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("button",{onClick:()=>n("docs"),className:"bg-gray-800 p-6 rounded-lg hover:bg-gray-700 transition-colors text-left",children:[m.jsx(za,{className:"w-12 h-12 text-blue-400 mb-4"}),m.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:e("guide_screen.docs_button_title")}),m.jsx("p",{className:"text-gray-400",children:e("guide_screen.docs_button_description")})]}),m.jsxs("button",{onClick:()=>n("resources"),className:"bg-gray-800 p-6 rounded-lg hover:bg-gray-700 transition-colors text-left",children:[m.jsx(rs,{className:"w-12 h-12 text-green-400 mb-4"}),m.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:e("guide_screen.resources_button_title")}),m.jsx("p",{className:"text-gray-400",children:e("guide_screen.resources_button_description")})]})]}),m.jsxs("div",{className:"mt-8 bg-gray-800 rounded-lg p-6",children:[m.jsx("h3",{className:"text-xl font-bold text-yellow-400 mb-4",children:e("guide_screen.legal_notice_title")}),m.jsx("p",{className:"text-gray-300 mb-4",children:e("guide_screen.legal_notice_body")}),m.jsx("div",{className:"text-gray-500 text-sm pt-3 border-t border-gray-700",children:m.jsx("p",{children:m.jsxs(Qt,{i18nKey:"guide_screen.developed_by_notice",children:["Firewatch was developed with advanced AI assistance by"," ",m.jsx("a",{href:"https://www.interwoven-arkitech.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 underline",children:"Interwoven Arkitech"})," ","to ensure robust, reliable civil rights protection tools."]})})})]})]})},dw=()=>{const{t:e,i18n:t}=oe(),{settings:n,saveSettings:i}=pi(),[o,s]=P.useState(n.fallbackLocation),[a,u]=P.useState(n.emergencyContacts),[f,c]=P.useState(n.geminiApiKey||""),[d,p]=P.useState(n.geminiModel||"gemini-1.5-flash-latest"),[h,g]=P.useState(""),y=[{code:"en",name:"English"},{code:"ar",name:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Arabic)"},{code:"zh-CN",name:"ç®€ä½“ä¸­æ–‡ (Simplified Chinese)"},{code:"fr",name:"FranÃ§ais (French)"},{code:"de",name:"Deutsch (German)"},{code:"ht",name:"KreyÃ²l ayisyen (Haitian Creole)"},{code:"hi",name:"à¤¹à¤¿à¤¨à¥à¤¦à¥€ (Hindi)"},{code:"ja",name:"æ—¥æœ¬èªž (Japanese)"},{code:"ko",name:"í•œêµ­ì–´ (Korean)"},{code:"pt",name:"PortuguÃªs (Portuguese)"},{code:"ru",name:"Ð ÑƒÑÑÐºÐ¸Ð¹ (Russian)"},{code:"es",name:"EspaÃ±ol (Spanish)"},{code:"tl",name:"Tagalog"},{code:"vi",name:"Tiáº¿ng Viá»‡t (Vietnamese)"}],C=S=>{t.changeLanguage(S.target.value)},w=[{value:"gemini-1.5-flash-latest",label:"Gemini 1.5 Flash (Recommended)"},{value:"gemini-1.5-pro-latest",label:"Gemini 1.5 Pro"}],x=S=>{s({...o,[S.target.name]:S.target.value})},T=(S,b,q)=>{const R=[...a];R[S]={...R[S],[b]:q},u(R)},v=()=>{a.length<5&&u([...a,{name:"",phone:""}])},A=S=>{const b=a.filter((q,R)=>R!==S);u(b)},N=S=>{S.preventDefault();const b=a.filter(q=>q.name.trim()!==""&&q.phone.trim()!=="");i({fallbackLocation:o,emergencyContacts:b,geminiApiKey:f.trim(),geminiModel:d}),g("Settings saved successfully!"),setTimeout(()=>g(""),3e3)};return m.jsxs("div",{className:"space-y-8 max-w-4xl mx-auto",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-bold text-center text-blue-400",children:e("settings_title")}),m.jsx("p",{className:"mt-4 text-lg text-center text-gray-300",children:e("settings_description")})]}),m.jsxs("form",{onSubmit:N,className:"space-y-8",children:[m.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 shadow-lg",children:[m.jsx("h2",{className:"text-xl font-semibold text-blue-400 mb-2",children:e("language_preference_title")}),m.jsx("p",{className:"text-gray-400 text-sm mb-4",children:e("language_preference_description")}),m.jsx("select",{value:t.language,onChange:C,className:"w-full bg-gray-700 border border-gray-600 text-white text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5","aria-label":"Select language preference",children:y.map(S=>m.jsx("option",{value:S.code,children:S.name},S.code))}),m.jsx("p",{className:"text-xs text-gray-500 mt-2",children:e("language_preference_note")})]}),m.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 shadow-lg",children:[m.jsx("h2",{className:"text-xl font-semibold text-blue-400 mb-2",children:e("fallback_location_title")}),m.jsx("p",{className:"text-gray-400 text-sm mb-4",children:e("fallback_location_description")}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-5 gap-4",children:[m.jsxs("div",{className:"sm:col-span-2",children:[m.jsx("label",{htmlFor:"city",className:"block mb-2 text-sm font-medium text-gray-300",children:e("city_label")}),m.jsx("input",{type:"text",id:"city",name:"city",value:o.city,onChange:x,className:"bg-gray-700 border border-gray-600 text-white placeholder-gray-400 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"state",className:"block mb-2 text-sm font-medium text-gray-300",children:e("state_label")}),m.jsx("input",{type:"text",id:"state",name:"state",value:o.state,onChange:x,className:"bg-gray-700 border border-gray-600 text-white placeholder-gray-400 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"})]}),m.jsxs("div",{className:"sm:col-span-2",children:[m.jsx("label",{htmlFor:"zip",className:"block mb-2 text-sm font-medium text-gray-300",children:e("zip_code_label")}),m.jsx("input",{type:"text",id:"zip",name:"zip",value:o.zip,onChange:x,inputMode:"numeric",className:"bg-gray-700 border border-gray-600 text-white placeholder-gray-400 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"})]})]})]}),m.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 shadow-lg",children:[m.jsx("h2",{className:"text-xl font-semibold text-blue-400 mb-2",children:e("ai_config_title")}),m.jsx("p",{className:"text-gray-400 text-sm mb-4",children:e("ai_config_description")}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"gemini-api-key",className:"block text-sm font-medium text-gray-700 mb-1",children:e("gemini_api_key_label")}),m.jsx("input",{type:"password",id:"gemini-api-key",value:f,onChange:S=>c(S.target.value),placeholder:e("gemini_api_key_placeholder"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"}),m.jsx("p",{className:"mt-2 text-xs text-gray-500",children:e("gemini_api_key_note")})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"gemini-model",className:"block text-sm font-medium text-gray-700 mb-1",children:e("ai_model_label")}),m.jsx("select",{id:"gemini-model",value:d,onChange:S=>p(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",children:w.map(S=>m.jsx("option",{value:S.value,children:S.label},S.value))})]})]})]}),m.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 shadow-lg",children:[m.jsx("h2",{className:"text-xl font-semibold text-blue-400 mb-2",children:e("emergency_contacts_title")}),m.jsx("p",{className:"text-gray-400 text-sm mb-4",children:e("emergency_contacts_description")}),m.jsxs("div",{className:"space-y-4",children:[a.map((S,b)=>m.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3 p-3 bg-gray-900/50 rounded-lg",children:[m.jsx("input",{type:"text",placeholder:e("contact_name_placeholder"),value:S.name,onChange:q=>T(b,"name",q.target.value),className:"bg-gray-700 border border-gray-600 text-white placeholder-gray-400 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",required:!0}),m.jsx("input",{type:"tel",placeholder:e("contact_phone_placeholder"),value:S.phone,onChange:q=>T(b,"phone",q.target.value),className:"bg-gray-700 border border-gray-600 text-white placeholder-gray-400 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",required:!0}),m.jsx("button",{type:"button",onClick:()=>A(b),className:"p-2 text-gray-400 hover:text-red-500 transition-colors rounded-full hover:bg-gray-700 flex-shrink-0","aria-label":"Remove contact",children:m.jsx(ss,{className:"w-6 h-6"})})]},b)),a.length<5&&m.jsx("button",{type:"button",onClick:v,className:"w-full text-blue-400 hover:text-blue-300 border-2 border-dashed border-gray-600 hover:border-gray-500 rounded-lg p-3 transition-colors",children:e("add_contact_button")})]})]}),m.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 shadow-lg",children:[m.jsx("h2",{className:"text-xl font-semibold text-blue-400 mb-2",children:e("about_title")}),m.jsx("p",{className:"text-gray-400 text-sm mb-4",children:e("about_description")}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("a",{href:"https://github.com/severian42/Firewatch",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 flex items-center gap-2",children:[m.jsx(Ga,{className:"w-5 h-5"}),e("github_repository_link")]}),m.jsx("div",{className:"text-gray-500 text-sm",children:m.jsxs("p",{children:[e("developed_by_text")," ",m.jsx("a",{href:"https://www.interwoven-arkitech.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 underline",children:"Interwoven Arkitech"})," ",e("developer_tagline")]})})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:e("privacy_security_title")}),m.jsx("div",{className:"space-y-4 text-sm text-gray-600",children:m.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[m.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:e("privacy_secure_data_title")}),m.jsxs("ul",{className:"space-y-1 text-blue-800",children:[m.jsx("li",{children:e("privacy_item_1")}),m.jsx("li",{children:e("privacy_item_2")}),m.jsx("li",{children:e("privacy_item_3")}),m.jsx("li",{children:e("privacy_item_4")})]})]})})]}),m.jsxs("div",{className:"flex justify-center items-center gap-4",children:[m.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg transition-colors",children:e("save_settings_button")}),h&&m.jsx("p",{className:"text-green-400 transition-opacity duration-300",children:e("settings_saved_message")})]})]}),m.jsx("div",{className:"flex justify-center mt-10",children:m.jsx("a",{href:"https://ko-fi.com/N4N4XZ2TZ",target:"_blank",rel:"noopener noreferrer",children:m.jsx("img",{src:"https://ko-fi.com/img/githubbutton_sm.svg",alt:"Support me on Ko-fi"})})})]})};export{aw as A,ZS as C,cw as D,Ga as G,lw as H,uw as K,ow as R,Dn as S,fx as a,pi as b,dw as c,fw as d,sw as g,rw as i,m as j,P as r,oe as u};
